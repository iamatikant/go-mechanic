{"ast":null,"code":"import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { cloneElement, useEffect, useState, forwardRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport { readableColor, rgba } from 'polished';\nimport { defaultThemeProp } from '../../theme';\nimport Flex from '../Flex';\nimport Actions from '../Actions';\nimport { useConsolidatedRef, useI18n, useTestIds, useUID } from '../../hooks';\nimport Label, { StyledLabel } from '../Label';\nimport { calculateFontSize, getHoverColors } from '../../styles';\nimport VisuallyHiddenText from '../VisuallyHiddenText';\nimport { getFocusables, tryCatch } from '../../utils';\nimport Button from '../Button';\nimport Icon, { registerIcon } from '../Icon';\nimport * as warnSolidIcon from '../Icon/icons/warn-solid.icon';\nimport * as flagWaveSolidIcon from '../Icon/icons/flag-wave-solid.icon';\nimport * as checkIcon from '../Icon/icons/check.icon';\nimport AdditionalInfo from '../AdditionalInfo';\nimport { getFormFieldTestIds } from './FormField.test-ids';\nregisterIcon(warnSolidIcon, flagWaveSolidIcon, checkIcon);\nconst StyledStatusIcon = styled(Icon)(_ref => {\n  let {\n    theme,\n    status\n  } = _ref;\n  return css`\n      height: 1em;\n      width: 1em;\n      color: ${theme.components['form-field'][status]['status-color']};\n      vertical-align: baseline;\n      margin-inline-end: 0.5ch;\n    `;\n});\nStyledStatusIcon.defaultProps = defaultThemeProp;\nexport const StyledFormFieldInfo = styled.div(_ref2 => {\n  let {\n    status,\n    theme: {\n      base: {\n        'font-size': fontSize,\n        'font-scale': fontScale,\n        spacing\n      },\n      components: {\n        'form-field': formField\n      }\n    }\n  } = _ref2;\n  const {\n    xxs: infoFontSize\n  } = calculateFontSize(fontSize, fontScale);\n  return css`\n      max-width: max-content;\n      margin-top: calc(0.25 * ${spacing});\n      font-size: ${infoFontSize};\n      word-break: break-word;\n      ${status && formField[status] && css`\n        color: ${formField[status]['status-color']};\n      `}\n    `;\n});\nStyledFormFieldInfo.defaultProps = defaultThemeProp;\nconst StyledLabelRow = styled.div``;\nexport const StyledFormField = styled.div(props => {\n  const {\n    disabled,\n    required,\n    theme: {\n      base: {\n        palette: {\n          urgent\n        },\n        'disabled-opacity': disabledOpacity,\n        spacing\n      }\n    }\n  } = props;\n  return css`\n    ${disabled && css`\n      opacity: ${disabledOpacity};\n      -webkit-user-select: none;\n      user-select: none;\n    `}\n    position: relative;\n    border: 0;\n\n    > ${StyledLabel}, > ${StyledLabelRow} {\n      margin-bottom: calc(0.25 * ${spacing});\n    }\n\n    > ${StyledLabel}, > ${StyledLabelRow} > ${StyledLabel} {\n      &::after {\n        display: ${required ? 'inline' : 'none'};\n        content: '\\\\00a0*';\n        vertical-align: top;\n        color: ${urgent};\n      }\n\n      ${disabled && css`\n        cursor: not-allowed;\n      `}\n    }\n  `;\n});\nStyledFormField.defaultProps = defaultThemeProp;\nconst StyledSuggestionButton = styled(Button)(_ref3 => {\n  let {\n    theme: {\n      base: {\n        'font-size': fontSize,\n        'font-scale': fontScale,\n        'border-radius': baseRadius,\n        spacing\n      },\n      components: {\n        'form-control': {\n          'border-radius': radius,\n          'border-width': borderWidth\n        },\n        'form-field': formField\n      }\n    }\n  } = _ref3;\n  const {\n    xxs: buttonFontSize\n  } = calculateFontSize(fontSize, fontScale);\n  const backgroundColor = formField.pending['status-color'];\n  const hoverColors = getHoverColors(backgroundColor);\n  const color = tryCatch(() => readableColor(backgroundColor));\n  const borderColor = color ? rgba(color, 0.4) : color;\n  return css`\n      background-color: ${backgroundColor};\n      color: ${color};\n      font-size: ${buttonFontSize};\n      min-width: calc(3 * ${spacing});\n      min-height: calc(3 * ${spacing});\n      padding: 0 ${spacing};\n      border-radius: 0;\n      border: none;\n      &:first-child {\n        border-inline-end: ${borderWidth} solid ${borderColor};\n        border-end-start-radius: calc(${baseRadius} * ${radius});\n        margin-inline-start: calc(2 * ${spacing});\n      }\n      &:last-child {\n        border-end-end-radius: calc(${baseRadius} * ${radius});\n        margin-inline-start: 0;\n      }\n      &:hover {\n        background-color: ${hoverColors.background};\n      }\n\n      @media (pointer: coarse) {\n        min-height: 2rem;\n      }\n    `;\n});\nStyledSuggestionButton.defaultProps = defaultThemeProp;\nconst StyledInfo = styled.span`\n  display: contents;\n`;\nconst statusIconMap = {\n  error: 'warn-solid',\n  warning: 'flag-wave-solid',\n  success: 'check'\n};\nconst FormField = forwardRef((props, ref) => {\n  const uid = useUID();\n  const {\n    testId,\n    children: controlElement,\n    id = uid,\n    as = 'div',\n    label,\n    labelAs = 'label',\n    labelFor = id,\n    labelId,\n    labelHidden = false,\n    labelAfter = false,\n    info,\n    status,\n    isRadioCheck,\n    charLimitDisplay,\n    required = false,\n    disabled = false,\n    readOnly = false,\n    inline = false,\n    actions,\n    container,\n    additionalInfo,\n    onResolveSuggestion,\n    ...restProps\n  } = props;\n  const testIds = useTestIds(testId, getFormFieldTestIds);\n  const t = useI18n();\n  const labelAsLegend = labelAs === 'legend';\n  const hasSuggestion = status === 'pending' && !!onResolveSuggestion;\n  const consolidatedRef = useConsolidatedRef(ref);\n  const showAdditionalInfo = !!additionalInfo && !disabled && !labelHidden;\n  const labelAndInfo = _jsxs(_Fragment, {\n    children: [_jsx(Label, {\n      \"data-testid\": testIds.label,\n      id: labelId,\n      as: labelAs,\n      htmlFor: labelAs === 'label' ? labelFor : undefined,\n      labelHidden: labelHidden,\n      onClick: e => {\n        if (readOnly) e.preventDefault();\n      },\n      inline: inline,\n      children: label\n    }), showAdditionalInfo && _jsx(AdditionalInfo, {\n      \"data-testid\": testIds.additionalInfo,\n      heading: additionalInfo.heading,\n      children: additionalInfo.content\n    })]\n  });\n  const labelRow = showAdditionalInfo && !isRadioCheck ? _jsx(Flex, {\n    as: StyledLabelRow,\n    container: {\n      justify: 'between',\n      alignItems: 'end'\n    },\n    item: {\n      alignSelf: 'stretch'\n    },\n    children: labelAndInfo\n  }) : labelAndInfo;\n  // We have to use an internal state and an effect to set the text value of info after the DOM element is rendered.\n  // This is to ensure screen readers will announce info on errors when role is set to alert.\n  // Needs testing to confirm. Currently the expected sequence would be:\n  // - FormField renders with no error and no info\n  // - user input triggers an error status\n  // - props passed set error status and provide info text\n  // - effect runs and sets live region state which renders and is announced\n  const [liveRegionInfo, setLiveRegionInfo] = useState(null);\n  useEffect(() => {\n    setLiveRegionInfo(info);\n  }, [info]);\n  // fieldset or single form control element\n  let content = labelAsLegend ? controlElement : cloneElement(controlElement, {\n    'aria-describedby': info && `${id}-info`\n  });\n  if (actions) {\n    content = _jsxs(Flex, {\n      container: {\n        alignItems: 'center',\n        gap: 0.5\n      },\n      children: [content, _jsx(Actions, {\n        items: actions,\n        menuAt: 3\n      })]\n    });\n  }\n  let infoContent =\n  // Region for additional info, help or error message.\n  // Withholding aria-live=\"assertive\" to avoid iOS issue. See below.\n  // https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions#Preferring_specialized_live_region_roles\n  _jsxs(Flex, {\n    \"data-testid\": testIds.info,\n    status: status,\n    role: status === 'error' || status === 'warning' ? 'alert' : undefined,\n    as: StyledFormFieldInfo,\n    container: {\n      alignItems: 'center'\n    },\n    children: [status && status !== 'pending' && typeof label === 'string' && _jsx(VisuallyHiddenText, {\n      \"aria-hidden\": true,\n      children: label\n    }), _jsxs(StyledInfo, {\n      id: `${id}-info`,\n      children: [status && status !== 'pending' && _jsxs(_Fragment, {\n        children: [_jsx(StyledStatusIcon, {\n          status: status,\n          name: statusIconMap[status]\n        }), _jsx(VisuallyHiddenText, {\n          children: ` ${t(status)} `\n        })]\n      }), liveRegionInfo]\n    })]\n  });\n  if (charLimitDisplay) {\n    infoContent = _jsxs(Flex, {\n      container: {\n        justify: infoContent ? 'between' : 'end',\n        gap: 1\n      },\n      children: [infoContent, _jsx(Flex, {\n        item: {\n          shrink: 0\n        },\n        children: charLimitDisplay\n      })]\n    });\n  }\n  if (hasSuggestion) {\n    const focusables = getFocusables(consolidatedRef);\n    infoContent = _jsxs(Flex, {\n      container: {\n        alignItems: 'start',\n        justify: 'between'\n      },\n      children: [_jsxs(StyledFormFieldInfo, {\n        \"data-testid\": testIds.info,\n        status: status,\n        id: `${id}-info`,\n        children: [t('suggestion_info'), _jsx(VisuallyHiddenText, {\n          \"aria-live\": 'polite',\n          children: t('suggestion_assist')\n        })]\n      }), _jsxs(Flex, {\n        container: {\n          wrap: 'nowrap'\n        },\n        children: [_jsx(StyledSuggestionButton, {\n          \"data-testid\": testIds.suggestionReject,\n          onClick: () => {\n            onResolveSuggestion(false);\n            focusables[0]?.focus();\n          },\n          \"aria-label\": t('reject_suggestion_button_a11y'),\n          children: t('no')\n        }), _jsx(StyledSuggestionButton, {\n          \"data-testid\": testIds.suggestionAccept,\n          onClick: () => {\n            onResolveSuggestion(true);\n            focusables[0]?.focus();\n          },\n          \"aria-label\": t('accept_suggestion_button_a11y'),\n          children: t('yes')\n        })]\n      })]\n    });\n  }\n  const onKeyDown = e => {\n    if (e.key === 'Enter') {\n      const target = e.target;\n      if (!target.closest('button')) {\n        e.preventDefault();\n        onResolveSuggestion?.(true);\n      }\n    }\n  };\n  return _jsxs(Flex, {\n    \"data-testid\": testIds.root,\n    ...restProps,\n    container: {\n      direction: inline ? 'row' : 'column',\n      alignItems: inline ? 'center' : undefined,\n      ...container\n    },\n    as: StyledFormField,\n    id: `${id}-field`,\n    forwardedAs: as,\n    required: required,\n    disabled: disabled,\n    readOnly: readOnly,\n    onKeyDown: hasSuggestion ? onKeyDown : undefined,\n    \"aria-describedby\": labelAsLegend && info ? `${id}-info` : undefined,\n    ref: consolidatedRef,\n    children: [(labelAsLegend || !labelAfter) && labelRow, content, !labelAsLegend && labelAfter && labelRow, !readOnly && infoContent]\n  });\n});\nexport default FormField;","map":{"version":3,"names":["cloneElement","useEffect","useState","forwardRef","styled","css","readableColor","rgba","defaultThemeProp","Flex","Actions","useConsolidatedRef","useI18n","useTestIds","useUID","Label","StyledLabel","calculateFontSize","getHoverColors","VisuallyHiddenText","getFocusables","tryCatch","Button","Icon","registerIcon","warnSolidIcon","flagWaveSolidIcon","checkIcon","AdditionalInfo","getFormFieldTestIds","StyledStatusIcon","_ref","theme","status","components","defaultProps","StyledFormFieldInfo","div","_ref2","base","fontSize","fontScale","spacing","formField","xxs","infoFontSize","StyledLabelRow","StyledFormField","props","disabled","required","palette","urgent","disabledOpacity","StyledSuggestionButton","_ref3","baseRadius","radius","borderWidth","buttonFontSize","backgroundColor","pending","hoverColors","color","borderColor","background","StyledInfo","span","statusIconMap","error","warning","success","FormField","ref","uid","testId","children","controlElement","id","as","label","labelAs","labelFor","labelId","labelHidden","labelAfter","info","isRadioCheck","charLimitDisplay","readOnly","inline","actions","container","additionalInfo","onResolveSuggestion","restProps","testIds","t","labelAsLegend","hasSuggestion","consolidatedRef","showAdditionalInfo","labelAndInfo","_jsxs","_Fragment","_jsx","htmlFor","undefined","onClick","e","preventDefault","heading","content","labelRow","justify","alignItems","item","alignSelf","liveRegionInfo","setLiveRegionInfo","gap","items","menuAt","infoContent","role","name","shrink","focusables","wrap","suggestionReject","focus","suggestionAccept","onKeyDown","key","target","closest","root","direction","forwardedAs"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/FormField/FormField.tsx"],"sourcesContent":["import {\n  FC,\n  ReactNode,\n  ComponentType,\n  cloneElement,\n  ReactElement,\n  useEffect,\n  useState,\n  PropsWithoutRef,\n  forwardRef,\n  Ref\n} from 'react';\nimport styled, { css } from 'styled-components';\nimport { readableColor, rgba } from 'polished';\n\nimport { defaultThemeProp } from '../../theme';\nimport { Action, ForwardProps, OmitStrict, TestIdProp } from '../../types';\nimport Flex, { FlexProps } from '../Flex';\nimport Actions from '../Actions';\nimport { FormControlProps } from '../FormControl';\nimport { useConsolidatedRef, useI18n, useTestIds, useUID } from '../../hooks';\nimport Label, { LabelProps, StyledLabel } from '../Label';\nimport { calculateFontSize, getHoverColors } from '../../styles';\nimport VisuallyHiddenText from '../VisuallyHiddenText';\nimport { getFocusables, tryCatch } from '../../utils';\nimport Button from '../Button';\nimport Icon, { registerIcon } from '../Icon';\nimport * as warnSolidIcon from '../Icon/icons/warn-solid.icon';\nimport * as flagWaveSolidIcon from '../Icon/icons/flag-wave-solid.icon';\nimport * as checkIcon from '../Icon/icons/check.icon';\nimport AdditionalInfo from '../AdditionalInfo';\n\nimport { getFormFieldTestIds, elements } from './FormField.test-ids';\n\nregisterIcon(warnSolidIcon, flagWaveSolidIcon, checkIcon);\n\nexport interface FormFieldProps\n  extends OmitStrict<FormControlProps, 'placeholder' | 'value' | 'defaultValue'>,\n    TestIdProp<typeof elements> {\n  /** Pass a single form control component i.e. Input | TextArea | Select | etc.. */\n  children: ReactElement | ReactElement[];\n  /**\n   * An id is required to connect a FormField's wrapping element, control element and info(aria-describedby) live region.\n   * A random id will be generated if none is provided.\n   * Since MOST FormControls should possess an id(excl. i.e RadioCheckGroup and others) this can be used.\n   * The id prop will be used to generate the following:\n   * - FormControl <-> Label association via a Label's htmlFor prop.\n   * - FormField's wrapping element id {id}-field.\n   * - FormField info element id ${id}-info.\n   */\n  id?: string;\n  /**\n   * Determines how the wrapping label should be rendered.\n   * @default 'label'\n   */\n  labelAs?: LabelProps['as'];\n  /**\n   * Overrides the for attribute on the label. If this is not set it will default to the forms id.\n   * @default undefined\n   */\n  labelFor?: LabelProps['htmlFor'];\n  /**\n   * Sets the id of the label.\n   * @default undefined\n   */\n  labelId?: LabelProps['id'];\n  /**\n   * Visually hides the label region.\n   * @default false\n   */\n  labelHidden?: boolean;\n  /**\n   * Visually places the label after the input.\n   * @default false\n   */\n  labelAfter?: boolean;\n  /**\n   * Property used to check whether input type is radio to handle styling for RadioCheck\n   * @default false\n   */\n  isRadioCheck?: boolean;\n  /**\n   * Wrapping HTML element tag. Renders as a fieldset for grouped elements i.e. RadioButtons/CheckboxGroup\n   * @default 'div'\n   */\n  as?: 'div' | 'fieldset' | ComponentType<any>;\n  /**\n   * Layout field elements inline in a row.\n   * @default false\n   */\n  inline?: boolean;\n  /** Optionally utilized by Input or Select. */\n  actions?: Action[];\n  /** Enables Flex container prop pass through. */\n  container?: Exclude<FlexProps['container'], boolean>;\n  /** Character remaining count. Typically used on Textareas only */\n  charLimitDisplay?: ReactNode;\n}\n\nconst StyledStatusIcon = styled(Icon)<{ status: NonNullable<FormFieldProps['status']> }>(\n  ({ theme, status }) => {\n    return css`\n      height: 1em;\n      width: 1em;\n      color: ${theme.components['form-field'][status]['status-color']};\n      vertical-align: baseline;\n      margin-inline-end: 0.5ch;\n    `;\n  }\n);\n\nStyledStatusIcon.defaultProps = defaultThemeProp;\n\nexport const StyledFormFieldInfo = styled.div<Pick<FormControlProps, 'status'>>(\n  ({\n    status,\n    theme: {\n      base: { 'font-size': fontSize, 'font-scale': fontScale, spacing },\n      components: { 'form-field': formField }\n    }\n  }) => {\n    const { xxs: infoFontSize } = calculateFontSize(fontSize, fontScale);\n\n    return css`\n      max-width: max-content;\n      margin-top: calc(0.25 * ${spacing});\n      font-size: ${infoFontSize};\n      word-break: break-word;\n      ${status &&\n      formField[status] &&\n      css`\n        color: ${formField[status]['status-color']};\n      `}\n    `;\n  }\n);\n\nStyledFormFieldInfo.defaultProps = defaultThemeProp;\n\nconst StyledLabelRow = styled.div``;\n\nexport const StyledFormField = styled.div<FormFieldProps>(props => {\n  const {\n    disabled,\n    required,\n    theme: {\n      base: {\n        palette: { urgent },\n        'disabled-opacity': disabledOpacity,\n        spacing\n      }\n    }\n  } = props;\n\n  return css`\n    ${disabled &&\n    css`\n      opacity: ${disabledOpacity};\n      -webkit-user-select: none;\n      user-select: none;\n    `}\n    position: relative;\n    border: 0;\n\n    > ${StyledLabel}, > ${StyledLabelRow} {\n      margin-bottom: calc(0.25 * ${spacing});\n    }\n\n    > ${StyledLabel}, > ${StyledLabelRow} > ${StyledLabel} {\n      &::after {\n        display: ${required ? 'inline' : 'none'};\n        content: '\\\\00a0*';\n        vertical-align: top;\n        color: ${urgent};\n      }\n\n      ${disabled &&\n      css`\n        cursor: not-allowed;\n      `}\n    }\n  `;\n});\n\nStyledFormField.defaultProps = defaultThemeProp;\n\nconst StyledSuggestionButton = styled(Button)(\n  ({\n    theme: {\n      base: {\n        'font-size': fontSize,\n        'font-scale': fontScale,\n        'border-radius': baseRadius,\n        spacing\n      },\n      components: {\n        'form-control': { 'border-radius': radius, 'border-width': borderWidth },\n        'form-field': formField\n      }\n    }\n  }) => {\n    const { xxs: buttonFontSize } = calculateFontSize(fontSize, fontScale);\n    const backgroundColor = formField.pending['status-color'];\n    const hoverColors = getHoverColors(backgroundColor);\n    const color = tryCatch(() => readableColor(backgroundColor));\n    const borderColor = color ? rgba(color, 0.4) : color;\n\n    return css`\n      background-color: ${backgroundColor};\n      color: ${color};\n      font-size: ${buttonFontSize};\n      min-width: calc(3 * ${spacing});\n      min-height: calc(3 * ${spacing});\n      padding: 0 ${spacing};\n      border-radius: 0;\n      border: none;\n      &:first-child {\n        border-inline-end: ${borderWidth} solid ${borderColor};\n        border-end-start-radius: calc(${baseRadius} * ${radius});\n        margin-inline-start: calc(2 * ${spacing});\n      }\n      &:last-child {\n        border-end-end-radius: calc(${baseRadius} * ${radius});\n        margin-inline-start: 0;\n      }\n      &:hover {\n        background-color: ${hoverColors.background};\n      }\n\n      @media (pointer: coarse) {\n        min-height: 2rem;\n      }\n    `;\n  }\n);\n\nStyledSuggestionButton.defaultProps = defaultThemeProp;\n\nconst StyledInfo = styled.span`\n  display: contents;\n`;\n\nconst statusIconMap = { error: 'warn-solid', warning: 'flag-wave-solid', success: 'check' };\n\nconst FormField: FC<FormFieldProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<FormFieldProps>, ref: Ref<HTMLElement>) => {\n    const uid = useUID();\n    const {\n      testId,\n      children: controlElement,\n      id = uid,\n      as = 'div',\n      label,\n      labelAs = 'label',\n      labelFor = id,\n      labelId,\n      labelHidden = false,\n      labelAfter = false,\n      info,\n      status,\n      isRadioCheck,\n      charLimitDisplay,\n      required = false,\n      disabled = false,\n      readOnly = false,\n      inline = false,\n      actions,\n      container,\n      additionalInfo,\n      onResolveSuggestion,\n      ...restProps\n    } = props;\n\n    const testIds = useTestIds(testId, getFormFieldTestIds);\n\n    const t = useI18n();\n    const labelAsLegend: boolean = labelAs === 'legend';\n    const hasSuggestion = status === 'pending' && !!onResolveSuggestion;\n    const consolidatedRef = useConsolidatedRef(ref);\n\n    const showAdditionalInfo = !!additionalInfo && !disabled && !labelHidden;\n\n    const labelAndInfo = (\n      <>\n        <Label\n          data-testid={testIds.label}\n          id={labelId}\n          as={labelAs}\n          htmlFor={labelAs === 'label' ? labelFor : undefined}\n          labelHidden={labelHidden}\n          onClick={(e: MouseEvent) => {\n            if (readOnly) e.preventDefault();\n          }}\n          inline={inline}\n        >\n          {label}\n        </Label>\n        {showAdditionalInfo && (\n          <AdditionalInfo data-testid={testIds.additionalInfo} heading={additionalInfo.heading}>\n            {additionalInfo.content}\n          </AdditionalInfo>\n        )}\n      </>\n    );\n\n    const labelRow =\n      showAdditionalInfo && !isRadioCheck ? (\n        <Flex\n          as={StyledLabelRow}\n          container={{ justify: 'between', alignItems: 'end' }}\n          item={{ alignSelf: 'stretch' }}\n        >\n          {labelAndInfo}\n        </Flex>\n      ) : (\n        labelAndInfo\n      );\n\n    // We have to use an internal state and an effect to set the text value of info after the DOM element is rendered.\n    // This is to ensure screen readers will announce info on errors when role is set to alert.\n    // Needs testing to confirm. Currently the expected sequence would be:\n    // - FormField renders with no error and no info\n    // - user input triggers an error status\n    // - props passed set error status and provide info text\n    // - effect runs and sets live region state which renders and is announced\n    const [liveRegionInfo, setLiveRegionInfo] = useState<ReactNode>(null);\n\n    useEffect(() => {\n      setLiveRegionInfo(info);\n    }, [info]);\n\n    // fieldset or single form control element\n    let content: FormFieldProps['children'] = labelAsLegend\n      ? controlElement\n      : cloneElement(controlElement as ReactElement, {\n          'aria-describedby': info && `${id}-info`\n        });\n\n    if (actions) {\n      content = (\n        <Flex container={{ alignItems: 'center', gap: 0.5 }}>\n          {content}\n          <Actions items={actions} menuAt={3} />\n        </Flex>\n      );\n    }\n\n    let infoContent = (\n      // Region for additional info, help or error message.\n      // Withholding aria-live=\"assertive\" to avoid iOS issue. See below.\n      // https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions#Preferring_specialized_live_region_roles\n      <Flex\n        data-testid={testIds.info}\n        status={status}\n        role={status === 'error' || status === 'warning' ? 'alert' : undefined}\n        as={StyledFormFieldInfo}\n        container={{ alignItems: 'center' }}\n      >\n        {status && status !== 'pending' && typeof label === 'string' && (\n          <VisuallyHiddenText aria-hidden>{label}</VisuallyHiddenText>\n        )}\n        <StyledInfo id={`${id}-info`}>\n          {status && status !== 'pending' && (\n            <>\n              <StyledStatusIcon status={status} name={statusIconMap[status]} />\n              <VisuallyHiddenText>{` ${t(status)} `}</VisuallyHiddenText>\n            </>\n          )}\n          {liveRegionInfo}\n        </StyledInfo>\n      </Flex>\n    );\n\n    if (charLimitDisplay) {\n      infoContent = (\n        <Flex container={{ justify: infoContent ? 'between' : 'end', gap: 1 }}>\n          {infoContent}\n          <Flex item={{ shrink: 0 }}>{charLimitDisplay}</Flex>\n        </Flex>\n      );\n    }\n\n    if (hasSuggestion) {\n      const focusables = getFocusables(consolidatedRef);\n      infoContent = (\n        <Flex container={{ alignItems: 'start', justify: 'between' }}>\n          <StyledFormFieldInfo data-testid={testIds.info} status={status} id={`${id}-info`}>\n            {t('suggestion_info')}\n            <VisuallyHiddenText aria-live='polite'>{t('suggestion_assist')}</VisuallyHiddenText>\n          </StyledFormFieldInfo>\n          <Flex container={{ wrap: 'nowrap' }}>\n            <StyledSuggestionButton\n              data-testid={testIds.suggestionReject}\n              onClick={() => {\n                onResolveSuggestion(false);\n                focusables[0]?.focus();\n              }}\n              aria-label={t('reject_suggestion_button_a11y')}\n            >\n              {t('no')}\n            </StyledSuggestionButton>\n            <StyledSuggestionButton\n              data-testid={testIds.suggestionAccept}\n              onClick={() => {\n                onResolveSuggestion(true);\n                focusables[0]?.focus();\n              }}\n              aria-label={t('accept_suggestion_button_a11y')}\n            >\n              {t('yes')}\n            </StyledSuggestionButton>\n          </Flex>\n        </Flex>\n      );\n    }\n\n    const onKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Enter') {\n        const target = e.target as HTMLElement;\n        if (!target.closest('button')) {\n          e.preventDefault();\n          onResolveSuggestion?.(true);\n        }\n      }\n    };\n\n    return (\n      <Flex\n        data-testid={testIds.root}\n        {...restProps}\n        container={{\n          direction: inline ? 'row' : 'column',\n          alignItems: inline ? 'center' : undefined,\n          ...container\n        }}\n        as={StyledFormField}\n        id={`${id}-field`}\n        forwardedAs={as}\n        required={required}\n        disabled={disabled}\n        readOnly={readOnly}\n        onKeyDown={hasSuggestion ? onKeyDown : undefined}\n        aria-describedby={labelAsLegend && info ? `${id}-info` : undefined}\n        ref={consolidatedRef}\n      >\n        {(labelAsLegend || !labelAfter) && labelRow}\n        {content}\n        {!labelAsLegend && labelAfter && labelRow}\n        {!readOnly && infoContent}\n      </Flex>\n    );\n  }\n);\n\nexport default FormField;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
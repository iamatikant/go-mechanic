{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useRef, useEffect } from 'react';\nimport { useConsolidatedRef, useEscape, useFocusTrap, useI18n, useOuterEvent, useUID } from '../../hooks';\nimport Text from '../Text';\nimport Icon from '../Icon';\nimport Progress from '../Progress';\nimport Flex from '../Flex';\nimport SummaryItem from '../SummaryItem';\nimport { StyledChildrenWrap, StyledDialogContent, StyledDialogHeader } from './Dialog.styles';\nimport { StyledDismissButton, StyledInfoDialog } from './InfoDialog.styles';\nconst InfoDialog = forwardRef((_ref, ref) => {\n  let {\n    target,\n    heading: headingProp,\n    children,\n    progress: progressProp,\n    onDismiss,\n    ...restProps\n  } = _ref;\n  const t = useI18n();\n  const headingId = useUID();\n  const dialogRef = useConsolidatedRef(ref);\n  const closeButtonRef = useRef(null);\n  useEscape(() => {\n    onDismiss?.();\n  });\n  useOuterEvent('mousedown', [target, dialogRef], () => {\n    onDismiss?.();\n  });\n  useFocusTrap(dialogRef);\n  useEffect(() => {\n    if (!progressProp) {\n      closeButtonRef.current?.focus();\n    }\n  }, [progressProp]);\n  useEffect(() => {\n    return () => {\n      if (document.contains(target)) {\n        target.focus();\n      }\n    };\n  }, []);\n  const heading = headingProp ? _jsx(Text, {\n    id: headingId,\n    variant: 'h2',\n    children: typeof headingProp === 'string' ? headingProp : headingProp.primary\n  }) : null;\n  const progress = _jsx(Progress, {\n    visible: !!progressProp,\n    focusOnVisible: true,\n    placement: children ? 'local' : 'block',\n    message: typeof progressProp === 'string' ? progressProp : undefined\n  });\n  const dismissButton = _jsx(StyledDismissButton, {\n    icon: true,\n    variant: 'simple',\n    onClick: () => {\n      onDismiss();\n    },\n    label: t('close'),\n    ref: closeButtonRef,\n    children: _jsx(Icon, {\n      name: 'times'\n    })\n  });\n  return _jsxs(StyledInfoDialog, {\n    ...restProps,\n    ...(typeof headingProp === 'string' ? {\n      labelledbyId: headingId\n    } : {\n      ariaLabel: headingProp?.primary\n    }),\n    arrow: true,\n    target: target,\n    progress: progressProp,\n    ref: dialogRef,\n    children: [headingProp && heading && _jsxs(Flex, {\n      container: {\n        alignItems: 'center',\n        justify: 'between',\n        pad: 2,\n        gap: 1\n      },\n      item: {\n        shrink: 0\n      },\n      as: StyledDialogHeader,\n      children: [typeof headingProp === 'string' ? heading : _jsx(SummaryItem, {\n        primary: heading,\n        secondary: headingProp.secondary ? _jsx(Text, {\n          variant: 'secondary',\n          children: headingProp.secondary\n        }) : undefined,\n        visual: headingProp.visual\n      }), dismissButton]\n    }), _jsxs(Flex, {\n      container: {\n        direction: 'column'\n      },\n      item: {\n        grow: 1\n      },\n      as: StyledDialogContent,\n      children: [!headingProp && dismissButton, children && _jsx(StyledChildrenWrap, {\n        children: children\n      }), progress]\n    })]\n  });\n});\nexport default InfoDialog;","map":{"version":3,"names":["forwardRef","useRef","useEffect","useConsolidatedRef","useEscape","useFocusTrap","useI18n","useOuterEvent","useUID","Text","Icon","Progress","Flex","SummaryItem","StyledChildrenWrap","StyledDialogContent","StyledDialogHeader","StyledDismissButton","StyledInfoDialog","InfoDialog","_ref","ref","target","heading","headingProp","children","progress","progressProp","onDismiss","restProps","t","headingId","dialogRef","closeButtonRef","current","focus","document","contains","_jsx","id","variant","primary","visible","focusOnVisible","placement","message","undefined","dismissButton","icon","onClick","label","name","_jsxs","labelledbyId","ariaLabel","arrow","container","alignItems","justify","pad","gap","item","shrink","as","secondary","visual","direction","grow"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Dialog/InfoDialog.tsx"],"sourcesContent":["import { forwardRef, PropsWithoutRef, useRef, FC, useEffect, HTMLAttributes } from 'react';\n\nimport {\n  useConsolidatedRef,\n  useEscape,\n  useFocusTrap,\n  useI18n,\n  useOuterEvent,\n  useUID\n} from '../../hooks';\nimport Text from '../Text';\nimport Icon from '../Icon';\nimport Progress from '../Progress';\nimport Flex from '../Flex';\nimport SummaryItem from '../SummaryItem';\n\nimport { StyledChildrenWrap, StyledDialogContent, StyledDialogHeader } from './Dialog.styles';\nimport { InfoDialogProps } from './Dialog.types';\nimport { StyledDismissButton, StyledInfoDialog } from './InfoDialog.styles';\n\nconst InfoDialog: FC<InfoDialogProps & HTMLAttributes<HTMLDivElement>> = forwardRef(\n  (\n    {\n      target,\n      heading: headingProp,\n      children,\n      progress: progressProp,\n      onDismiss,\n      ...restProps\n    }: PropsWithoutRef<InfoDialogProps>,\n    ref: InfoDialogProps['ref']\n  ) => {\n    const t = useI18n();\n    const headingId = useUID();\n    const dialogRef = useConsolidatedRef(ref);\n    const closeButtonRef = useRef<HTMLButtonElement>(null);\n\n    useEscape(() => {\n      onDismiss?.();\n    });\n\n    useOuterEvent('mousedown', [target, dialogRef], () => {\n      onDismiss?.();\n    });\n\n    useFocusTrap(dialogRef);\n\n    useEffect(() => {\n      if (!progressProp) {\n        closeButtonRef.current?.focus();\n      }\n    }, [progressProp]);\n\n    useEffect(() => {\n      return () => {\n        if (document.contains(target)) {\n          target.focus();\n        }\n      };\n    }, []);\n\n    const heading = headingProp ? (\n      <Text id={headingId} variant='h2'>\n        {typeof headingProp === 'string' ? headingProp : headingProp.primary}\n      </Text>\n    ) : null;\n\n    const progress = (\n      <Progress\n        visible={!!progressProp}\n        focusOnVisible\n        placement={children ? 'local' : 'block'}\n        message={typeof progressProp === 'string' ? progressProp : undefined}\n      />\n    );\n\n    const dismissButton = (\n      <StyledDismissButton\n        icon\n        variant='simple'\n        onClick={() => {\n          onDismiss();\n        }}\n        label={t('close')}\n        ref={closeButtonRef}\n      >\n        <Icon name='times' />\n      </StyledDismissButton>\n    );\n\n    return (\n      <StyledInfoDialog\n        {...restProps}\n        {...(typeof headingProp === 'string'\n          ? { labelledbyId: headingId }\n          : { ariaLabel: headingProp?.primary })}\n        arrow\n        target={target}\n        progress={progressProp}\n        ref={dialogRef}\n      >\n        {headingProp && heading && (\n          <Flex\n            container={{ alignItems: 'center', justify: 'between', pad: 2, gap: 1 }}\n            item={{ shrink: 0 }}\n            as={StyledDialogHeader}\n          >\n            {typeof headingProp === 'string' ? (\n              heading\n            ) : (\n              <SummaryItem\n                primary={heading}\n                secondary={\n                  headingProp.secondary ? (\n                    <Text variant='secondary'>{headingProp.secondary}</Text>\n                  ) : undefined\n                }\n                visual={headingProp.visual}\n              />\n            )}\n            {dismissButton}\n          </Flex>\n        )}\n\n        <Flex container={{ direction: 'column' }} item={{ grow: 1 }} as={StyledDialogContent}>\n          {!headingProp && dismissButton}\n          {children && <StyledChildrenWrap>{children}</StyledChildrenWrap>}\n          {progress}\n        </Flex>\n      </StyledInfoDialog>\n    );\n  }\n);\n\nexport default InfoDialog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
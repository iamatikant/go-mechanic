{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport Icon from '../Icon';\nimport { defaultThemeProp } from '../../theme';\nimport Flex from '../Flex';\nimport Image, { StyledImage } from '../Image';\nimport { useTheme } from '../../hooks';\nconst mapping = {\n  generic: {\n    iconName: 'paper-clip',\n    backgroundColor: 'slate.dark'\n  },\n  video: {\n    iconName: 'play-solid',\n    backgroundColor: 'slate.dark'\n  },\n  audio: {\n    iconName: 'speaker-on-solid',\n    backgroundColor: 'slate.dark'\n  },\n  document: {\n    iconName: 'filetype-text',\n    backgroundColor: 'blue.medium'\n  },\n  message: {\n    iconName: 'mail-solid',\n    backgroundColor: 'blue.dark'\n  },\n  pdf: {\n    text: 'PDF',\n    backgroundColor: 'red.medium'\n  },\n  spreadsheet: {\n    iconName: 'grid-solid',\n    backgroundColor: 'green.medium'\n  },\n  presentation: {\n    iconName: 'slideshow-solid',\n    backgroundColor: 'orange.medium'\n  },\n  link: {\n    iconName: 'chain',\n    backgroundColor: 'purple.dark'\n  },\n  archive: {\n    iconName: 'archive-solid',\n    backgroundColor: 'slate.dark'\n  },\n  database: {\n    iconName: 'disc-stack-solid',\n    backgroundColor: 'slate.dark'\n  },\n  image: {\n    iconName: 'picture-solid',\n    backgroundColor: 'slate.dark'\n  },\n  text: {\n    iconName: 'filetype-text',\n    backgroundColor: 'slate.dark'\n  }\n};\nexport const StyledFileVisual = styled.div``;\nexport const StyledIconFrame = styled(StyledFileVisual)(_ref => {\n  let {\n    theme\n  } = _ref;\n  return css`\n    background-color: var(--bg);\n    color: ${theme.base.palette.light};\n    height: ${theme.components.input.height};\n    width: ${theme.components.input.height};\n    border-radius: calc(0.25 * ${theme.base['border-radius']});\n    font-size: calc(0.7 * ${theme.base['font-size']});\n    font-weight: ${theme.base['font-weight']['semi-bold']};\n    user-select: none;\n    -webkit-user-select: none;\n  `;\n});\nStyledIconFrame.defaultProps = defaultThemeProp;\nconst StyledThumbnailFrame = styled(StyledFileVisual)(_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return css`\n    background-color: ${theme.base.palette['app-background']};\n    height: 100%;\n    width: 100%;\n\n    ${StyledImage} {\n      margin: auto;\n      height: unset;\n      width: unset;\n      max-height: 100%;\n      max-width: 100%;\n    }\n  `;\n});\nStyledThumbnailFrame.defaultProps = defaultThemeProp;\nconst FileVisual = forwardRef((_ref3, ref) => {\n  let {\n    type,\n    thumbnail,\n    onThumbnailError,\n    ...restProps\n  } = _ref3;\n  const visualConfig = mapping[type];\n  const [color, lightness] = visualConfig.backgroundColor.split('.', 2);\n  const {\n    base: {\n      colors: {\n        [color]: {\n          [lightness]: backgroundColor\n        }\n      }\n    }\n  } = useTheme();\n  return thumbnail ? _jsx(Flex, {\n    ...restProps,\n    as: StyledThumbnailFrame,\n    container: true,\n    children: _jsx(Image, {\n      src: thumbnail,\n      onError: onThumbnailError,\n      alt: ''\n    })\n  }) : _jsx(Flex, {\n    ...restProps,\n    as: StyledIconFrame,\n    ref: ref,\n    container: {\n      justify: 'center',\n      alignItems: 'center'\n    },\n    style: {\n      '--bg': backgroundColor\n    },\n    children: visualConfig.iconName ? _jsx(Icon, {\n      name: visualConfig.iconName\n    }) : visualConfig.text\n  });\n});\nexport default FileVisual;","map":{"version":3,"names":["forwardRef","styled","css","Icon","defaultThemeProp","Flex","Image","StyledImage","useTheme","mapping","generic","iconName","backgroundColor","video","audio","document","message","pdf","text","spreadsheet","presentation","link","archive","database","image","StyledFileVisual","div","StyledIconFrame","_ref","theme","base","palette","light","components","input","height","defaultProps","StyledThumbnailFrame","_ref2","FileVisual","_ref3","ref","type","thumbnail","onThumbnailError","restProps","visualConfig","color","lightness","split","colors","_jsx","as","container","children","src","onError","alt","justify","alignItems","style","name"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/File/FileVisual.tsx"],"sourcesContent":["import { forwardRef, PropsWithoutRef, FC, Ref, CSSProperties, SyntheticEvent } from 'react';\nimport styled, { css, DefaultTheme } from 'styled-components';\n\nimport Icon from '../Icon';\nimport { ForwardProps, BaseProps, OmitStrict } from '../../types';\nimport { defaultThemeProp } from '../../theme';\nimport Flex from '../Flex';\nimport Image, { StyledImage } from '../Image';\nimport { useTheme } from '../../hooks';\n\nimport { AttachmentType } from './utils';\n\nexport interface FileVisualProps extends BaseProps {\n  /** Attachment/File type, it has an impact on background color and icon rendered. */\n  type: AttachmentType;\n  /** A string to be used as an image src for a attachment thumbnail. */\n  thumbnail?: string;\n  /** Called when a thumbnail encounters an error while loading. */\n  onThumbnailError?: (e: SyntheticEvent<HTMLImageElement>) => void;\n  /** Reference to a button element. */\n  ref?: Ref<HTMLDivElement>;\n}\ntype ThemeColor = keyof OmitStrict<DefaultTheme['base']['colors'], 'white' | 'black'>;\ntype ThemeColorVariant = 'extra-light' | 'light' | 'medium' | 'dark' | 'extra-dark';\n\ntype BackgroundColor = `${ThemeColor}.${ThemeColorVariant}`;\n\nconst mapping: Record<\n  AttachmentType,\n  { backgroundColor: BackgroundColor } & (\n    | { iconName: string; text?: never }\n    | { iconName?: never; text: string }\n  )\n> = {\n  generic: {\n    iconName: 'paper-clip',\n    backgroundColor: 'slate.dark'\n  },\n  video: {\n    iconName: 'play-solid',\n    backgroundColor: 'slate.dark'\n  },\n  audio: {\n    iconName: 'speaker-on-solid',\n    backgroundColor: 'slate.dark'\n  },\n  document: {\n    iconName: 'filetype-text',\n    backgroundColor: 'blue.medium'\n  },\n  message: {\n    iconName: 'mail-solid',\n    backgroundColor: 'blue.dark'\n  },\n  pdf: {\n    text: 'PDF',\n    backgroundColor: 'red.medium'\n  },\n  spreadsheet: {\n    iconName: 'grid-solid',\n    backgroundColor: 'green.medium'\n  },\n  presentation: {\n    iconName: 'slideshow-solid',\n    backgroundColor: 'orange.medium'\n  },\n  link: {\n    iconName: 'chain',\n    backgroundColor: 'purple.dark'\n  },\n  archive: {\n    iconName: 'archive-solid',\n    backgroundColor: 'slate.dark'\n  },\n  database: {\n    iconName: 'disc-stack-solid',\n    backgroundColor: 'slate.dark'\n  },\n  image: {\n    iconName: 'picture-solid',\n    backgroundColor: 'slate.dark'\n  },\n  text: {\n    iconName: 'filetype-text',\n    backgroundColor: 'slate.dark'\n  }\n} as const;\n\nexport const StyledFileVisual = styled.div``;\n\nexport const StyledIconFrame = styled(StyledFileVisual)(({ theme }) => {\n  return css`\n    background-color: var(--bg);\n    color: ${theme.base.palette.light};\n    height: ${theme.components.input.height};\n    width: ${theme.components.input.height};\n    border-radius: calc(0.25 * ${theme.base['border-radius']});\n    font-size: calc(0.7 * ${theme.base['font-size']});\n    font-weight: ${theme.base['font-weight']['semi-bold']};\n    user-select: none;\n    -webkit-user-select: none;\n  `;\n});\n\nStyledIconFrame.defaultProps = defaultThemeProp;\n\nconst StyledThumbnailFrame = styled(StyledFileVisual)(({ theme }) => {\n  return css`\n    background-color: ${theme.base.palette['app-background']};\n    height: 100%;\n    width: 100%;\n\n    ${StyledImage} {\n      margin: auto;\n      height: unset;\n      width: unset;\n      max-height: 100%;\n      max-width: 100%;\n    }\n  `;\n});\n\nStyledThumbnailFrame.defaultProps = defaultThemeProp;\n\nconst FileVisual: FC<FileVisualProps & ForwardProps> = forwardRef(\n  (\n    { type, thumbnail, onThumbnailError, ...restProps }: PropsWithoutRef<FileVisualProps>,\n    ref: FileVisualProps['ref']\n  ) => {\n    const visualConfig = mapping[type];\n\n    const [color, lightness] = visualConfig.backgroundColor.split('.', 2) as [\n      ThemeColor,\n      ThemeColorVariant\n    ];\n\n    const {\n      base: {\n        colors: {\n          [color]: { [lightness]: backgroundColor }\n        }\n      }\n    } = useTheme();\n\n    return thumbnail ? (\n      <Flex {...restProps} as={StyledThumbnailFrame} container>\n        <Image src={thumbnail} onError={onThumbnailError} alt='' />\n      </Flex>\n    ) : (\n      <Flex\n        {...restProps}\n        as={StyledIconFrame}\n        ref={ref}\n        container={{ justify: 'center', alignItems: 'center' }}\n        style={{ '--bg': backgroundColor } as CSSProperties}\n      >\n        {visualConfig.iconName ? <Icon name={visualConfig.iconName} /> : visualConfig.text}\n      </Flex>\n    );\n  }\n);\n\nexport default FileVisual;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
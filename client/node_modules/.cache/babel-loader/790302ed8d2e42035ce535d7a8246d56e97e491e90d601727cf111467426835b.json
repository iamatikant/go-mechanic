{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef, Children, cloneElement, useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport FormField from '../FormField';\nimport { StyledFormField } from '../FormField/FormField';\nimport Grid from '../Grid';\nimport { useElement, useUID } from '../../hooks';\nconst defaultProps = {\n  required: false,\n  disabled: false\n};\nexport const StyledRadioCheckGroup = styled.fieldset`\n  &[disabled] {\n    > ${StyledFormField} {\n      opacity: unset;\n    }\n  }\n`;\nconst RadioCheckGroup = forwardRef((props, ref) => {\n  const uid = useUID();\n  const {\n    children,\n    name = uid,\n    disabled,\n    onChange,\n    readOnly,\n    inline = false,\n    autoStack = true,\n    variant = 'simple',\n    ...restProps\n  } = props;\n  const [optionsEl, setOptionsEl] = useElement();\n  const [renderInline, setRenderInline] = useState(inline);\n  const renderInlineRef = useRef(inline);\n  const minInlineWidth = useRef(0);\n  useEffect(() => {\n    if (inline && optionsEl && optionsEl.lastChild && autoStack) {\n      const intersectionObserver = new IntersectionObserver(entries => {\n        if (entries[0].intersectionRatio < 1) {\n          if (entries[0].rootBounds) minInlineWidth.current = entries[0].rootBounds.width + 1;\n          renderInlineRef.current = false;\n          setRenderInline(false);\n        }\n      }, {\n        root: optionsEl,\n        threshold: 1\n      });\n      const resizeObserver = new ResizeObserver(entries => {\n        if (!renderInlineRef.current && entries[0].contentRect.width > minInlineWidth.current) {\n          renderInlineRef.current = true;\n          setRenderInline(true);\n        }\n      });\n      intersectionObserver.observe(optionsEl.lastChild);\n      resizeObserver.observe(optionsEl);\n      return () => {\n        intersectionObserver.disconnect();\n        resizeObserver.disconnect();\n      };\n    }\n  }, [optionsEl, inline, autoStack]);\n  return _jsx(FormField, {\n    ...{\n      as: StyledRadioCheckGroup,\n      labelAs: 'legend',\n      ref,\n      name,\n      disabled,\n      ...restProps\n    },\n    children: _jsx(Grid, {\n      ref: setOptionsEl,\n      container: {\n        colGap: 2,\n        rowGap: variant === 'card' ? 1 : 0,\n        cols: renderInline ? 'repeat(auto-fit, minmax(1ch, max-content))' : '1fr'\n      },\n      children: Children.map(children, child => cloneElement(child, {\n        name,\n        disabled: disabled || child.props.disabled,\n        readOnly: readOnly || child.props.readOnly,\n        variant,\n        onChange: onChange ? e => {\n          if (!(readOnly || child.props.readOnly)) {\n            child.props.onChange?.(e);\n            onChange(e);\n          }\n        } : child.props.onChange\n      }))\n    })\n  });\n});\nRadioCheckGroup.defaultProps = defaultProps;\nexport default RadioCheckGroup;","map":{"version":3,"names":["forwardRef","Children","cloneElement","useState","useEffect","useRef","styled","FormField","StyledFormField","Grid","useElement","useUID","defaultProps","required","disabled","StyledRadioCheckGroup","fieldset","RadioCheckGroup","props","ref","uid","children","name","onChange","readOnly","inline","autoStack","variant","restProps","optionsEl","setOptionsEl","renderInline","setRenderInline","renderInlineRef","minInlineWidth","lastChild","intersectionObserver","IntersectionObserver","entries","intersectionRatio","rootBounds","current","width","root","threshold","resizeObserver","ResizeObserver","contentRect","observe","disconnect","_jsx","as","labelAs","container","colGap","rowGap","cols","map","child","e"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/RadioCheckGroup/RadioCheckGroup.tsx"],"sourcesContent":["import {\n  FC,\n  Ref,\n  forwardRef,\n  PropsWithoutRef,\n  Children,\n  cloneElement,\n  ReactElement,\n  ChangeEvent,\n  useState,\n  useEffect,\n  useRef\n} from 'react';\nimport styled from 'styled-components';\n\nimport { ForwardProps } from '../../types';\nimport FormField, { FormFieldProps } from '../FormField';\nimport { StyledFormField } from '../FormField/FormField';\nimport { FormControlProps } from '../FormControl';\nimport { RadioCheckProps } from '../RadioCheck';\nimport Grid from '../Grid';\nimport { useElement, useUID } from '../../hooks';\n\nexport interface RadioCheckGroupProps {\n  /** Accepts Checkboxes or RadioButtons as children. */\n  children: ReactElement | ReactElement[];\n  /**\n   * Conveniently pass an onChange handler to the group to be notified when any of the inputs change.\n   * Additionally, onChange can be passed to individual children.\n   * Both handlers will be called, child followed by group.\n   */\n  onChange?: (e: ChangeEvent<HTMLInputElement>) => void;\n  /** Set visual state based on a validation state. */\n  status?: FormControlProps['status'];\n  /** Pass a string or a fragment with an Icon and string. */\n  label?: FormControlProps['label'];\n  /** Visually hides the label region. */\n  labelHidden?: FormControlProps['labelHidden'];\n  /** It is recommended to pass a simple string to offer guidance. Text will be styled based on status prop. */\n  info?: FormControlProps['info'];\n  /** Indicate if the field is required. The browser defaults to false. */\n  required?: FormControlProps['required'];\n  /** Disable the control. The browser defaults to false. */\n  disabled?: FormControlProps['disabled'];\n  /** Makes the input non editable and non clickable. The browser defaults to false. */\n  readOnly?: FormControlProps['readOnly'];\n  /**\n   * Layout field elements inline in a row.\n   * @default false\n   */\n  inline?: FormFieldProps['inline'];\n  /** Used to toggle the auto stacking feature of an inlined group.\n   * @default true\n   */\n  autoStack?: boolean;\n  /** Sets html name attribute for the underlying control. Useful for mapping to a data field. */\n  name?: FormControlProps['name'];\n  /**\n   * Controls the styling of the child RadioChecks.\n   * @default 'simple'\n   */\n  variant?: RadioCheckProps['variant'];\n  /** Pass a heading and content to show additional information on the field. */\n  additionalInfo?: FormControlProps['additionalInfo'];\n  /** Ref forwarded to the wrapping element. */\n  ref?: Ref<HTMLElement>;\n}\n\nconst defaultProps = {\n  required: false,\n  disabled: false\n};\n\nexport const StyledRadioCheckGroup = styled.fieldset`\n  &[disabled] {\n    > ${StyledFormField} {\n      opacity: unset;\n    }\n  }\n`;\n\nconst RadioCheckGroup: FC<RadioCheckGroupProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<RadioCheckGroupProps>, ref: RadioCheckGroupProps['ref']) => {\n    const uid = useUID();\n    const {\n      children,\n      name = uid,\n      disabled,\n      onChange,\n      readOnly,\n      inline = false,\n      autoStack = true,\n      variant = 'simple',\n      ...restProps\n    } = props;\n\n    const [optionsEl, setOptionsEl] = useElement<HTMLDivElement>();\n    const [renderInline, setRenderInline] = useState(inline);\n    const renderInlineRef = useRef(inline);\n    const minInlineWidth = useRef(0);\n\n    useEffect(() => {\n      if (inline && optionsEl && optionsEl.lastChild && autoStack) {\n        const intersectionObserver = new IntersectionObserver(\n          entries => {\n            if (entries[0].intersectionRatio < 1) {\n              if (entries[0].rootBounds) minInlineWidth.current = entries[0].rootBounds.width + 1;\n              renderInlineRef.current = false;\n              setRenderInline(false);\n            }\n          },\n          { root: optionsEl, threshold: 1 }\n        );\n\n        const resizeObserver = new ResizeObserver(entries => {\n          if (!renderInlineRef.current && entries[0].contentRect.width > minInlineWidth.current) {\n            renderInlineRef.current = true;\n            setRenderInline(true);\n          }\n        });\n\n        intersectionObserver.observe(optionsEl.lastChild as Element);\n        resizeObserver.observe(optionsEl);\n\n        return () => {\n          intersectionObserver.disconnect();\n          resizeObserver.disconnect();\n        };\n      }\n    }, [optionsEl, inline, autoStack]);\n\n    return (\n      <FormField\n        {...{\n          as: StyledRadioCheckGroup,\n          labelAs: 'legend',\n          ref,\n          name,\n          disabled,\n          ...restProps\n        }}\n      >\n        <Grid\n          ref={setOptionsEl}\n          container={{\n            colGap: 2,\n            rowGap: variant === 'card' ? 1 : 0,\n            cols: renderInline ? 'repeat(auto-fit, minmax(1ch, max-content))' : '1fr'\n          }}\n        >\n          {Children.map(children, child =>\n            cloneElement(child, {\n              name,\n              disabled: disabled || child.props.disabled,\n              readOnly: readOnly || child.props.readOnly,\n              variant,\n              onChange: onChange\n                ? (e: ChangeEvent<HTMLInputElement>) => {\n                    if (!(readOnly || child.props.readOnly)) {\n                      child.props.onChange?.(e);\n                      onChange(e);\n                    }\n                  }\n                : child.props.onChange\n            })\n          )}\n        </Grid>\n      </FormField>\n    );\n  }\n);\n\nRadioCheckGroup.defaultProps = defaultProps;\n\nexport default RadioCheckGroup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
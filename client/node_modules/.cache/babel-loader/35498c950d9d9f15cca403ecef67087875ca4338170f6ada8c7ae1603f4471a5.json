{"ast":null,"code":"import { useCallback } from 'react';\nimport { getFocusables, getActiveElement } from '../utils';\nimport useEvent from './useEvent';\n/**\n * @example useFocusTrap(elementRef)\n * @param elementRef ref of the element in which focus needs to be retained\n * @param addToDocument boolean value to specify if event to be attached to document or to be taken from elementRef, defaults to true\n * @param dependencies  list of variables or functions that will initiate this hook when they are updated.\n */\nconst useFocusTrap = function (elementRef) {\n  let attachToDocument = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  let dependencies = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  const onKeydown = useCallback(e => {\n    if (e.key === 'Tab') {\n      const focusables = getFocusables(elementRef);\n      const {\n        0: firstFocusable,\n        [focusables.length - 1]: lastFocusable\n      } = focusables;\n      const activeEl = getActiveElement();\n      if (!e.shiftKey && (activeEl === elementRef.current || activeEl === lastFocusable)) {\n        firstFocusable?.focus();\n        e.preventDefault();\n      } else if (e.shiftKey && (activeEl === elementRef.current || activeEl === firstFocusable)) {\n        lastFocusable?.focus();\n        e.preventDefault();\n      }\n    }\n  }, dependencies);\n  useEvent('keydown', onKeydown, {\n    target: attachToDocument ? undefined : elementRef\n  });\n};\nexport default useFocusTrap;","map":{"version":3,"names":["useCallback","getFocusables","getActiveElement","useEvent","useFocusTrap","elementRef","attachToDocument","arguments","length","undefined","dependencies","onKeydown","e","key","focusables","firstFocusable","lastFocusable","activeEl","shiftKey","current","focus","preventDefault","target"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/hooks/useFocusTrap.ts"],"sourcesContent":["import { RefObject, useCallback, DependencyList } from 'react';\n\nimport { getFocusables, getActiveElement } from '../utils';\n\nimport useEvent from './useEvent';\n\n/**\n * @example useFocusTrap(elementRef)\n * @param elementRef ref of the element in which focus needs to be retained\n * @param addToDocument boolean value to specify if event to be attached to document or to be taken from elementRef, defaults to true\n * @param dependencies  list of variables or functions that will initiate this hook when they are updated.\n */\nconst useFocusTrap = (\n  elementRef: RefObject<HTMLElement>,\n  attachToDocument: boolean = true,\n  dependencies: DependencyList = []\n) => {\n  const onKeydown = useCallback((e: KeyboardEvent) => {\n    if (e.key === 'Tab') {\n      const focusables = getFocusables(elementRef);\n      const { 0: firstFocusable, [focusables.length - 1]: lastFocusable } = focusables;\n      const activeEl = getActiveElement();\n\n      if (!e.shiftKey && (activeEl === elementRef.current || activeEl === lastFocusable)) {\n        firstFocusable?.focus();\n        e.preventDefault();\n      } else if (e.shiftKey && (activeEl === elementRef.current || activeEl === firstFocusable)) {\n        lastFocusable?.focus();\n        e.preventDefault();\n      }\n    }\n  }, dependencies);\n\n  useEvent('keydown', onKeydown, { target: attachToDocument ? undefined : elementRef });\n};\n\nexport default useFocusTrap;\n"],"mappings":"AAAA,SAAoBA,WAAW,QAAwB,OAAO;AAE9D,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,UAAU;AAE1D,OAAOC,QAAQ,MAAM,YAAY;AAEjC;;;;;;AAMA,MAAMC,YAAY,GAAG,SAAAA,CACnBC,UAAkC,EAGhC;EAAA,IAFFC,gBAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA4B,IAAI;EAAA,IAChCG,YAAA,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA+B,EAAE;EAEjC,MAAMI,SAAS,GAAGX,WAAW,CAAEY,CAAgB,IAAI;IACjD,IAAIA,CAAC,CAACC,GAAG,KAAK,KAAK,EAAE;MACnB,MAAMC,UAAU,GAAGb,aAAa,CAACI,UAAU,CAAC;MAC5C,MAAM;QAAE,CAAC,EAAEU,cAAc;QAAE,CAACD,UAAU,CAACN,MAAM,GAAG,CAAC,GAAGQ;MAAa,CAAE,GAAGF,UAAU;MAChF,MAAMG,QAAQ,GAAGf,gBAAgB,EAAE;MAEnC,IAAI,CAACU,CAAC,CAACM,QAAQ,KAAKD,QAAQ,KAAKZ,UAAU,CAACc,OAAO,IAAIF,QAAQ,KAAKD,aAAa,CAAC,EAAE;QAClFD,cAAc,EAAEK,KAAK,EAAE;QACvBR,CAAC,CAACS,cAAc,EAAE;OACnB,MAAM,IAAIT,CAAC,CAACM,QAAQ,KAAKD,QAAQ,KAAKZ,UAAU,CAACc,OAAO,IAAIF,QAAQ,KAAKF,cAAc,CAAC,EAAE;QACzFC,aAAa,EAAEI,KAAK,EAAE;QACtBR,CAAC,CAACS,cAAc,EAAE;;;EAGxB,CAAC,EAAEX,YAAY,CAAC;EAEhBP,QAAQ,CAAC,SAAS,EAAEQ,SAAS,EAAE;IAAEW,MAAM,EAAEhB,gBAAgB,GAAGG,SAAS,GAAGJ;EAAU,CAAE,CAAC;AACvF,CAAC;AAED,eAAeD,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}
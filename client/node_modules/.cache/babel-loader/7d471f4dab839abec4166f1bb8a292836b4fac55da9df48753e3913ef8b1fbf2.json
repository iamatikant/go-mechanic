{"ast":null,"code":"import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect } from 'react';\nimport styled, { css } from 'styled-components';\nimport Popover from '../Popover';\nimport { useConsolidatedRef, useDirection, useOuterEvent, useEscape, useUID } from '../../hooks';\nimport Menu from '../Menu';\nimport { defaultThemeProp } from '../../theme';\nimport Flex from '../Flex';\nimport { getFocusables } from '../../utils';\nimport Text from '../Text';\nconst StyledPresetMenuPopover = styled(Popover)(_ref => {\n  let {\n    theme: {\n      base: {\n        'content-width': contentWidth\n      }\n    }\n  } = _ref;\n  return css`\n      min-width: ${contentWidth.xs};\n    `;\n});\nStyledPresetMenuPopover.defaultProps = defaultThemeProp;\nconst PresetMenuPopover = _ref2 => {\n  let {\n    heading,\n    buttonRef,\n    menu,\n    isOpen,\n    onClose\n  } = _ref2;\n  const popoverRef = useConsolidatedRef();\n  const {\n    rtl\n  } = useDirection();\n  const headingId = useUID();\n  useEscape(onClose, buttonRef);\n  useOuterEvent(['mousedown', 'focusin'], [popoverRef], () => isOpen && onClose());\n  useEffect(() => {\n    getFocusables(popoverRef)[0]?.focus();\n  }, [popoverRef]);\n  return _jsx(StyledPresetMenuPopover, {\n    placement: rtl ? 'bottom-end' : 'bottom-start',\n    hideOnTargetHidden: true,\n    show: !!menu && isOpen,\n    target: buttonRef?.current,\n    ref: popoverRef,\n    \"aria-labelledby\": headingId,\n    children: menu && _jsxs(_Fragment, {\n      children: [_jsx(Flex, {\n        container: {\n          pad: [1, 2]\n        },\n        children: _jsx(Text, {\n          variant: 'h3',\n          id: headingId,\n          children: heading\n        })\n      }), _jsx(Menu, {\n        ...menu,\n        items: menu.items,\n        onItemClick: (itemId, e) => {\n          if (menu?.mode !== 'multi-select' && e.detail > 0) {\n            onClose();\n          }\n          menu?.onItemClick?.(itemId, e);\n        },\n        focusControlEl: buttonRef?.current ?? undefined\n      })]\n    })\n  });\n};\nexport default PresetMenuPopover;","map":{"version":3,"names":["useEffect","styled","css","Popover","useConsolidatedRef","useDirection","useOuterEvent","useEscape","useUID","Menu","defaultThemeProp","Flex","getFocusables","Text","StyledPresetMenuPopover","_ref","theme","base","contentWidth","xs","defaultProps","PresetMenuPopover","_ref2","heading","buttonRef","menu","isOpen","onClose","popoverRef","rtl","headingId","focus","_jsx","placement","hideOnTargetHidden","show","target","current","ref","children","_jsxs","_Fragment","container","pad","variant","id","items","onItemClick","itemId","e","mode","detail","focusControlEl","undefined"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/ListToolbar/PresetMenuPopover.tsx"],"sourcesContent":["import { FunctionComponent, MouseEvent, RefObject, UIEvent, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport Popover from '../Popover';\nimport { useConsolidatedRef, useDirection, useOuterEvent, useEscape, useUID } from '../../hooks';\nimport type { MenuProps, AcceptedMouseEventElement } from '../Menu/Menu.types';\nimport Menu from '../Menu';\nimport { defaultThemeProp } from '../../theme';\nimport Flex from '../Flex';\nimport { getFocusables } from '../../utils';\nimport Text from '../Text';\n\nexport interface PresetMenuPopoverProps {\n  heading?: string;\n  buttonRef: RefObject<HTMLButtonElement>;\n  menu?: MenuProps;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst StyledPresetMenuPopover = styled(Popover)(\n  ({\n    theme: {\n      base: { 'content-width': contentWidth }\n    }\n  }) => {\n    return css`\n      min-width: ${contentWidth.xs};\n    `;\n  }\n);\n\nStyledPresetMenuPopover.defaultProps = defaultThemeProp;\n\nconst PresetMenuPopover: FunctionComponent<PresetMenuPopoverProps> = ({\n  heading,\n  buttonRef,\n  menu,\n  isOpen,\n  onClose\n}: PresetMenuPopoverProps) => {\n  const popoverRef = useConsolidatedRef<HTMLDivElement>();\n  const { rtl } = useDirection();\n  const headingId = useUID();\n\n  useEscape(onClose, buttonRef);\n  useOuterEvent(['mousedown', 'focusin'], [popoverRef], () => isOpen && onClose());\n\n  useEffect(() => {\n    getFocusables(popoverRef)[0]?.focus();\n  }, [popoverRef]);\n\n  return (\n    <StyledPresetMenuPopover\n      placement={rtl ? 'bottom-end' : 'bottom-start'}\n      hideOnTargetHidden\n      show={!!menu && isOpen}\n      target={buttonRef?.current}\n      ref={popoverRef}\n      aria-labelledby={headingId}\n    >\n      {menu && (\n        <>\n          <Flex container={{ pad: [1, 2] }}>\n            <Text variant='h3' id={headingId}>\n              {heading}\n            </Text>\n          </Flex>\n          <Menu\n            {...menu}\n            items={menu.items}\n            onItemClick={(itemId, e) => {\n              if (\n                menu?.mode !== 'multi-select' &&\n                (e as MouseEvent<AcceptedMouseEventElement> & UIEvent<AcceptedMouseEventElement>)\n                  .detail > 0\n              ) {\n                onClose();\n              }\n              menu?.onItemClick?.(itemId, e);\n            }}\n            focusControlEl={buttonRef?.current ?? undefined}\n          />\n        </>\n      )}\n    </StyledPresetMenuPopover>\n  );\n};\nexport default PresetMenuPopover;\n"],"mappings":";AAAA,SAA4DA,SAAS,QAAQ,OAAO;AACpF,OAAOC,MAAM,IAAIC,GAAG,QAAQ,mBAAmB;AAE/C,OAAOC,OAAO,MAAM,YAAY;AAChC,SAASC,kBAAkB,EAAEC,YAAY,EAAEC,aAAa,EAAEC,SAAS,EAAEC,MAAM,QAAQ,aAAa;AAEhG,OAAOC,IAAI,MAAM,SAAS;AAC1B,SAASC,gBAAgB,QAAQ,aAAa;AAC9C,OAAOC,IAAI,MAAM,SAAS;AAC1B,SAASC,aAAa,QAAQ,aAAa;AAC3C,OAAOC,IAAI,MAAM,SAAS;AAU1B,MAAMC,uBAAuB,GAAGb,MAAM,CAACE,OAAO,CAAC,CAC7CY,IAAA,IAIK;EAAA,IAJJ;IACCC,KAAK,EAAE;MACLC,IAAI,EAAE;QAAE,eAAe,EAAEC;MAAY;IAAE;EACxC,CACF,GAAAH,IAAA;EACC,OAAOb,GAAG;mBACKgB,YAAY,CAACC,EAAE;KAC7B;AACH,CAAC,CACF;AAEDL,uBAAuB,CAACM,YAAY,GAAGV,gBAAgB;AAEvD,MAAMW,iBAAiB,GAA8CC,KAAA,IAMxC;EAAA,IANyC;IACpEC,OAAO;IACPC,SAAS;IACTC,IAAI;IACJC,MAAM;IACNC;EAAO,CACgB,GAAAL,KAAA;EACvB,MAAMM,UAAU,GAAGxB,kBAAkB,EAAkB;EACvD,MAAM;IAAEyB;EAAG,CAAE,GAAGxB,YAAY,EAAE;EAC9B,MAAMyB,SAAS,GAAGtB,MAAM,EAAE;EAE1BD,SAAS,CAACoB,OAAO,EAAEH,SAAS,CAAC;EAC7BlB,aAAa,CAAC,CAAC,WAAW,EAAE,SAAS,CAAC,EAAE,CAACsB,UAAU,CAAC,EAAE,MAAMF,MAAM,IAAIC,OAAO,EAAE,CAAC;EAEhF3B,SAAS,CAAC,MAAK;IACbY,aAAa,CAACgB,UAAU,CAAC,CAAC,CAAC,CAAC,EAAEG,KAAK,EAAE;EACvC,CAAC,EAAE,CAACH,UAAU,CAAC,CAAC;EAEhB,OACEI,IAAA,CAAClB,uBAAuB;IACtBmB,SAAS,EAAEJ,GAAG,GAAG,YAAY,GAAG,cAAc;IAC9CK,kBAAkB;IAClBC,IAAI,EAAE,CAAC,CAACV,IAAI,IAAIC,MAAM;IACtBU,MAAM,EAAEZ,SAAS,EAAEa,OAAO;IAC1BC,GAAG,EAAEV,UAAU;IAAA,mBACEE,SAAS;IAAAS,QAAA,EAEzBd,IAAI,IACHe,KAAA,CAAAC,SAAA;MAAAF,QAAA,GACEP,IAAA,CAACrB,IAAI;QAAC+B,SAAS,EAAE;UAAEC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC;QAAC,CAAE;QAAAJ,QAAA,EAC9BP,IAAA,CAACnB,IAAI;UAAC+B,OAAO,EAAC,IAAI;UAACC,EAAE,EAAEf,SAAS;UAAAS,QAAA,EAC7BhB;QAAO;MACH,EACF,EACPS,IAAA,CAACvB,IAAI;QAAA,GACCgB,IAAI;QACRqB,KAAK,EAAErB,IAAI,CAACqB,KAAK;QACjBC,WAAW,EAAEA,CAACC,MAAM,EAAEC,CAAC,KAAI;UACzB,IACExB,IAAI,EAAEyB,IAAI,KAAK,cAAc,IAC5BD,CAAgF,CAC9EE,MAAM,GAAG,CAAC,EACb;YACAxB,OAAO,EAAE;;UAEXF,IAAI,EAAEsB,WAAW,GAAGC,MAAM,EAAEC,CAAC,CAAC;QAChC,CAAC;QACDG,cAAc,EAAE5B,SAAS,EAAEa,OAAO,IAAIgB;MAAS,EAC/C;IAAA;EAEL,EACuB;AAE9B,CAAC;AACD,eAAehC,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
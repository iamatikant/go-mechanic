{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useMemo } from 'react';\nimport Select, { Option } from '../../Select';\nimport { useConfiguration } from '../../../hooks';\nimport { CALENDAR_TYPES } from './local';\nimport { getCalendarTypeFromLocale, getWeekdays } from './utils';\n// returns object with properties for localized days names\n// properties are numbers corresponding to days order according to ISO_8601 calendar (1-Monday, 2-Tuesday etc.)\nfunction getDayOfWeekNamesMap(localeTag) {\n  return getWeekdays(CALENDAR_TYPES.ISO_8601).reduce((accumulator, dayDate, index) => {\n    accumulator[index + 1] = dayDate.toLocaleString(localeTag, {\n      weekday: 'long',\n      timeZone: 'UTC'\n    });\n    return accumulator;\n  }, {});\n}\n// returns index of the first day of week according to given calendar type\n// returned value is a position of the day in base ISO calendar\nfunction getFirstWeekDayForCalendar() {\n  let refCalendarType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : CALENDAR_TYPES.ISO_8601;\n  switch (refCalendarType) {\n    case CALENDAR_TYPES.ISO_8601:\n      // start week with Monday\n      return 0;\n    case CALENDAR_TYPES.ARABIC:\n      // start week with Saturday\n      return 5;\n    case CALENDAR_TYPES.HEBREW:\n    case CALENDAR_TYPES.US:\n      // start week with Sunday\n      return 6;\n    default:\n      // ISO as default\n      return 0;\n  }\n}\n// returns array of Options for day names, ordered according to given calendar\nfunction generateOrderedDays(dayOfWeekNames, refCalendarType) {\n  const optionsArray = Object.keys(dayOfWeekNames).map(key => {\n    return _jsx(Option, {\n      value: key.toString(),\n      children: dayOfWeekNames[Number(key)]\n    }, dayOfWeekNames[Number(key)]);\n  });\n  const startingDayIndex = getFirstWeekDayForCalendar(refCalendarType);\n  return [...optionsArray.slice(startingDayIndex), ...optionsArray.slice(0, startingDayIndex)];\n}\nconst DayOfWeekInput = props => {\n  const {\n    locale\n  } = useConfiguration();\n  const {\n    value,\n    required,\n    readOnly,\n    disabled,\n    onChange,\n    ...restProps\n  } = props;\n  // days ordered according to given calendar\n  const dayOfWeekOptions = useMemo(() => generateOrderedDays(getDayOfWeekNamesMap(locale), getCalendarTypeFromLocale(locale)), [locale]);\n  const onChangeWrapper = ev => {\n    onChange?.(Number(ev.target.value));\n  };\n  return _jsxs(Select, {\n    required: required,\n    value: value ? value.toString() : undefined,\n    onChange: onChangeWrapper,\n    readOnly: readOnly,\n    disabled: disabled || readOnly,\n    ...restProps,\n    children: [!required && _jsx(Option, {\n      children: \" \"\n    }), dayOfWeekOptions]\n  });\n};\nexport default DayOfWeekInput;","map":{"version":3,"names":["useMemo","Select","Option","useConfiguration","CALENDAR_TYPES","getCalendarTypeFromLocale","getWeekdays","getDayOfWeekNamesMap","localeTag","ISO_8601","reduce","accumulator","dayDate","index","toLocaleString","weekday","timeZone","getFirstWeekDayForCalendar","refCalendarType","arguments","length","undefined","ARABIC","HEBREW","US","generateOrderedDays","dayOfWeekNames","optionsArray","Object","keys","map","key","_jsx","value","toString","children","Number","startingDayIndex","slice","DayOfWeekInput","props","locale","required","readOnly","disabled","onChange","restProps","dayOfWeekOptions","onChangeWrapper","ev","target","_jsxs"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/DateTime/Input/DayOfWeekInput.tsx"],"sourcesContent":["import { FunctionComponent, useMemo } from 'react';\n\nimport { ForwardProps } from '../../../types';\nimport Select, { Option } from '../../Select';\nimport { SelectProps } from '../../Select/Select';\nimport { FormControlProps } from '../../FormControl';\nimport { useConfiguration } from '../../../hooks';\n\nimport { CALENDAR_TYPES } from './local';\nimport { getCalendarTypeFromLocale, getWeekdays } from './utils';\n\nexport type DayOfWeek = 1 | 2 | 3 | 4 | 5 | 6 | 7;\n\nexport interface DayOfWeekInputProps {\n  /**\n   * Number from range [1-7].\n   * Creates a controlled input and sets the value. Requires an onChange handler to update value.\n   * value + onChange is the recommended method per React team.\n   */\n  value?: DayOfWeek;\n  /**\n   * Sets DOM id for the control and associates label element via 'for' attribute.\n   * If an id is not pass, a random id will be generated for any render.\n   */\n  id?: FormControlProps['id'];\n  /** Set visual state based on a validation state. */\n  status?: FormControlProps['status'];\n  /** Pass a string or a fragment with an Icon and string. */\n  label?: FormControlProps['label'];\n  /** Visually hides the label region. */\n  labelHidden?: FormControlProps['labelHidden'];\n  /** It is recommended to pass a simple string to offer guidance. Text will be styled based on status prop. */\n  info?: FormControlProps['info'];\n  /** Indicate if the field is required. The browser defaults to false. */\n  required?: FormControlProps['required'];\n  /** Disable the control. The browser defaults to false. */\n  disabled?: FormControlProps['disabled'];\n  /** Makes the input non editable and non clickable. The browser defaults to false. */\n  readOnly?: FormControlProps['readOnly'];\n  /** Sets html name attribute for the underlying control. Useful for mapping to a data field. */\n  name?: FormControlProps['name'];\n  /** Pass a heading and content to show additional information on the field. */\n  additionalInfo?: FormControlProps['additionalInfo'];\n  /** Callback fired when input value changes. */\n  onChange?: (value: DayOfWeek) => void;\n}\n\n// returns object with properties for localized days names\n// properties are numbers corresponding to days order according to ISO_8601 calendar (1-Monday, 2-Tuesday etc.)\nfunction getDayOfWeekNamesMap(localeTag?: string) {\n  return getWeekdays(CALENDAR_TYPES.ISO_8601).reduce((accumulator, dayDate, index) => {\n    accumulator[index + 1] = dayDate.toLocaleString(localeTag, {\n      weekday: 'long',\n      timeZone: 'UTC'\n    });\n    return accumulator;\n  }, {} as { [key: number]: string });\n}\n\n// returns index of the first day of week according to given calendar type\n// returned value is a position of the day in base ISO calendar\nfunction getFirstWeekDayForCalendar(refCalendarType = CALENDAR_TYPES.ISO_8601) {\n  switch (refCalendarType) {\n    case CALENDAR_TYPES.ISO_8601:\n      // start week with Monday\n      return 0;\n    case CALENDAR_TYPES.ARABIC:\n      // start week with Saturday\n      return 5;\n    case CALENDAR_TYPES.HEBREW:\n    case CALENDAR_TYPES.US:\n      // start week with Sunday\n      return 6;\n    default:\n      // ISO as default\n      return 0;\n  }\n}\n\n// returns array of Options for day names, ordered according to given calendar\nfunction generateOrderedDays(dayOfWeekNames: { [key: number]: string }, refCalendarType: string) {\n  const optionsArray = Object.keys(dayOfWeekNames).map(key => {\n    return (\n      <Option key={dayOfWeekNames[Number(key)]} value={key.toString()}>\n        {dayOfWeekNames[Number(key)]}\n      </Option>\n    );\n  });\n\n  const startingDayIndex = getFirstWeekDayForCalendar(refCalendarType);\n\n  return [...optionsArray.slice(startingDayIndex), ...optionsArray.slice(0, startingDayIndex)];\n}\n\nconst DayOfWeekInput: FunctionComponent<DayOfWeekInputProps & ForwardProps> = (\n  props: DayOfWeekInputProps\n) => {\n  const { locale } = useConfiguration();\n  const { value, required, readOnly, disabled, onChange, ...restProps } = props;\n\n  // days ordered according to given calendar\n  const dayOfWeekOptions = useMemo(\n    () => generateOrderedDays(getDayOfWeekNamesMap(locale), getCalendarTypeFromLocale(locale)),\n    [locale]\n  );\n\n  const onChangeWrapper: SelectProps['onChange'] = ev => {\n    onChange?.(Number(ev.target.value) as DayOfWeek);\n  };\n\n  return (\n    <Select\n      required={required}\n      value={value ? value.toString() : undefined}\n      onChange={onChangeWrapper}\n      readOnly={readOnly}\n      disabled={disabled || readOnly}\n      {...restProps}\n    >\n      {!required && <Option> </Option>}\n      {dayOfWeekOptions}\n    </Select>\n  );\n};\n\nexport default DayOfWeekInput;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useCallback, forwardRef, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { useOuterEvent, useConsolidatedRef, usePrevious } from '../../hooks';\nimport { reflow } from '../../utils';\nimport { defaultThemeProp } from '../../theme';\nexport const StyledDrawer = styled.div(props => {\n  const {\n    state,\n    shadow,\n    position,\n    placement,\n    transitionSpeed,\n    size,\n    theme\n  } = props;\n  let dimension = 'horizontal';\n  let axis = 'X';\n  let anchor = 'top';\n  if (placement === 'top' || placement === 'bottom') {\n    dimension = 'vertical';\n    axis = 'Y';\n    anchor = 'left';\n  }\n  const translate = state === 'open' || state === 'opening' ? 0 : '100%';\n  const speed = transitionSpeed || theme.base.animation.speed;\n  return css`\n    z-index: ${theme.base['z-index'].drawer};\n    position: ${position};\n    ${placement}: 0;\n    ${anchor}: 0;\n    height: ${dimension === 'vertical' ? size : '100%'};\n    width: ${dimension === 'horizontal' ? size : '100%'};\n    transition-property: transform, box-shadow, opacity;\n    transition-duration: max(${speed}, 0.0001s);\n    transition-timing-function: ${theme.base.animation.timing.ease};\n    transform: ${state === 'open' ? 'none' : `translate${axis}(${placement === 'top' || placement === 'left' ? '-' : ''}${translate})`};\n\n    ${shadow && css`\n      box-shadow: ${theme.base.shadow.high};\n    `}\n  `;\n});\nStyledDrawer.defaultProps = defaultThemeProp;\nconst Drawer = forwardRef((props, ref) => {\n  const {\n    open = false,\n    shadow = false,\n    position = 'absolute',\n    children,\n    placement = 'right',\n    transitionSpeed,\n    size = '100%',\n    onAfterOpen,\n    onAfterClose,\n    onBeforeOpen,\n    onBeforeClose,\n    onOuterClick,\n    nullWhenClosed = false,\n    ...restProps\n  } = props;\n  const drawerRef = useConsolidatedRef(ref);\n  const [state, setState] = useState(open ? 'open' : 'closed');\n  let prevState = usePrevious(state);\n  if (!prevState) prevState = state;\n  useOuterEvent('mousedown', [drawerRef.current], useCallback(() => {\n    if (open) onOuterClick?.();\n  }, [open, onOuterClick]));\n  useEffect(() => {\n    if (open && (state === 'closed' || state === 'closing')) {\n      onBeforeOpen?.();\n      reflow(drawerRef.current);\n      setState('opening');\n    } else if (!open && (state === 'open' || state === 'opening')) {\n      onBeforeClose?.();\n      setState('closing');\n    } else if (open && state === 'open' && prevState !== 'open') {\n      onAfterOpen?.();\n    } else if (!open && state === 'closed' && prevState !== 'closed') {\n      onAfterClose?.();\n    }\n  }, [open, state, prevState, onBeforeOpen, onBeforeClose, onAfterOpen, onAfterClose]);\n  const onTransitionEnd = useCallback(e => {\n    if (e.target !== drawerRef.current || e.propertyName !== 'transform') return;\n    setState(open ? 'open' : 'closed');\n  }, [open]);\n  return state === 'closed' && !open && nullWhenClosed ? null : _jsx(StyledDrawer, {\n    ref: drawerRef,\n    position: position,\n    shadow: shadow && open,\n    transitionSpeed: transitionSpeed,\n    placement: placement,\n    size: size,\n    open: open,\n    state: state,\n    onTransitionEnd: onTransitionEnd,\n    ...restProps,\n    children: children\n  });\n});\nexport default Drawer;","map":{"version":3,"names":["useEffect","useCallback","forwardRef","useState","styled","css","useOuterEvent","useConsolidatedRef","usePrevious","reflow","defaultThemeProp","StyledDrawer","div","props","state","shadow","position","placement","transitionSpeed","size","theme","dimension","axis","anchor","translate","speed","base","animation","drawer","timing","ease","high","defaultProps","Drawer","ref","open","children","onAfterOpen","onAfterClose","onBeforeOpen","onBeforeClose","onOuterClick","nullWhenClosed","restProps","drawerRef","setState","prevState","current","onTransitionEnd","e","target","propertyName","_jsx"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Drawer/Drawer.tsx"],"sourcesContent":["import {\n  useEffect,\n  Ref,\n  useCallback,\n  FunctionComponent,\n  forwardRef,\n  ReactNode,\n  TransitionEvent,\n  useState\n} from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { useOuterEvent, useConsolidatedRef, usePrevious } from '../../hooks';\nimport { AsProp, BaseProps, ForwardProps } from '../../types';\nimport { reflow } from '../../utils';\nimport { defaultThemeProp } from '../../theme';\n\nexport interface DrawerProps extends AsProp, BaseProps {\n  /**\n   * If true, the Drawer will be visible.\n   * @default false\n   */\n  open: boolean;\n  /** Content of the Drawer. */\n  children?: ReactNode;\n  /**\n   * Determines whether a drop shadow should be visible along the edge of the Drawer for contrast purposes.\n   * @default false\n   */\n  shadow?: boolean;\n  /**\n   * Used to determine which side of the viewport the Drawer should open from.\n   * @default 'right'\n   */\n  placement?: 'top' | 'right' | 'bottom' | 'left';\n  /**\n   * The position of the Drawer.\n   * @default 'absolute'\n   */\n  position?: 'absolute' | 'fixed';\n  /**\n   * Determines the speed of the transition. This value comes from `theme.base.animation.speed`.\n   * @default '0.25s'\n   */\n  transitionSpeed?: string;\n  /**\n   * The width or height that the Drawer will open to, depending on its placement.\n   * @default '100%'\n   */\n  size?: string;\n  /** Callback fired after Drawer opens. */\n  onAfterOpen?: () => void;\n  /** Callback fired after Drawer closes. */\n  onAfterClose?: () => void;\n  /** Callback fired before Drawer opens. */\n  onBeforeOpen?: () => void;\n  /** Callback fired before Drawer closes. */\n  onBeforeClose?: () => void;\n  /** Callback fired when a click action occurs outside of the Drawer. */\n  onOuterClick?: () => void;\n  /**\n   * If true, removes the component from the real DOM when closed. For full virtual DOM unmount(if necessary), perform at a parent level.\n   * @default false\n   */\n  nullWhenClosed?: boolean;\n}\n\ntype State = 'open' | 'closed' | 'opening' | 'closing';\n\nexport const StyledDrawer = styled.div<Partial<DrawerProps & { state: State }>>(props => {\n  const { state, shadow, position, placement, transitionSpeed, size, theme } = props;\n  let dimension = 'horizontal';\n  let axis = 'X';\n  let anchor = 'top';\n\n  if (placement === 'top' || placement === 'bottom') {\n    dimension = 'vertical';\n    axis = 'Y';\n    anchor = 'left';\n  }\n\n  const translate = state === 'open' || state === 'opening' ? 0 : '100%';\n  const speed = transitionSpeed || theme.base.animation.speed;\n\n  return css`\n    z-index: ${theme.base['z-index'].drawer};\n    position: ${position};\n    ${placement}: 0;\n    ${anchor}: 0;\n    height: ${dimension === 'vertical' ? size : '100%'};\n    width: ${dimension === 'horizontal' ? size : '100%'};\n    transition-property: transform, box-shadow, opacity;\n    transition-duration: max(${speed}, 0.0001s);\n    transition-timing-function: ${theme.base.animation.timing.ease};\n    transform: ${state === 'open'\n      ? 'none'\n      : `translate${axis}(${placement === 'top' || placement === 'left' ? '-' : ''}${translate})`};\n\n    ${shadow &&\n    css`\n      box-shadow: ${theme.base.shadow.high};\n    `}\n  `;\n});\n\nStyledDrawer.defaultProps = defaultThemeProp;\n\nconst Drawer: FunctionComponent<DrawerProps & ForwardProps> = forwardRef(\n  (props: DrawerProps, ref: Ref<HTMLElement>) => {\n    const {\n      open = false,\n      shadow = false,\n      position = 'absolute',\n      children,\n      placement = 'right',\n      transitionSpeed,\n      size = '100%',\n      onAfterOpen,\n      onAfterClose,\n      onBeforeOpen,\n      onBeforeClose,\n      onOuterClick,\n      nullWhenClosed = false,\n      ...restProps\n    } = props;\n\n    const drawerRef = useConsolidatedRef(ref);\n\n    const [state, setState] = useState<State>(open ? 'open' : 'closed');\n\n    let prevState = usePrevious(state);\n    if (!prevState) prevState = state;\n\n    useOuterEvent(\n      'mousedown',\n      [drawerRef.current],\n      useCallback(() => {\n        if (open) onOuterClick?.();\n      }, [open, onOuterClick])\n    );\n\n    useEffect(() => {\n      if (open && (state === 'closed' || state === 'closing')) {\n        onBeforeOpen?.();\n        reflow(drawerRef.current);\n        setState('opening');\n      } else if (!open && (state === 'open' || state === 'opening')) {\n        onBeforeClose?.();\n        setState('closing');\n      } else if (open && state === 'open' && prevState !== 'open') {\n        onAfterOpen?.();\n      } else if (!open && state === 'closed' && prevState !== 'closed') {\n        onAfterClose?.();\n      }\n    }, [open, state, prevState, onBeforeOpen, onBeforeClose, onAfterOpen, onAfterClose]);\n\n    const onTransitionEnd = useCallback(\n      (e: TransitionEvent): void => {\n        if (e.target !== drawerRef.current || e.propertyName !== 'transform') return;\n        setState(open ? 'open' : 'closed');\n      },\n      [open]\n    );\n\n    return state === 'closed' && !open && nullWhenClosed ? null : (\n      <StyledDrawer\n        ref={drawerRef}\n        position={position}\n        shadow={shadow && open}\n        transitionSpeed={transitionSpeed}\n        placement={placement}\n        size={size}\n        open={open}\n        state={state}\n        onTransitionEnd={onTransitionEnd}\n        {...restProps}\n      >\n        {children}\n      </StyledDrawer>\n    );\n  }\n);\n\nexport default Drawer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
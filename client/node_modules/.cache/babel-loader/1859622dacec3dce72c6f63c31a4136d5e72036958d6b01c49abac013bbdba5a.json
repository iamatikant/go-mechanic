{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { createElement as _createElement } from \"react\";\nimport { forwardRef, useContext, useEffect, useLayoutEffect, useRef, useState, useMemo, Fragment, useCallback } from 'react';\nimport Drawer from '../Drawer';\nimport { useAfterInitialEffect, useConsolidatedRef, useItemIntersection, useI18n, useDirection } from '../../hooks';\nimport Progress from '../Progress';\nimport EmptyState from '../EmptyState';\nimport MenuContext from './Menu.context';\nimport MenuListHeader from './MenuListHeader';\nimport MenuItem from './MenuItem';\nimport helpers from './helpers';\nimport { StyledLoadingItem, StyledMenuList, StyledMenuListContainer, StyledSeparator } from './Menu.styles';\nimport { resizeRootEl } from './NavItemsList';\nimport MenuGroup from './MenuGroup';\nconst setParentDisabled = (fieldset, bool) => {\n  fieldset.disabled = bool;\n  const legendButton = fieldset.querySelector('legend button');\n  if (legendButton) {\n    legendButton.disabled = bool;\n  }\n};\nconst countVisibleItems = menuItems => {\n  return menuItems.reduce((acc, item) => {\n    const isFlatGroup = !helpers.isItem(item);\n    if (isFlatGroup && item.items) {\n      return acc + item.items.length + 1;\n    }\n    return acc + 1;\n  }, 0);\n};\nconst MenuList = forwardRef((_ref, ref) => {\n  let {\n    items,\n    parent,\n    id,\n    menuRole,\n    ...restProps\n  } = _ref;\n  const t = useI18n();\n  const menuListWrapperRef = useRef(null);\n  const selfRef = useConsolidatedRef(ref);\n  const ulRef = useRef(null);\n  const returnFocusRef = useRef(null);\n  const [open, setOpen] = useState(!parent);\n  const [expandedItem, setExpandedItem] = useState();\n  const {\n    scrollAt,\n    'aria-label': label,\n    loadMore,\n    loading,\n    emptyText,\n    currentItemId,\n    onItemExpand,\n    focusControl,\n    updateActiveDescendants,\n    setFocusReturnEl,\n    onItemCollapse\n  } = useContext(MenuContext);\n  const {\n    end\n  } = useDirection();\n  useItemIntersection(ulRef, items.length - 1, () => {\n    if (!loading) loadMore?.(parent?.item?.id);\n  }, ':scope > li');\n  useLayoutEffect(() => {\n    if (!selfRef.current || expandedItem) return;\n    menuListWrapperRef.current = selfRef.current.parentElement;\n    resizeRootEl(selfRef.current, menuListWrapperRef.current, countVisibleItems(items), scrollAt);\n  });\n  useEffect(() => {\n    if (parent) setOpen(true);\n  }, []);\n  useAfterInitialEffect(() => {\n    if (expandedItem) {\n      setExpandedItem(items.find(item => item.id === expandedItem.id)); // FIXME\n    }\n  }, [expandedItem, items]);\n  useAfterInitialEffect(() => {\n    if (currentItemId) {\n      // if there is ancestor item of the controlled item, set it to expanded.\n      const ancestor = items.find(item => item.items?.length && helpers.getItem(item.items, currentItemId) !== undefined);\n      if (ancestor) {\n        setExpandedItem(ancestor);\n        updateActiveDescendants({\n          preventScroll: true\n        });\n      }\n    }\n  }, [currentItemId, items, parent]);\n  const onExpandCallback = useCallback((itemId, e) => {\n    const item = helpers.getItem(items, itemId);\n    returnFocusRef.current = e.currentTarget;\n    setExpandedItem(item); // FIXME\n    item?.onExpand?.(itemId, e);\n    onItemExpand?.(itemId, e);\n    updateActiveDescendants({\n      preventScroll: true\n    });\n  }, [items]);\n  const listContent = useMemo(() => {\n    if (items.length) {\n      return items.map((item, index) => {\n        return helpers.isItem(item) ? _createElement(MenuItem, {\n          ...item,\n          key: item.id,\n          role: menuRole === 'listbox' ? 'option' : 'menuitem',\n          onExpand: item.items ? onExpandCallback : undefined\n        }) : _jsxs(Fragment, {\n          children: [_jsx(MenuGroup, {\n            ...item,\n            itemRole: menuRole === 'listbox' ? 'option' : 'menuitem'\n          }), items[index + 1] && helpers.isItem(items[index + 1]) && _jsx(StyledSeparator, {\n            role: 'separator'\n          })]\n        }, item.id);\n      });\n    }\n    if (!loading) {\n      return _jsx(EmptyState, {\n        message: emptyText,\n        forwardedAs: 'li'\n      });\n    }\n    return null;\n  }, [items, loading, emptyText]);\n  const list = _jsxs(StyledMenuList, {\n    id: expandedItem ? undefined : id,\n    ref: ulRef,\n    role: menuRole,\n    ...restProps,\n    children: [parent && _jsx(MenuListHeader, {\n      text: parent.item.primary,\n      onClick: () => {\n        setOpen(false);\n      }\n    }), listContent, loading && !expandedItem && _jsx(StyledLoadingItem, {\n      children: _jsx(Progress, {\n        placement: 'local',\n        liveConfig: {\n          contextualLabel: label ?? t('menu')\n        }\n      })\n    })]\n  });\n  return _jsxs(_Fragment, {\n    children: [_jsx(Drawer, {\n      \"aria-hidden\": !!expandedItem,\n      as: StyledMenuListContainer,\n      ref: selfRef,\n      open: open,\n      style: {\n        opacity: expandedItem ? 0 : 1\n      },\n      disabled: !!expandedItem,\n      placement: end,\n      onBeforeOpen: () => {\n        if (parent) {\n          parent.el.style.opacity = '0';\n        }\n        if (selfRef.current) {\n          selfRef.current.style.opacity = '1';\n        }\n      },\n      onAfterOpen: () => {\n        if (parent) {\n          setParentDisabled(parent.el, true);\n        }\n      },\n      onBeforeClose: () => {\n        if (parent && menuListWrapperRef.current) {\n          setParentDisabled(parent.el, false);\n          parent.el.style.opacity = '1';\n          resizeRootEl(parent.el, menuListWrapperRef.current, countVisibleItems(parent.siblingItems), scrollAt);\n        }\n        if (selfRef.current) {\n          selfRef.current.style.opacity = '0';\n        }\n      },\n      onAfterClose: () => {\n        if (parent) {\n          focusControl?.focus();\n          const expandBtn = parent.returnFocusRef.current;\n          parent.setExpandedItem(undefined);\n          if (expandBtn) {\n            setFocusReturnEl(expandBtn?.closest('li'));\n          }\n          onItemCollapse?.(parent.item.id);\n          updateActiveDescendants();\n        }\n      },\n      children: list\n    }), expandedItem && selfRef.current && _jsx(MenuList, {\n      id: id,\n      items: expandedItem.items,\n      parent: {\n        el: selfRef.current,\n        item: expandedItem,\n        siblingItems: items,\n        setExpandedItem,\n        returnFocusRef\n      },\n      menuRole: menuRole\n    })]\n  });\n});\nexport default MenuList;","map":{"version":3,"names":["forwardRef","useContext","useEffect","useLayoutEffect","useRef","useState","useMemo","Fragment","useCallback","Drawer","useAfterInitialEffect","useConsolidatedRef","useItemIntersection","useI18n","useDirection","Progress","EmptyState","MenuContext","MenuListHeader","MenuItem","helpers","StyledLoadingItem","StyledMenuList","StyledMenuListContainer","StyledSeparator","resizeRootEl","MenuGroup","setParentDisabled","fieldset","bool","disabled","legendButton","querySelector","countVisibleItems","menuItems","reduce","acc","item","isFlatGroup","isItem","items","length","MenuList","_ref","ref","parent","id","menuRole","restProps","t","menuListWrapperRef","selfRef","ulRef","returnFocusRef","open","setOpen","expandedItem","setExpandedItem","scrollAt","label","loadMore","loading","emptyText","currentItemId","onItemExpand","focusControl","updateActiveDescendants","setFocusReturnEl","onItemCollapse","end","current","parentElement","find","ancestor","getItem","undefined","preventScroll","onExpandCallback","itemId","e","currentTarget","onExpand","listContent","map","index","_createElement","key","role","_jsxs","children","_jsx","itemRole","message","forwardedAs","list","text","primary","onClick","placement","liveConfig","contextualLabel","_Fragment","as","style","opacity","onBeforeOpen","el","onAfterOpen","onBeforeClose","siblingItems","onAfterClose","focus","expandBtn","closest"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Menu/MenuList.tsx"],"sourcesContent":["import {\n  forwardRef,\n  FunctionComponent,\n  MutableRefObject,\n  PropsWithoutRef,\n  useContext,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState,\n  useMemo,\n  Fragment,\n  useCallback,\n  MouseEvent\n} from 'react';\n\nimport { ForwardProps } from '../../types';\nimport Drawer from '../Drawer';\nimport {\n  useAfterInitialEffect,\n  useConsolidatedRef,\n  useItemIntersection,\n  useI18n,\n  useDirection\n} from '../../hooks';\nimport Progress from '../Progress';\nimport EmptyState from '../EmptyState';\n\nimport type {\n  AcceptedMouseEventElement,\n  MenuListProps,\n  ParentMenuItemProps,\n  MenuItemProps\n} from './Menu.types';\nimport MenuContext from './Menu.context';\nimport MenuListHeader from './MenuListHeader';\nimport MenuItem from './MenuItem';\nimport helpers from './helpers';\nimport {\n  StyledLoadingItem,\n  StyledMenuList,\n  StyledMenuListContainer,\n  StyledSeparator\n} from './Menu.styles';\nimport { resizeRootEl } from './NavItemsList';\nimport MenuGroup from './MenuGroup';\n\nconst setParentDisabled = (fieldset: HTMLFieldSetElement, bool: boolean) => {\n  fieldset.disabled = bool;\n  const legendButton = fieldset.querySelector<HTMLButtonElement>('legend button');\n  if (legendButton) {\n    legendButton.disabled = bool;\n  }\n};\n\nconst countVisibleItems = (menuItems: MenuListProps['items']): number => {\n  return menuItems.reduce<number>((acc, item) => {\n    const isFlatGroup = !helpers.isItem(item);\n    if (isFlatGroup && item.items) {\n      return acc + item.items.length + 1;\n    }\n\n    return acc + 1;\n  }, 0);\n};\n\nconst MenuList: FunctionComponent<MenuListProps & ForwardProps> = forwardRef(\n  (\n    { items, parent, id, menuRole, ...restProps }: PropsWithoutRef<MenuListProps>,\n    ref: MenuListProps['ref']\n  ) => {\n    const t = useI18n();\n    const menuListWrapperRef: MutableRefObject<HTMLElement | null> = useRef(null);\n    const selfRef = useConsolidatedRef(ref);\n    const ulRef = useRef<HTMLUListElement>(null);\n    const returnFocusRef: MutableRefObject<HTMLButtonElement | null> = useRef(null);\n    const [open, setOpen] = useState(!parent);\n    const [expandedItem, setExpandedItem] = useState<ParentMenuItemProps>();\n    const {\n      scrollAt,\n      'aria-label': label,\n      loadMore,\n      loading,\n      emptyText,\n      currentItemId,\n      onItemExpand,\n      focusControl,\n      updateActiveDescendants,\n      setFocusReturnEl,\n      onItemCollapse\n    } = useContext(MenuContext);\n    const { end } = useDirection();\n\n    useItemIntersection(\n      ulRef,\n      items.length - 1,\n      () => {\n        if (!loading) loadMore?.(parent?.item?.id);\n      },\n      ':scope > li'\n    );\n\n    useLayoutEffect(() => {\n      if (!selfRef.current || expandedItem) return;\n      menuListWrapperRef.current = selfRef.current.parentElement;\n      resizeRootEl(\n        selfRef.current,\n        menuListWrapperRef.current as HTMLElement,\n        countVisibleItems(items),\n        scrollAt\n      );\n    });\n\n    useEffect(() => {\n      if (parent) setOpen(true);\n    }, []);\n\n    useAfterInitialEffect(() => {\n      if (expandedItem) {\n        setExpandedItem(items.find(item => item.id === expandedItem.id) as ParentMenuItemProps); // FIXME\n      }\n    }, [expandedItem, items]);\n\n    useAfterInitialEffect(() => {\n      if (currentItemId) {\n        // if there is ancestor item of the controlled item, set it to expanded.\n        const ancestor = items.find(\n          item => item.items?.length && helpers.getItem(item.items, currentItemId) !== undefined\n        );\n\n        if (ancestor) {\n          setExpandedItem(ancestor as ParentMenuItemProps);\n          updateActiveDescendants({ preventScroll: true });\n        }\n      }\n    }, [currentItemId, items, parent]);\n\n    const onExpandCallback = useCallback(\n      (itemId: MenuItemProps['id'], e: MouseEvent<AcceptedMouseEventElement>) => {\n        const item = helpers.getItem(items, itemId);\n        returnFocusRef.current = e.currentTarget as HTMLButtonElement;\n        setExpandedItem(item as ParentMenuItemProps); // FIXME\n        item?.onExpand?.(itemId, e);\n        onItemExpand?.(itemId, e);\n        updateActiveDescendants({ preventScroll: true });\n      },\n      [items]\n    );\n\n    const listContent = useMemo(() => {\n      if (items.length) {\n        return items.map((item, index) => {\n          return helpers.isItem(item) ? (\n            <MenuItem\n              {...item}\n              key={item.id}\n              role={menuRole === 'listbox' ? 'option' : 'menuitem'}\n              onExpand={item.items ? onExpandCallback : undefined}\n            />\n          ) : (\n            <Fragment key={item.id}>\n              <MenuGroup {...item} itemRole={menuRole === 'listbox' ? 'option' : 'menuitem'} />\n              {items[index + 1] && helpers.isItem(items[index + 1]) && (\n                <StyledSeparator role='separator' />\n              )}\n            </Fragment>\n          );\n        });\n      }\n\n      if (!loading) {\n        return <EmptyState message={emptyText} forwardedAs='li' />;\n      }\n\n      return null;\n    }, [items, loading, emptyText]);\n\n    const list = (\n      <StyledMenuList id={expandedItem ? undefined : id} ref={ulRef} role={menuRole} {...restProps}>\n        {parent && (\n          <MenuListHeader\n            text={parent.item.primary}\n            onClick={() => {\n              setOpen(false);\n            }}\n          />\n        )}\n        {listContent}\n        {loading && !expandedItem && (\n          <StyledLoadingItem>\n            <Progress placement='local' liveConfig={{ contextualLabel: label ?? t('menu') }} />\n          </StyledLoadingItem>\n        )}\n      </StyledMenuList>\n    );\n\n    return (\n      <>\n        <Drawer\n          aria-hidden={!!expandedItem}\n          as={StyledMenuListContainer}\n          ref={selfRef}\n          open={open}\n          style={{ opacity: expandedItem ? 0 : 1 }}\n          disabled={!!expandedItem}\n          placement={end}\n          onBeforeOpen={() => {\n            if (parent) {\n              parent.el.style.opacity = '0';\n            }\n\n            if (selfRef.current) {\n              selfRef.current.style.opacity = '1';\n            }\n          }}\n          onAfterOpen={() => {\n            if (parent) {\n              setParentDisabled(parent.el, true);\n            }\n          }}\n          onBeforeClose={() => {\n            if (parent && menuListWrapperRef.current) {\n              setParentDisabled(parent.el, false);\n              parent.el.style.opacity = '1';\n              resizeRootEl(\n                parent.el,\n                menuListWrapperRef.current,\n                countVisibleItems(parent.siblingItems),\n                scrollAt\n              );\n            }\n\n            if (selfRef.current) {\n              selfRef.current.style.opacity = '0';\n            }\n          }}\n          onAfterClose={() => {\n            if (parent) {\n              focusControl?.focus();\n\n              const expandBtn = parent.returnFocusRef.current;\n              parent.setExpandedItem(undefined);\n\n              if (expandBtn) {\n                setFocusReturnEl(expandBtn?.closest('li'));\n              }\n\n              onItemCollapse?.(parent.item.id);\n              updateActiveDescendants();\n            }\n          }}\n        >\n          {list}\n        </Drawer>\n\n        {expandedItem && selfRef.current && (\n          <MenuList\n            id={id}\n            items={expandedItem.items}\n            parent={{\n              el: selfRef.current,\n              item: expandedItem,\n              siblingItems: items,\n              setExpandedItem,\n              returnFocusRef\n            }}\n            menuRole={menuRole}\n          />\n        )}\n      </>\n    );\n  }\n);\n\nexport default MenuList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
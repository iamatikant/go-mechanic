{"ast":null,"code":"import { useCallback, useEffect, useState } from 'react';\nexport const expandCollapseStates = Object.freeze({\n  low: 'collapsed',\n  rising: 'expanding',\n  high: 'expanded',\n  falling: 'collapsing'\n});\nexport const openCloseStates = Object.freeze({\n  low: 'closed',\n  rising: 'opening',\n  high: 'open',\n  falling: 'closing'\n});\nconst useTransitionState = _ref => {\n  let {\n    ref,\n    property,\n    states = {\n      low: 'low',\n      rising: 'rising',\n      high: 'high',\n      falling: 'falling'\n    },\n    defaultState = states.low\n  } = _ref;\n  const [state, setState] = useState(() => defaultState === states.high ? 'high' : 'low');\n  const onTransitionEnd = useCallback(e => {\n    if (e.propertyName !== property || e.target !== e.currentTarget) return;\n    setState(cur => cur === 'falling' ? 'low' : 'high');\n  }, [property]);\n  useEffect(() => {\n    const el = ref.current;\n    if (!el) return;\n    el.addEventListener('transitionend', onTransitionEnd);\n    return () => {\n      el.removeEventListener('transitionend', onTransitionEnd);\n    };\n  }, [onTransitionEnd, ref.current]);\n  const set = useCallback(wantsToGo => {\n    setState(cur => {\n      if (wantsToGo === states.high && cur !== 'high') return 'rising';\n      if (wantsToGo === states.low && cur !== 'low') return 'falling';\n      return cur;\n    });\n  }, []);\n  const toggle = useCallback(() => {\n    setState(cur => {\n      if (cur === 'low' || cur === 'falling') return 'rising';\n      if (cur === 'high' || cur === 'rising') return 'falling';\n      return cur;\n    });\n  }, []);\n  return {\n    state: states[state],\n    set,\n    toggle\n  };\n};\nexport default useTransitionState;","map":{"version":3,"names":["useCallback","useEffect","useState","expandCollapseStates","Object","freeze","low","rising","high","falling","openCloseStates","useTransitionState","_ref","ref","property","states","defaultState","state","setState","onTransitionEnd","e","propertyName","target","currentTarget","cur","el","current","addEventListener","removeEventListener","set","wantsToGo","toggle"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/hooks/useTransitionState.ts"],"sourcesContent":["import { CSSProperties, RefObject, useCallback, useEffect, useState } from 'react';\n\nexport const expandCollapseStates = Object.freeze({\n  low: 'collapsed',\n  rising: 'expanding',\n  high: 'expanded',\n  falling: 'collapsing'\n} as const);\n\nexport const openCloseStates = Object.freeze({\n  low: 'closed',\n  rising: 'opening',\n  high: 'open',\n  falling: 'closing'\n} as const);\n\nconst useTransitionState = <\n  Low extends string = 'low',\n  Rising extends string = 'rising',\n  High extends string = 'high',\n  Falling extends string = 'falling'\n>({\n  ref,\n  property,\n  states = {\n    low: 'low' as Low,\n    rising: 'rising' as Rising,\n    high: 'high' as High,\n    falling: 'falling' as Falling\n  },\n  defaultState = states.low\n}: {\n  ref: RefObject<HTMLElement>;\n  property: keyof CSSProperties;\n} & (\n  | {\n      states: { low: Low; rising: Rising; high: High; falling: Falling };\n      defaultState?: Low | High;\n    }\n  | {\n      states?: { low: 'low'; rising: 'rising'; high: 'high'; falling: 'falling' };\n      defaultState?: 'low' | 'high';\n    }\n)) => {\n  const [state, setState] = useState<keyof typeof states>(() =>\n    defaultState === states.high ? 'high' : 'low'\n  );\n\n  const onTransitionEnd = useCallback(\n    (e: TransitionEvent) => {\n      if (e.propertyName !== property || e.target !== e.currentTarget) return;\n      setState(cur => (cur === 'falling' ? 'low' : 'high'));\n    },\n    [property]\n  );\n\n  useEffect(() => {\n    const el = ref.current;\n    if (!el) return;\n\n    el.addEventListener('transitionend', onTransitionEnd);\n    return () => {\n      el.removeEventListener('transitionend', onTransitionEnd);\n    };\n  }, [onTransitionEnd, ref.current]);\n\n  const set = useCallback((wantsToGo: Low | High) => {\n    setState(cur => {\n      if (wantsToGo === states.high && cur !== 'high') return 'rising';\n      if (wantsToGo === states.low && cur !== 'low') return 'falling';\n      return cur;\n    });\n  }, []);\n\n  const toggle = useCallback(() => {\n    setState(cur => {\n      if (cur === 'low' || cur === 'falling') return 'rising';\n      if (cur === 'high' || cur === 'rising') return 'falling';\n      return cur;\n    });\n  }, []);\n\n  return { state: states[state] as Low | Rising | High | Falling, set, toggle };\n};\n\nexport default useTransitionState;\n"],"mappings":"AAAA,SAAmCA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAElF,OAAO,MAAMC,oBAAoB,GAAGC,MAAM,CAACC,MAAM,CAAC;EAChDC,GAAG,EAAE,WAAW;EAChBC,MAAM,EAAE,WAAW;EACnBC,IAAI,EAAE,UAAU;EAChBC,OAAO,EAAE;CACD,CAAC;AAEX,OAAO,MAAMC,eAAe,GAAGN,MAAM,CAACC,MAAM,CAAC;EAC3CC,GAAG,EAAE,QAAQ;EACbC,MAAM,EAAE,SAAS;EACjBC,IAAI,EAAE,MAAM;EACZC,OAAO,EAAE;CACD,CAAC;AAEX,MAAME,kBAAkB,GAAGC,IAAA,IA2BtB;EAAA,IAtBH;IACAC,GAAG;IACHC,QAAQ;IACRC,MAAM,GAAG;MACPT,GAAG,EAAE,KAAY;MACjBC,MAAM,EAAE,QAAkB;MAC1BC,IAAI,EAAE,MAAc;MACpBC,OAAO,EAAE;KACV;IACDO,YAAY,GAAGD,MAAM,CAACT;EAAG,CAa1B,GAAAM,IAAA;EACC,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAsB,MACtDc,YAAY,KAAKD,MAAM,CAACP,IAAI,GAAG,MAAM,GAAG,KAAK,CAC9C;EAED,MAAMW,eAAe,GAAGnB,WAAW,CAChCoB,CAAkB,IAAI;IACrB,IAAIA,CAAC,CAACC,YAAY,KAAKP,QAAQ,IAAIM,CAAC,CAACE,MAAM,KAAKF,CAAC,CAACG,aAAa,EAAE;IACjEL,QAAQ,CAACM,GAAG,IAAKA,GAAG,KAAK,SAAS,GAAG,KAAK,GAAG,MAAO,CAAC;EACvD,CAAC,EACD,CAACV,QAAQ,CAAC,CACX;EAEDb,SAAS,CAAC,MAAK;IACb,MAAMwB,EAAE,GAAGZ,GAAG,CAACa,OAAO;IACtB,IAAI,CAACD,EAAE,EAAE;IAETA,EAAE,CAACE,gBAAgB,CAAC,eAAe,EAAER,eAAe,CAAC;IACrD,OAAO,MAAK;MACVM,EAAE,CAACG,mBAAmB,CAAC,eAAe,EAAET,eAAe,CAAC;IAC1D,CAAC;EACH,CAAC,EAAE,CAACA,eAAe,EAAEN,GAAG,CAACa,OAAO,CAAC,CAAC;EAElC,MAAMG,GAAG,GAAG7B,WAAW,CAAE8B,SAAqB,IAAI;IAChDZ,QAAQ,CAACM,GAAG,IAAG;MACb,IAAIM,SAAS,KAAKf,MAAM,CAACP,IAAI,IAAIgB,GAAG,KAAK,MAAM,EAAE,OAAO,QAAQ;MAChE,IAAIM,SAAS,KAAKf,MAAM,CAACT,GAAG,IAAIkB,GAAG,KAAK,KAAK,EAAE,OAAO,SAAS;MAC/D,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMO,MAAM,GAAG/B,WAAW,CAAC,MAAK;IAC9BkB,QAAQ,CAACM,GAAG,IAAG;MACb,IAAIA,GAAG,KAAK,KAAK,IAAIA,GAAG,KAAK,SAAS,EAAE,OAAO,QAAQ;MACvD,IAAIA,GAAG,KAAK,MAAM,IAAIA,GAAG,KAAK,QAAQ,EAAE,OAAO,SAAS;MACxD,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEP,KAAK,EAAEF,MAAM,CAACE,KAAK,CAAkC;IAAEY,GAAG;IAAEE;EAAM,CAAE;AAC/E,CAAC;AAED,eAAepB,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
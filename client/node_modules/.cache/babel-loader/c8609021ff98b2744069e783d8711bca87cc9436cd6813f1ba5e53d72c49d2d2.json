{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { defaultThemeProp } from '../../theme';\nimport { useConsolidatedRef } from '../../hooks';\nexport const StyledBareButton = styled.button`\n  background: none;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  color: inherit;\n\n  & + & {\n    margin-inline-start: ${props => props.theme.base.spacing};\n  }\n`;\nStyledBareButton.defaultProps = defaultThemeProp;\nconst BareButton = forwardRef((_ref, ref) => {\n  let {\n    type = 'button',\n    disabled = false,\n    href,\n    ...restProps\n  } = _ref;\n  const mouseDownEvent = useRef();\n  const buttonRef = useConsolidatedRef(ref);\n  useEffect(() => {\n    return () => {\n      mouseDownEvent.current = undefined;\n    };\n  }, []);\n  return _jsx(StyledBareButton, {\n    ref: buttonRef,\n    as: href ? 'a' : undefined,\n    type: href ? undefined : type,\n    disabled: disabled,\n    ...restProps,\n    href: href,\n    onMouseDown: e => {\n      restProps.onMouseDown?.(e);\n      e.persist();\n      mouseDownEvent.current = e;\n    },\n    onMouseUp: e => {\n      const shouldFocus = mouseDownEvent.current && !mouseDownEvent.current.defaultPrevented;\n      mouseDownEvent.current = undefined;\n      if (shouldFocus && buttonRef.current !== document.activeElement) {\n        buttonRef.current?.focus();\n      }\n      return restProps.onMouseUp?.(e);\n    }\n  });\n});\nexport default BareButton;","map":{"version":3,"names":["forwardRef","useRef","useEffect","styled","defaultThemeProp","useConsolidatedRef","StyledBareButton","button","props","theme","base","spacing","defaultProps","BareButton","_ref","ref","type","disabled","href","restProps","mouseDownEvent","buttonRef","current","undefined","_jsx","as","onMouseDown","e","persist","onMouseUp","shouldFocus","defaultPrevented","document","activeElement","focus"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Button/BareButton.tsx"],"sourcesContent":["import {\n  forwardRef,\n  useRef,\n  FunctionComponent,\n  PropsWithoutRef,\n  Ref,\n  MouseEvent,\n  MouseEventHandler,\n  useEffect\n} from 'react';\nimport styled from 'styled-components';\n\nimport { BaseProps, ForwardProps } from '../../types';\nimport { defaultThemeProp } from '../../theme';\nimport { useConsolidatedRef } from '../../hooks';\n\nimport { ButtonProps } from './Button';\n\nexport interface BareButtonProps extends BaseProps {\n  /** Text or content for the Button. */\n  children: ButtonProps['children'];\n  /**\n   * Determines if the Button will be disabled.\n   * @default false\n   */\n  disabled?: ButtonProps['disabled'];\n  /** A location to navigate to. Passing an href will render a Link styled as a Button. */\n  href?: ButtonProps['href'];\n  /**\n   * Controls the behavior of a Button within a Form.\n   * @default 'button'\n   */\n  type?: ButtonProps['type'];\n  /** Ref forwarded to the wrapping element. */\n  ref?: ButtonProps['ref'];\n}\n\nexport const StyledBareButton = styled.button`\n  background: none;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  color: inherit;\n\n  & + & {\n    margin-inline-start: ${props => props.theme.base.spacing};\n  }\n`;\n\nStyledBareButton.defaultProps = defaultThemeProp;\n\nconst BareButton: FunctionComponent<BareButtonProps & ForwardProps> = forwardRef(\n  (\n    {\n      type = 'button',\n      disabled = false,\n      href,\n      ...restProps\n    }: PropsWithoutRef<BareButtonProps> & ForwardProps,\n    ref: Ref<HTMLButtonElement>\n  ) => {\n    const mouseDownEvent = useRef<MouseEvent>();\n    const buttonRef = useConsolidatedRef(ref);\n\n    useEffect(() => {\n      return () => {\n        mouseDownEvent.current = undefined;\n      };\n    }, []);\n\n    return (\n      <StyledBareButton\n        ref={buttonRef}\n        as={href ? ('a' as any) : undefined}\n        type={href ? undefined : type}\n        disabled={disabled}\n        {...restProps}\n        href={href}\n        onMouseDown={(e: MouseEvent<HTMLButtonElement | HTMLAnchorElement>) => {\n          (restProps.onMouseDown as MouseEventHandler | undefined)?.(e);\n          e.persist();\n          mouseDownEvent.current = e;\n        }}\n        onMouseUp={(e: MouseEvent<HTMLButtonElement | HTMLAnchorElement>) => {\n          const shouldFocus = mouseDownEvent.current && !mouseDownEvent.current.defaultPrevented;\n          mouseDownEvent.current = undefined;\n\n          if (shouldFocus && buttonRef.current !== document.activeElement) {\n            buttonRef.current?.focus();\n          }\n\n          return (restProps.onMouseUp as MouseEventHandler | undefined)?.(e);\n        }}\n      />\n    );\n  }\n);\n\nexport default BareButton;\n"],"mappings":";AAAA,SACEA,UAAU,EACVC,MAAM,EAMNC,SAAS,QACJ,OAAO;AACd,OAAOC,MAAM,MAAM,mBAAmB;AAGtC,SAASC,gBAAgB,QAAQ,aAAa;AAC9C,SAASC,kBAAkB,QAAQ,aAAa;AAuBhD,OAAO,MAAMC,gBAAgB,GAAGH,MAAM,CAACI,MAAM;;;;;;;;;2BASlBC,KAAK,IAAIA,KAAK,CAACC,KAAK,CAACC,IAAI,CAACC,OAAO;;CAE3D;AAEDL,gBAAgB,CAACM,YAAY,GAAGR,gBAAgB;AAEhD,MAAMS,UAAU,GAAsDb,UAAU,CAC9E,CAAAc,IAAA,EAOEC,GAA2B,KACzB;EAAA,IAPF;IACEC,IAAI,GAAG,QAAQ;IACfC,QAAQ,GAAG,KAAK;IAChBC,IAAI;IACJ,GAAGC;EAAS,CACoC,GAAAL,IAAA;EAGlD,MAAMM,cAAc,GAAGnB,MAAM,EAAc;EAC3C,MAAMoB,SAAS,GAAGhB,kBAAkB,CAACU,GAAG,CAAC;EAEzCb,SAAS,CAAC,MAAK;IACb,OAAO,MAAK;MACVkB,cAAc,CAACE,OAAO,GAAGC,SAAS;IACpC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OACEC,IAAA,CAAClB,gBAAgB;IACfS,GAAG,EAAEM,SAAS;IACdI,EAAE,EAAEP,IAAI,GAAI,GAAW,GAAGK,SAAS;IACnCP,IAAI,EAAEE,IAAI,GAAGK,SAAS,GAAGP,IAAI;IAC7BC,QAAQ,EAAEA,QAAQ;IAAA,GACdE,SAAS;IACbD,IAAI,EAAEA,IAAI;IACVQ,WAAW,EAAGC,CAAoD,IAAI;MACnER,SAAS,CAACO,WAA6C,GAAGC,CAAC,CAAC;MAC7DA,CAAC,CAACC,OAAO,EAAE;MACXR,cAAc,CAACE,OAAO,GAAGK,CAAC;IAC5B,CAAC;IACDE,SAAS,EAAGF,CAAoD,IAAI;MAClE,MAAMG,WAAW,GAAGV,cAAc,CAACE,OAAO,IAAI,CAACF,cAAc,CAACE,OAAO,CAACS,gBAAgB;MACtFX,cAAc,CAACE,OAAO,GAAGC,SAAS;MAElC,IAAIO,WAAW,IAAIT,SAAS,CAACC,OAAO,KAAKU,QAAQ,CAACC,aAAa,EAAE;QAC/DZ,SAAS,CAACC,OAAO,EAAEY,KAAK,EAAE;;MAG5B,OAAQf,SAAS,CAACU,SAA2C,GAAGF,CAAC,CAAC;IACpE;EAAC,EACD;AAEN,CAAC,CACF;AAED,eAAed,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}
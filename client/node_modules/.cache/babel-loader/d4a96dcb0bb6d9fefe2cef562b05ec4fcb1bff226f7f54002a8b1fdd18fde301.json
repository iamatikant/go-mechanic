{"ast":null,"code":"import { cap } from '../../../utils';\nimport { CALENDAR_TYPES, CALENDAR_TYPE_LOCALES } from './local';\n// https://weeknumber.net/how-to/javascript\nexport const getWeekYear = date => {\n  const result = new Date(date.getTime());\n  result.setUTCDate(result.getUTCDate() + 3 - (result.getUTCDay() + 6) % 7);\n  return result.getUTCFullYear();\n};\nexport const getDayOfWeek = function (date) {\n  let calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  const weekday = date.getUTCDay();\n  switch (calendarType) {\n    case CALENDAR_TYPES.ISO_8601:\n      // Shifts days of the week so that Monday is 0, Sunday is 6\n      return (weekday + 6) % 7;\n    case CALENDAR_TYPES.ARABIC:\n      return (weekday + 1) % 7;\n    case CALENDAR_TYPES.HEBREW:\n    case CALENDAR_TYPES.US:\n      return weekday;\n    default:\n      throw new Error('Unsupported calendar type.');\n  }\n};\nexport const getWeekdays = calendarType => {\n  const date = new Date();\n  const beginOfMonth = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), 1));\n  const year = beginOfMonth.getUTCFullYear();\n  const monthIndex = beginOfMonth.getUTCMonth();\n  return Array.from({\n    length: 7\n  }, (v, weekDay) => {\n    return new Date(year, monthIndex, weekDay + 1 - getDayOfWeek(beginOfMonth, calendarType));\n  });\n};\nconst getDateWithCorrectYear = (initialDate, year) => {\n  const dateObj = new Date(initialDate);\n  // 2 digits years are converted to 19XX by Date constructors\n  // setting year value directly to ensure it is correct\n  if (!Number.isNaN(dateObj.getTime()) && year < 100) dateObj.setUTCFullYear(year);\n  return dateObj;\n};\n// https://weeknumber.net/how-to/javascript\nexport const getWeek = function (date) {\n  let calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  const result = new Date(date.getTime());\n  result.setUTCHours(0, 0, 0, 0);\n  // Thursday in current week decides the year.\n  result.setUTCDate(result.getUTCDate() + 3 - getDayOfWeek(result, calendarType));\n  // January 4 is always in week 1.\n  const week1 = getDateWithCorrectYear(new Date(result.getUTCFullYear(), 0, 4), result.getUTCFullYear());\n  // Adjust to Thursday in week 1 and count number of weeks from date to week1.\n  return 1 + Math.round(((result.getTime() - week1.getTime()) / 86400000 - 3 + getDayOfWeek(result, calendarType)) / 7);\n};\nexport const getCalendarTypeFromLocale = localeTag => {\n  const calendarType = Object.keys(CALENDAR_TYPE_LOCALES).find(type => CALENDAR_TYPE_LOCALES[type].includes(localeTag ?? navigator.language));\n  return calendarType || CALENDAR_TYPES.ISO_8601;\n};\nexport const getDateOfISOWeek = (week, year) => {\n  const dateOfWeek = getDateWithCorrectYear(Date.UTC(year, 0, 1 + (week - 1) * 7), year);\n  const dayOfWeek = dateOfWeek.getUTCDay();\n  const weekStartISO = dateOfWeek;\n  if (dayOfWeek <= 4) weekStartISO.setUTCDate(dateOfWeek.getUTCDate() - dayOfWeek + 1);else weekStartISO.setUTCDate(dateOfWeek.getUTCDate() + 8 - dayOfWeek);\n  return weekStartISO;\n};\nconst timeRegex = /^T?\\d{2}:\\d{2}/;\nexport const parseToDate = value => {\n  let result = new Date(value);\n  if (typeof value === 'string') {\n    let [year, month, day, hour, minute, second] = [1970, 1, 1, 0, 0, 0];\n    if (timeRegex.test(value)) {\n      [hour, minute, second = 0] = value.toString().slice(Number(value.startsWith('T'))).split(/[.:/]/).map(Number);\n    } else {\n      [year, month, day = 0, hour = 0, minute = 0, second = 0] = value.toString().split(/[.: T+-]/).map(Number);\n    }\n    result = getDateWithCorrectYear(Date.UTC(year, month - 1, day, hour, minute, second), year);\n  } else if (typeof value === 'number') {\n    result = new Date(value);\n  }\n  return result;\n};\nexport function getQuarter(date) {\n  const parsedDate = parseToDate(date);\n  const quarter = [1, 2, 3, 4];\n  return quarter[Math.floor(parsedDate.getUTCMonth() / 3)];\n}\nexport const getDateFormat = (localeTag, options, labelFormat) => {\n  return new Intl.DateTimeFormat(localeTag, options).formatToParts().map(_ref => {\n    let {\n      type,\n      value\n    } = _ref;\n    switch (type) {\n      case 'day':\n        return 'DD';\n      case 'month':\n        return 'MM';\n      case 'year':\n        return 'YYYY';\n      case 'hour':\n        return 'hh';\n      case 'minute':\n        return 'mm';\n      case 'second':\n        return 'ss';\n      case 'dayPeriod':\n        if (labelFormat) return '';\n        return value;\n      case 'literal':\n        return value;\n      default:\n        return '';\n    }\n  });\n};\nexport const getStartOfWeek = function (date) {\n  let calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  const startDate = new Date(date);\n  const day = getDayOfWeek(startDate, calendarType);\n  if (day !== 0) startDate.setUTCHours(-24 * day);\n  return startDate;\n};\nexport const getEndOfWeek = function (date) {\n  let calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  const endDate = new Date(date);\n  const day = getDayOfWeek(endDate, calendarType);\n  if (day !== 6) endDate.setUTCHours(24 * (6 - day));\n  return endDate;\n};\nexport const convertWeekYearToDate = _ref2 => {\n  let {\n    week,\n    year\n  } = _ref2;\n  if ([week, year].every(Boolean)) {\n    const dateOfWeek = getDateOfISOWeek(Number(week), Number(year));\n    return {\n      year: dateOfWeek.getUTCFullYear().toString(),\n      month: dateOfWeek.getUTCMonth().toString(),\n      day: dateOfWeek.getUTCDate().toString()\n    };\n  }\n  return undefined;\n};\nexport const is12HClockFormat = localeTag => {\n  const meridiem = new Intl.DateTimeFormat(localeTag, {\n    hour: 'numeric'\n  }).formatToParts().find(_ref3 => {\n    let {\n      type\n    } = _ref3;\n    return type === 'dayPeriod';\n  });\n  return !!meridiem?.value;\n};\nconst objDate = new Date();\nobjDate.setUTCDate(1);\nexport const getLocalizedMonths = localeTag => {\n  return [...Array(12).keys()].map(monthNo => {\n    objDate.setUTCMonth(monthNo);\n    return cap(objDate.toLocaleString(localeTag, {\n      month: 'long',\n      timeZone: 'UTC'\n    }));\n  });\n};\nexport const getLocalizedWeekDays = localeTag => {\n  const calendarType = getCalendarTypeFromLocale(localeTag);\n  return getWeekdays(calendarType).reduce((accumulator, dayDate, index) => {\n    accumulator[index + 1] = cap(dayDate.toLocaleString(localeTag, {\n      weekday: 'long'\n    }));\n    return accumulator;\n  }, {});\n};\nexport const MS_IN_SECOND = 1000;\nexport const MS_IN_MINUTE = 1000 * 60;\nexport const MS_IN_HOUR = 1000 * 60 * 60;\nexport const MS_IN_DAY = 1000 * 60 * 60 * 24;\nexport const msToTimeFormat = ms => {\n  if (ms < 0) {\n    return {\n      hour: undefined,\n      minute: undefined,\n      second: undefined\n    };\n  }\n  return {\n    hour: Math.floor(ms / MS_IN_HOUR),\n    minute: Math.floor(ms / MS_IN_MINUTE % 60),\n    second: Math.floor(ms / MS_IN_SECOND % 60)\n  };\n};\nexport const timeFormatToMs = _ref4 => {\n  let {\n    hour,\n    minute,\n    second\n  } = _ref4;\n  if (hour < 0 || minute < 0 || second < 0) {\n    return 0;\n  }\n  return second * MS_IN_SECOND + minute * MS_IN_MINUTE + hour * MS_IN_HOUR;\n};\nexport const msToTimeUnit = (ms, format) => {\n  if (ms < 0) {\n    return 0;\n  }\n  switch (format) {\n    case 'seconds':\n      return Math.floor(ms / MS_IN_SECOND);\n    case 'minutes':\n      return Math.floor(ms / MS_IN_MINUTE);\n    case 'hours':\n      return Math.floor(ms / MS_IN_HOUR);\n    case 'days':\n      return Math.floor(ms / MS_IN_DAY);\n    default:\n      return 0;\n  }\n};\nexport const timeUnitToMs = (count, format) => {\n  if (count < 0) {\n    return 0;\n  }\n  switch (format) {\n    case 'seconds':\n      return count * MS_IN_SECOND;\n    case 'minutes':\n      return count * MS_IN_MINUTE;\n    case 'hours':\n      return count * MS_IN_HOUR;\n    case 'days':\n      return count * MS_IN_DAY;\n    default:\n      return 0;\n  }\n};\nexport const getTimeOptions = function (withSeconds) {\n  let is12h = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return {\n    hour: 'numeric',\n    minute: 'numeric',\n    ...(withSeconds && {\n      second: 'numeric'\n    }),\n    hour12: is12h\n  };\n};\nexport const validateDate = (year, month, day) => {\n  return !(year.toString().length < 4 || month < 1 || month > 12 || day < 1 || day > new Date(year, month, 0).getDate());\n};\nexport const validateTime = (hour, minute, second, is12h) => {\n  const hourMax = is12h ? 12 : 23;\n  const hourMin = is12h ? 1 : 0;\n  return !(hour > hourMax || hour < hourMin || minute > 59 || second > 59);\n};\nexport const toUTCDateString = (date, format) => {\n  const adjustedDate = new Date(date.getTime() + date.getTimezoneOffset() * 60000);\n  return format?.format(adjustedDate) ?? adjustedDate.toDateString();\n};\nconst ISO_DATE_REG_EXP = /(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/;\nexport const isISODate = value => {\n  return ISO_DATE_REG_EXP.test(value);\n};\nconst TIME_REG_EXP = /^([01]?\\d|2[0-3]):[0-5]?\\d(:[0-5]?\\d)?$/;\nexport const isTime = value => {\n  return TIME_REG_EXP.test(value);\n};\nexport const parseLocaleTextToDateParams = (value, localeTag) => {\n  const template = getDateFormat(localeTag, {\n    year: 'numeric',\n    month: 'numeric',\n    day: 'numeric'\n  }).join('').match(/\\w+/g);\n  const valueParts = value.match(/\\d+/g);\n  if (template && valueParts?.length === template?.length) {\n    let year = 0;\n    let month = 0;\n    let day = 0;\n    template.forEach((part, index) => {\n      if (part === 'YYYY') {\n        year = Number(valueParts[index]);\n      } else if (part === 'MM') {\n        month = Number((Number(valueParts[index]) - 1).toString().padStart(2, '0'));\n      } else if (part === 'DD') {\n        day = Number(valueParts[index].padStart(2, '0'));\n      }\n    });\n    return [year, month, day];\n  }\n  return undefined;\n};\nexport const parsePastedTextToDate = (value, localeTag, currentDate) => {\n  let result;\n  const dateParams = parseLocaleTextToDateParams(value, localeTag);\n  if (isTime(value)) {\n    const [hour, minute, second = 0] = value.split(':').map(Number);\n    result = new Date(currentDate.getTime()); // clone currentDate object to avoid parameter manipulation\n    result.setUTCHours(hour, minute, second);\n  } else if (dateParams) {\n    const [year, month, day] = dateParams;\n    if (validateDate(year, month, day)) {\n      result = new Date(currentDate.getTime());\n      result.setUTCFullYear(year, month, day);\n    }\n  } else if (isISODate(value)) {\n    result = new Date(value);\n  }\n  return result;\n};\nexport const generatePickerButtonAriaLabel = (date, type, locale, translateFn, open) => {\n  let datePart = '';\n  if (type === 'week') {\n    const displayNames = new Intl.DisplayNames(locale, {\n      style: 'long',\n      type: 'dateTimeField'\n    });\n    datePart = date ? `${translateFn('selected_date_a11y')} ${displayNames.of('weekOfYear')} ${getWeek(date, CALENDAR_TYPES.ISO_8601)}, ${date.getUTCFullYear()}, ` : '';\n  } else {\n    datePart = date ? `${translateFn('selected_date_a11y')} ${date.toLocaleString(locale, {\n      timeZone: 'UTC',\n      dateStyle: 'full',\n      ...(type === 'datetime' ? {\n        timeStyle: 'short'\n      } : {})\n    })}, ` : '';\n  }\n  return `${datePart}${translateFn(open ? 'close_calendar_button_a11y' : 'open_calendar_button_a11y')}`;\n};","map":{"version":3,"names":["cap","CALENDAR_TYPES","CALENDAR_TYPE_LOCALES","getWeekYear","date","result","Date","getTime","setUTCDate","getUTCDate","getUTCDay","getUTCFullYear","getDayOfWeek","calendarType","arguments","length","undefined","ISO_8601","weekday","ARABIC","HEBREW","US","Error","getWeekdays","beginOfMonth","UTC","getUTCMonth","year","monthIndex","Array","from","v","weekDay","getDateWithCorrectYear","initialDate","dateObj","Number","isNaN","setUTCFullYear","getWeek","setUTCHours","week1","Math","round","getCalendarTypeFromLocale","localeTag","Object","keys","find","type","includes","navigator","language","getDateOfISOWeek","week","dateOfWeek","dayOfWeek","weekStartISO","timeRegex","parseToDate","value","month","day","hour","minute","second","test","toString","slice","startsWith","split","map","getQuarter","parsedDate","quarter","floor","getDateFormat","options","labelFormat","Intl","DateTimeFormat","formatToParts","_ref","getStartOfWeek","startDate","getEndOfWeek","endDate","convertWeekYearToDate","_ref2","every","Boolean","is12HClockFormat","meridiem","_ref3","objDate","getLocalizedMonths","monthNo","setUTCMonth","toLocaleString","timeZone","getLocalizedWeekDays","reduce","accumulator","dayDate","index","MS_IN_SECOND","MS_IN_MINUTE","MS_IN_HOUR","MS_IN_DAY","msToTimeFormat","ms","timeFormatToMs","_ref4","msToTimeUnit","format","timeUnitToMs","count","getTimeOptions","withSeconds","is12h","hour12","validateDate","getDate","validateTime","hourMax","hourMin","toUTCDateString","adjustedDate","getTimezoneOffset","toDateString","ISO_DATE_REG_EXP","isISODate","TIME_REG_EXP","isTime","parseLocaleTextToDateParams","template","join","match","valueParts","forEach","part","padStart","parsePastedTextToDate","currentDate","dateParams","generatePickerButtonAriaLabel","locale","translateFn","open","datePart","displayNames","DisplayNames","style","of","dateStyle","timeStyle"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/DateTime/Input/utils.ts"],"sourcesContent":["import { cap } from '../../../utils';\nimport type { TranslationFunction, TranslationPack } from '../../../i18n';\n\nimport { CALENDAR_TYPES, CALENDAR_TYPE_LOCALES } from './local';\nimport { DateParts } from './DateTimeInput.types';\n\n// https://weeknumber.net/how-to/javascript\nexport const getWeekYear = (date: Date): number => {\n  const result = new Date(date.getTime());\n  result.setUTCDate(result.getUTCDate() + 3 - ((result.getUTCDay() + 6) % 7));\n  return result.getUTCFullYear();\n};\n\nexport const getDayOfWeek = (date: Date, calendarType = CALENDAR_TYPES.ISO_8601) => {\n  const weekday = date.getUTCDay();\n\n  switch (calendarType) {\n    case CALENDAR_TYPES.ISO_8601:\n      // Shifts days of the week so that Monday is 0, Sunday is 6\n      return (weekday + 6) % 7;\n    case CALENDAR_TYPES.ARABIC:\n      return (weekday + 1) % 7;\n    case CALENDAR_TYPES.HEBREW:\n    case CALENDAR_TYPES.US:\n      return weekday;\n    default:\n      throw new Error('Unsupported calendar type.');\n  }\n};\n\nexport const getWeekdays = (calendarType: string) => {\n  const date = new Date();\n  const beginOfMonth = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), 1));\n  const year = beginOfMonth.getUTCFullYear();\n  const monthIndex = beginOfMonth.getUTCMonth();\n\n  return Array.from({ length: 7 }, (v, weekDay) => {\n    return new Date(year, monthIndex, weekDay + 1 - getDayOfWeek(beginOfMonth, calendarType));\n  });\n};\n\nconst getDateWithCorrectYear = (initialDate: Date | number, year: number) => {\n  const dateObj = new Date(initialDate);\n  // 2 digits years are converted to 19XX by Date constructors\n  // setting year value directly to ensure it is correct\n  if (!Number.isNaN(dateObj.getTime()) && year < 100) dateObj.setUTCFullYear(year);\n  return dateObj;\n};\n\n// https://weeknumber.net/how-to/javascript\nexport const getWeek = (date: Date, calendarType: string = CALENDAR_TYPES.ISO_8601): number => {\n  const result = new Date(date.getTime());\n  result.setUTCHours(0, 0, 0, 0);\n  // Thursday in current week decides the year.\n\n  result.setUTCDate(result.getUTCDate() + 3 - getDayOfWeek(result, calendarType));\n  // January 4 is always in week 1.\n\n  const week1 = getDateWithCorrectYear(\n    new Date(result.getUTCFullYear(), 0, 4),\n    result.getUTCFullYear()\n  );\n  // Adjust to Thursday in week 1 and count number of weeks from date to week1.\n  return (\n    1 +\n    Math.round(\n      ((result.getTime() - week1.getTime()) / 86400000 - 3 + getDayOfWeek(result, calendarType)) / 7\n    )\n  );\n};\n\nexport const getCalendarTypeFromLocale = (localeTag?: string) => {\n  const calendarType = Object.keys(CALENDAR_TYPE_LOCALES).find(type =>\n    CALENDAR_TYPE_LOCALES[type].includes(localeTag ?? navigator.language)\n  );\n\n  return calendarType || CALENDAR_TYPES.ISO_8601;\n};\n\nexport const getDateOfISOWeek = (week: number, year: number): Date => {\n  const dateOfWeek = getDateWithCorrectYear(Date.UTC(year, 0, 1 + (week - 1) * 7), year);\n  const dayOfWeek = dateOfWeek.getUTCDay();\n  const weekStartISO = dateOfWeek;\n  if (dayOfWeek <= 4) weekStartISO.setUTCDate(dateOfWeek.getUTCDate() - dayOfWeek + 1);\n  else weekStartISO.setUTCDate(dateOfWeek.getUTCDate() + 8 - dayOfWeek);\n  return weekStartISO;\n};\n\nconst timeRegex = /^T?\\d{2}:\\d{2}/;\n\nexport const parseToDate = (value: string | number | Date): Date => {\n  let result = new Date(value);\n\n  if (typeof value === 'string') {\n    let [year, month, day, hour, minute, second] = [1970, 1, 1, 0, 0, 0];\n    if (timeRegex.test(value)) {\n      [hour, minute, second = 0] = value\n        .toString()\n        .slice(Number(value.startsWith('T')))\n        .split(/[.:/]/)\n        .map(Number);\n    } else {\n      [year, month, day = 0, hour = 0, minute = 0, second = 0] = value\n        .toString()\n        .split(/[.: T+-]/)\n        .map(Number);\n    }\n    result = getDateWithCorrectYear(Date.UTC(year, month - 1, day, hour, minute, second), year);\n  } else if (typeof value === 'number') {\n    result = new Date(value);\n  }\n  return result;\n};\n\nexport type QuarterNumber = 1 | 2 | 3 | 4;\n\nexport function getQuarter(date: string | number | Date): QuarterNumber {\n  const parsedDate = parseToDate(date);\n  const quarter: QuarterNumber[] = [1, 2, 3, 4];\n  return quarter[Math.floor(parsedDate.getUTCMonth() / 3)];\n}\n\nexport const getDateFormat = (\n  localeTag?: string,\n  options?: Intl.DateTimeFormatOptions | undefined,\n  labelFormat?: boolean\n) => {\n  return new Intl.DateTimeFormat(localeTag, options).formatToParts().map(({ type, value }) => {\n    switch (type) {\n      case 'day':\n        return 'DD';\n      case 'month':\n        return 'MM';\n      case 'year':\n        return 'YYYY';\n      case 'hour':\n        return 'hh';\n      case 'minute':\n        return 'mm';\n      case 'second':\n        return 'ss';\n      case 'dayPeriod':\n        if (labelFormat) return '';\n        return value;\n      case 'literal':\n        return value;\n      default:\n        return '';\n    }\n  });\n};\n\nexport const getStartOfWeek = (date: Date, calendarType: string = CALENDAR_TYPES.ISO_8601) => {\n  const startDate = new Date(date);\n  const day = getDayOfWeek(startDate, calendarType);\n  if (day !== 0) startDate.setUTCHours(-24 * day);\n  return startDate;\n};\n\nexport const getEndOfWeek = (date: Date, calendarType: string = CALENDAR_TYPES.ISO_8601) => {\n  const endDate = new Date(date);\n  const day = getDayOfWeek(endDate, calendarType);\n  if (day !== 6) endDate.setUTCHours(24 * (6 - day));\n  return endDate;\n};\n\nexport const convertWeekYearToDate = ({\n  week,\n  year\n}: DateParts<string | undefined>): DateParts<string> | undefined => {\n  if ([week, year].every(Boolean)) {\n    const dateOfWeek = getDateOfISOWeek(Number(week), Number(year));\n    return {\n      year: dateOfWeek.getUTCFullYear().toString(),\n      month: dateOfWeek.getUTCMonth().toString(),\n      day: dateOfWeek.getUTCDate().toString()\n    };\n  }\n  return undefined;\n};\n\nexport type ClockFormat = 12 | 24;\n\nexport const is12HClockFormat = (localeTag?: string): boolean => {\n  const meridiem = new Intl.DateTimeFormat(localeTag, {\n    hour: 'numeric'\n  })\n    .formatToParts()\n    .find(({ type }) => type === 'dayPeriod');\n\n  return !!meridiem?.value;\n};\n\nconst objDate = new Date();\nobjDate.setUTCDate(1);\n\nexport const getLocalizedMonths = (localeTag?: string) => {\n  return [...Array(12).keys()].map(monthNo => {\n    objDate.setUTCMonth(monthNo);\n    return cap(objDate.toLocaleString(localeTag, { month: 'long', timeZone: 'UTC' }));\n  });\n};\n\nexport const getLocalizedWeekDays = (localeTag?: string) => {\n  const calendarType = getCalendarTypeFromLocale(localeTag);\n  return getWeekdays(calendarType).reduce((accumulator, dayDate, index) => {\n    accumulator[index + 1] = cap(\n      dayDate.toLocaleString(localeTag, {\n        weekday: 'long'\n      })\n    );\n    return accumulator;\n  }, {} as { [key: number]: string });\n};\n\nexport const MS_IN_SECOND = 1000;\nexport const MS_IN_MINUTE = 1000 * 60;\nexport const MS_IN_HOUR = 1000 * 60 * 60;\nexport const MS_IN_DAY = 1000 * 60 * 60 * 24;\n\nexport const msToTimeFormat = (ms: number): { hour?: number; minute?: number; second?: number } => {\n  if (ms < 0) {\n    return { hour: undefined, minute: undefined, second: undefined };\n  }\n  return {\n    hour: Math.floor(ms / MS_IN_HOUR),\n    minute: Math.floor((ms / MS_IN_MINUTE) % 60),\n    second: Math.floor((ms / MS_IN_SECOND) % 60)\n  };\n};\n\nexport const timeFormatToMs = ({\n  hour,\n  minute,\n  second\n}: {\n  hour: number;\n  minute: number;\n  second: number;\n}): number => {\n  if (hour < 0 || minute < 0 || second < 0) {\n    return 0;\n  }\n  return second * MS_IN_SECOND + minute * MS_IN_MINUTE + hour * MS_IN_HOUR;\n};\n\nexport const msToTimeUnit = (ms: number, format: string): number => {\n  if (ms < 0) {\n    return 0;\n  }\n  switch (format) {\n    case 'seconds':\n      return Math.floor(ms / MS_IN_SECOND);\n    case 'minutes':\n      return Math.floor(ms / MS_IN_MINUTE);\n    case 'hours':\n      return Math.floor(ms / MS_IN_HOUR);\n    case 'days':\n      return Math.floor(ms / MS_IN_DAY);\n    default:\n      return 0;\n  }\n};\n\nexport const timeUnitToMs = (count: number, format: string): number => {\n  if (count < 0) {\n    return 0;\n  }\n  switch (format) {\n    case 'seconds':\n      return count * MS_IN_SECOND;\n    case 'minutes':\n      return count * MS_IN_MINUTE;\n    case 'hours':\n      return count * MS_IN_HOUR;\n    case 'days':\n      return count * MS_IN_DAY;\n    default:\n      return 0;\n  }\n};\n\nexport const getTimeOptions = (withSeconds: boolean, is12h: boolean = false) => {\n  return {\n    hour: 'numeric',\n    minute: 'numeric',\n    ...(withSeconds && ({ second: 'numeric' } as const)),\n    hour12: is12h\n  } as const;\n};\n\nexport const validateDate = (year: number, month: number, day: number) => {\n  return !(\n    year.toString().length < 4 ||\n    month < 1 ||\n    month > 12 ||\n    day < 1 ||\n    day > new Date(year, month, 0).getDate()\n  );\n};\n\nexport const validateTime = (hour: number, minute: number, second: number, is12h: boolean) => {\n  const hourMax = is12h ? 12 : 23;\n  const hourMin = is12h ? 1 : 0;\n  return !(hour > hourMax || hour < hourMin || minute > 59 || second > 59);\n};\n\nexport const toUTCDateString = (date: Date, format?: Intl.DateTimeFormat) => {\n  const adjustedDate = new Date(date.getTime() + date.getTimezoneOffset() * 60000);\n  return format?.format(adjustedDate) ?? adjustedDate.toDateString();\n};\n\nconst ISO_DATE_REG_EXP =\n  /(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/;\n\nexport const isISODate = (value: string): boolean => {\n  return ISO_DATE_REG_EXP.test(value);\n};\n\nconst TIME_REG_EXP = /^([01]?\\d|2[0-3]):[0-5]?\\d(:[0-5]?\\d)?$/;\n\nexport const isTime = (value: string): boolean => {\n  return TIME_REG_EXP.test(value);\n};\n\nexport const parseLocaleTextToDateParams = (value: string, localeTag: string) => {\n  const template = getDateFormat(localeTag, {\n    year: 'numeric',\n    month: 'numeric',\n    day: 'numeric'\n  })\n    .join('')\n    .match(/\\w+/g);\n  const valueParts = value.match(/\\d+/g);\n  if (template && valueParts?.length === template?.length) {\n    let year = 0;\n    let month = 0;\n    let day = 0;\n    template.forEach((part, index) => {\n      if (part === 'YYYY') {\n        year = Number(valueParts[index]);\n      } else if (part === 'MM') {\n        month = Number((Number(valueParts[index]) - 1).toString().padStart(2, '0'));\n      } else if (part === 'DD') {\n        day = Number(valueParts[index].padStart(2, '0'));\n      }\n    });\n    return [year, month, day];\n  }\n  return undefined;\n};\n\nexport const parsePastedTextToDate = (\n  value: string,\n  localeTag: string,\n  currentDate: Date\n): Date | undefined => {\n  let result;\n  const dateParams = parseLocaleTextToDateParams(value, localeTag);\n  if (isTime(value)) {\n    const [hour, minute, second = 0] = value.split(':').map(Number);\n    result = new Date(currentDate.getTime()); // clone currentDate object to avoid parameter manipulation\n    result.setUTCHours(hour, minute, second);\n  } else if (dateParams) {\n    const [year, month, day] = dateParams;\n    if (validateDate(year, month, day)) {\n      result = new Date(currentDate.getTime());\n      result.setUTCFullYear(year, month, day);\n    }\n  } else if (isISODate(value)) {\n    result = new Date(value);\n  }\n  return result;\n};\n\nexport const generatePickerButtonAriaLabel = (\n  date: Date | undefined,\n  type: 'date' | 'datetime' | 'week',\n  locale: string,\n  translateFn: TranslationFunction<TranslationPack>,\n  open: boolean\n): string => {\n  let datePart = '';\n  if (type === 'week') {\n    const displayNames = new Intl.DisplayNames(locale, { style: 'long', type: 'dateTimeField' });\n    datePart = date\n      ? `${translateFn('selected_date_a11y')} ${displayNames.of('weekOfYear')} ${getWeek(\n          date,\n          CALENDAR_TYPES.ISO_8601\n        )}, ${date.getUTCFullYear()}, `\n      : '';\n  } else {\n    datePart = date\n      ? `${translateFn('selected_date_a11y')} ${date.toLocaleString(locale, {\n          timeZone: 'UTC',\n          dateStyle: 'full',\n          ...(type === 'datetime' ? { timeStyle: 'short' } : {})\n        })}, `\n      : '';\n  }\n\n  return `${datePart}${translateFn(\n    open ? 'close_calendar_button_a11y' : 'open_calendar_button_a11y'\n  )}`;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useCallback, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { defaultThemeProp } from '../../theme';\nimport Button, { StyledButton } from '../Button';\nimport Grid from '../Grid';\nimport { useI18n } from '../../hooks';\nimport { getKindFromMimeType, getMimeTypeFromFile } from './utils';\nimport FileVisual, { StyledFileVisual } from './FileVisual';\nconst StyledFileItem = styled.div(_ref => {\n  let {\n    theme: {\n      base,\n      components\n    }\n  } = _ref;\n  return css`\n    border-radius: calc(0.5 * ${base['border-radius']});\n\n    > ${StyledFileVisual} {\n      border-start-start-radius: inherit;\n      border-end-start-radius: inherit;\n      border-start-end-radius: 0;\n      border-end-end-radius: 0;\n      height: ${components.input.height};\n      width: ${components.input.height};\n    }\n\n    > ${StyledFileVisual} + ${StyledButton} {\n      margin-inline-start: 0;\n      border: 0.0625rem solid ${base.palette['border-line']};\n      background-color: ${base.palette['primary-background']};\n      opacity: 1;\n      padding: 0 ${base.spacing};\n      border-inline-start: 0;\n      border-start-start-radius: 0;\n      border-end-start-radius: 0;\n      border-start-end-radius: inherit;\n      border-end-end-radius: inherit;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  `;\n});\nStyledFileItem.defaultProps = defaultThemeProp;\nconst FileItem = forwardRef((props, ref) => {\n  const {\n    name,\n    url,\n    thumbnail,\n    onPreview,\n    onDownload,\n    ...restProps\n  } = props;\n  const [thumbnailError, setThumbnailError] = useState(false);\n  const t = useI18n();\n  const onDownloadClick = useCallback(() => {\n    onDownload?.(url);\n  }, [url, onDownload]);\n  const type = getMimeTypeFromFile(url);\n  const text = name || url;\n  return _jsxs(Grid, {\n    as: StyledFileItem,\n    container: {\n      cols: 'auto 1fr'\n    },\n    ref: ref,\n    children: [_jsx(FileVisual, {\n      type: getKindFromMimeType(type ?? ''),\n      thumbnail: thumbnailError ? undefined : thumbnail,\n      onThumbnailError: () => {\n        setThumbnailError(true);\n      },\n      disabled: !onPreview,\n      onClick: () => onPreview?.(url),\n      \"aria-label\": `${t('preview')}: ${text}`\n    }), _jsx(Button, {\n      ...restProps,\n      variant: 'text',\n      disabled: !onDownload,\n      onClick: onDownloadClick,\n      \"aria-label\": `${t('download')}: ${text}`,\n      children: text\n    })]\n  });\n});\nexport default FileItem;","map":{"version":3,"names":["forwardRef","useCallback","useState","styled","css","defaultThemeProp","Button","StyledButton","Grid","useI18n","getKindFromMimeType","getMimeTypeFromFile","FileVisual","StyledFileVisual","StyledFileItem","div","_ref","theme","base","components","input","height","palette","spacing","defaultProps","FileItem","props","ref","name","url","thumbnail","onPreview","onDownload","restProps","thumbnailError","setThumbnailError","t","onDownloadClick","type","text","_jsxs","as","container","cols","children","_jsx","undefined","onThumbnailError","disabled","onClick","variant"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/File/FileItem.tsx"],"sourcesContent":["import { forwardRef, PropsWithoutRef, FC, Ref, useCallback, useState } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { ForwardProps, BaseProps } from '../../types';\nimport { defaultThemeProp } from '../../theme';\nimport Button, { StyledButton } from '../Button';\nimport Grid from '../Grid';\nimport { useI18n } from '../../hooks';\n\nimport { getKindFromMimeType, getMimeTypeFromFile } from './utils';\nimport FileVisual, { FileVisualProps, StyledFileVisual } from './FileVisual';\n\nexport interface FileItemProps extends BaseProps {\n  /** Name of the file. */\n  name: string;\n  /** Url of the file. */\n  url: string;\n  /** A string to be used as an image src for a attachment thumbnail. Falls back to a provided icon or the default attachment icon. */\n  thumbnail?: FileVisualProps['thumbnail'];\n  /** When passed, it will make the icon/thumbnail region actionable. Passes file url as the parameter. */\n  onPreview?: (url: FileItemProps['url']) => void;\n  /** When passed, it will make the name region actionable. Passes file url as the parameter. */\n  onDownload?: (url: FileItemProps['url']) => void;\n  /** Ref for the wrapping element. */\n  ref?: Ref<HTMLButtonElement>;\n}\n\nconst StyledFileItem = styled.div(({ theme: { base, components } }) => {\n  return css`\n    border-radius: calc(0.5 * ${base['border-radius']});\n\n    > ${StyledFileVisual} {\n      border-start-start-radius: inherit;\n      border-end-start-radius: inherit;\n      border-start-end-radius: 0;\n      border-end-end-radius: 0;\n      height: ${components.input.height};\n      width: ${components.input.height};\n    }\n\n    > ${StyledFileVisual} + ${StyledButton} {\n      margin-inline-start: 0;\n      border: 0.0625rem solid ${base.palette['border-line']};\n      background-color: ${base.palette['primary-background']};\n      opacity: 1;\n      padding: 0 ${base.spacing};\n      border-inline-start: 0;\n      border-start-start-radius: 0;\n      border-end-start-radius: 0;\n      border-start-end-radius: inherit;\n      border-end-end-radius: inherit;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  `;\n});\n\nStyledFileItem.defaultProps = defaultThemeProp;\n\nconst FileItem: FC<FileItemProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<FileItemProps>, ref: FileItemProps['ref']) => {\n    const { name, url, thumbnail, onPreview, onDownload, ...restProps } = props;\n\n    const [thumbnailError, setThumbnailError] = useState(false);\n    const t = useI18n();\n\n    const onDownloadClick = useCallback(() => {\n      onDownload?.(url);\n    }, [url, onDownload]);\n\n    const type = getMimeTypeFromFile(url);\n    const text = name || url;\n\n    return (\n      <Grid as={StyledFileItem} container={{ cols: 'auto 1fr' }} ref={ref}>\n        <FileVisual\n          type={getKindFromMimeType(type ?? '')}\n          thumbnail={thumbnailError ? undefined : thumbnail}\n          onThumbnailError={() => {\n            setThumbnailError(true);\n          }}\n          disabled={!onPreview}\n          onClick={() => onPreview?.(url)}\n          aria-label={`${t('preview')}: ${text}`}\n        />\n        <Button\n          {...restProps}\n          variant='text'\n          disabled={!onDownload}\n          onClick={onDownloadClick}\n          aria-label={`${t('download')}: ${text}`}\n        >\n          {text}\n        </Button>\n      </Grid>\n    );\n  }\n);\n\nexport default FileItem;\n"],"mappings":";AAAA,SAASA,UAAU,EAA4BC,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AACnF,OAAOC,MAAM,IAAIC,GAAG,QAAQ,mBAAmB;AAG/C,SAASC,gBAAgB,QAAQ,aAAa;AAC9C,OAAOC,MAAM,IAAIC,YAAY,QAAQ,WAAW;AAChD,OAAOC,IAAI,MAAM,SAAS;AAC1B,SAASC,OAAO,QAAQ,aAAa;AAErC,SAASC,mBAAmB,EAAEC,mBAAmB,QAAQ,SAAS;AAClE,OAAOC,UAAU,IAAqBC,gBAAgB,QAAQ,cAAc;AAiB5E,MAAMC,cAAc,GAAGX,MAAM,CAACY,GAAG,CAACC,IAAA,IAAoC;EAAA,IAAnC;IAAEC,KAAK,EAAE;MAAEC,IAAI;MAAEC;IAAU;EAAE,CAAE,GAAAH,IAAA;EAChE,OAAOZ,GAAG;gCACoBc,IAAI,CAAC,eAAe,CAAC;;QAE7CL,gBAAgB;;;;;gBAKRM,UAAU,CAACC,KAAK,CAACC,MAAM;eACxBF,UAAU,CAACC,KAAK,CAACC,MAAM;;;QAG9BR,gBAAgB,MAAMN,YAAY;;gCAEVW,IAAI,CAACI,OAAO,CAAC,aAAa,CAAC;0BACjCJ,IAAI,CAACI,OAAO,CAAC,oBAAoB,CAAC;;mBAEzCJ,IAAI,CAACK,OAAO;;;;;;;;;;GAU5B;AACH,CAAC,CAAC;AAEFT,cAAc,CAACU,YAAY,GAAGnB,gBAAgB;AAE9C,MAAMoB,QAAQ,GAAqCzB,UAAU,CAC3D,CAAC0B,KAAqC,EAAEC,GAAyB,KAAI;EACnE,MAAM;IAAEC,IAAI;IAAEC,GAAG;IAAEC,SAAS;IAAEC,SAAS;IAAEC,UAAU;IAAE,GAAGC;EAAS,CAAE,GAAGP,KAAK;EAE3E,MAAM,CAACQ,cAAc,EAAEC,iBAAiB,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAMkC,CAAC,GAAG3B,OAAO,EAAE;EAEnB,MAAM4B,eAAe,GAAGpC,WAAW,CAAC,MAAK;IACvC+B,UAAU,GAAGH,GAAG,CAAC;EACnB,CAAC,EAAE,CAACA,GAAG,EAAEG,UAAU,CAAC,CAAC;EAErB,MAAMM,IAAI,GAAG3B,mBAAmB,CAACkB,GAAG,CAAC;EACrC,MAAMU,IAAI,GAAGX,IAAI,IAAIC,GAAG;EAExB,OACEW,KAAA,CAAChC,IAAI;IAACiC,EAAE,EAAE3B,cAAc;IAAE4B,SAAS,EAAE;MAAEC,IAAI,EAAE;IAAU,CAAE;IAAEhB,GAAG,EAAEA,GAAG;IAAAiB,QAAA,GACjEC,IAAA,CAACjC,UAAU;MACT0B,IAAI,EAAE5B,mBAAmB,CAAC4B,IAAI,IAAI,EAAE,CAAC;MACrCR,SAAS,EAAEI,cAAc,GAAGY,SAAS,GAAGhB,SAAS;MACjDiB,gBAAgB,EAAEA,CAAA,KAAK;QACrBZ,iBAAiB,CAAC,IAAI,CAAC;MACzB,CAAC;MACDa,QAAQ,EAAE,CAACjB,SAAS;MACpBkB,OAAO,EAAEA,CAAA,KAAMlB,SAAS,GAAGF,GAAG,CAAC;MAAA,cACnB,GAAGO,CAAC,CAAC,SAAS,CAAC,KAAKG,IAAI;IAAE,EACtC,EACFM,IAAA,CAACvC,MAAM;MAAA,GACD2B,SAAS;MACbiB,OAAO,EAAC,MAAM;MACdF,QAAQ,EAAE,CAAChB,UAAU;MACrBiB,OAAO,EAAEZ,eAAe;MAAA,cACZ,GAAGD,CAAC,CAAC,UAAU,CAAC,KAAKG,IAAI,EAAE;MAAAK,QAAA,EAEtCL;IAAI,EACE;EAAA,EACJ;AAEX,CAAC,CACF;AAED,eAAed,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef } from 'react';\nimport Link from '../Link';\nimport QRCode from '../QRCode';\n/**\n * Function gets the url as a string and converts it to a HTML markup with whitespace opportunity elements.\n * It helps breaking a long url correctly to avoid parent container overflow issues\n * according to \"The Chicago Manual of Style\" copywriting standard.\n * @param url input url to construct markup for\n * @returns array of nodes\n */\nconst generateUrlMarkup = url => {\n  const markedUrl = url.split('//')\n  // Insert \\x1f (unit separator) char as a placeholder at correct position.\n  .map(str => {\n    return str.replace(/:/giu, '$&\\x1f').replace(/[/~.,\\\\-_?#%]/giu, '\\x1f$&').replace(/[=&]/giu, '\\x1f$&\\x1f');\n  }).join('//\\x1f');\n  // Replace unit separator character with <wbr /> element. Create an array of nodes in place of string to pass tags escaping.\n  return markedUrl.split('\\x1f').reduce((urlFragments, part) => {\n    urlFragments.push(part, _jsx(\"wbr\", {}, urlFragments.length));\n    return urlFragments;\n  }, []);\n};\nconst URLDisplay = forwardRef((_ref, ref) => {\n  let {\n    value,\n    displayText,\n    variant = 'link',\n    ...restProps\n  } = _ref;\n  const displayValue = value ? displayText || generateUrlMarkup(value) : _jsx(\"span\", {\n    \"aria-hidden\": 'true',\n    children: \"\\u2013\\u2013\"\n  });\n  if (variant === 'text' || !value) {\n    return _jsx(\"span\", {\n      ref: ref,\n      ...restProps,\n      children: displayValue\n    });\n  }\n  if (variant === 'qrcode') {\n    return _jsx(QRCode, {\n      ref: ref,\n      ...restProps,\n      value: value,\n      label: displayText\n    });\n  }\n  return _jsx(Link, {\n    ref: ref,\n    ...restProps,\n    href: value,\n    children: displayValue\n  });\n});\nexport default URLDisplay;","map":{"version":3,"names":["forwardRef","Link","QRCode","generateUrlMarkup","url","markedUrl","split","map","str","replace","join","reduce","urlFragments","part","push","_jsx","length","URLDisplay","_ref","ref","value","displayText","variant","restProps","displayValue","children","label","href"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/URL/URLDisplay.tsx"],"sourcesContent":["import { forwardRef, FunctionComponent, PropsWithoutRef, ReactNode, Ref } from 'react';\n\nimport Link from '../Link';\nimport { BaseProps, ForwardProps, NoChildrenProp } from '../../types';\nimport QRCode from '../QRCode';\n\nexport interface URLDisplayProps extends BaseProps, NoChildrenProp {\n  /** URL address, includes scheme, 'http://', 'https://' */\n  value?: string;\n  /** The text to be displayed. */\n  displayText?: string;\n  /**\n   * Controls styling of the field.\n   * @default 'link'\n   */\n  variant?: 'link' | 'text' | 'qrcode';\n  /** Ref for the wrapping element. */\n  ref?: Ref<HTMLAnchorElement | HTMLSpanElement | HTMLImageElement | HTMLDivElement>;\n}\n\n/**\n * Function gets the url as a string and converts it to a HTML markup with whitespace opportunity elements.\n * It helps breaking a long url correctly to avoid parent container overflow issues\n * according to \"The Chicago Manual of Style\" copywriting standard.\n * @param url input url to construct markup for\n * @returns array of nodes\n */\nconst generateUrlMarkup = (url: string): ReactNode => {\n  const markedUrl = url\n    .split('//')\n    // Insert \\x1f (unit separator) char as a placeholder at correct position.\n    .map(str => {\n      return str\n        .replace(/:/giu, '$&\\x1f')\n        .replace(/[/~.,\\\\-_?#%]/giu, '\\x1f$&')\n        .replace(/[=&]/giu, '\\x1f$&\\x1f');\n    })\n    .join('//\\x1f');\n\n  // Replace unit separator character with <wbr /> element. Create an array of nodes in place of string to pass tags escaping.\n  return markedUrl.split('\\x1f').reduce<ReactNode[]>((urlFragments, part) => {\n    urlFragments.push(part, <wbr key={urlFragments.length} />);\n    return urlFragments;\n  }, []);\n};\n\nconst URLDisplay: FunctionComponent<URLDisplayProps & ForwardProps> = forwardRef(\n  (\n    { value, displayText, variant = 'link', ...restProps }: PropsWithoutRef<URLDisplayProps>,\n    ref: URLDisplayProps['ref']\n  ) => {\n    const displayValue = value ? (\n      displayText || generateUrlMarkup(value)\n    ) : (\n      <span aria-hidden='true'>&ndash;&ndash;</span>\n    );\n\n    if (variant === 'text' || !value) {\n      return (\n        <span ref={ref as Ref<HTMLSpanElement>} {...restProps}>\n          {displayValue}\n        </span>\n      );\n    }\n    if (variant === 'qrcode') {\n      return (\n        <QRCode\n          ref={ref as Ref<HTMLImageElement>}\n          {...restProps}\n          value={value}\n          label={displayText}\n        />\n      );\n    }\n    return (\n      <Link ref={ref as Ref<HTMLAnchorElement>} {...restProps} href={value}>\n        {displayValue}\n      </Link>\n    );\n  }\n);\n\nexport default URLDisplay;\n"],"mappings":";AAAA,SAASA,UAAU,QAA4D,OAAO;AAEtF,OAAOC,IAAI,MAAM,SAAS;AAE1B,OAAOC,MAAM,MAAM,WAAW;AAgB9B;;;;;;;AAOA,MAAMC,iBAAiB,GAAIC,GAAW,IAAe;EACnD,MAAMC,SAAS,GAAGD,GAAG,CAClBE,KAAK,CAAC,IAAI;EACX;EAAA,CACCC,GAAG,CAACC,GAAG,IAAG;IACT,OAAOA,GAAG,CACPC,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CACzBA,OAAO,CAAC,kBAAkB,EAAE,QAAQ,CAAC,CACrCA,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC;EACrC,CAAC,CAAC,CACDC,IAAI,CAAC,QAAQ,CAAC;EAEjB;EACA,OAAOL,SAAS,CAACC,KAAK,CAAC,MAAM,CAAC,CAACK,MAAM,CAAc,CAACC,YAAY,EAAEC,IAAI,KAAI;IACxED,YAAY,CAACE,IAAI,CAACD,IAAI,EAAEE,IAAA,YAAUH,YAAY,CAACI,MAAM,CAAI,CAAC;IAC1D,OAAOJ,YAAY;EACrB,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;AAED,MAAMK,UAAU,GAAsDjB,UAAU,CAC9E,CAAAkB,IAAA,EAEEC,GAA2B,KACzB;EAAA,IAFF;IAAEC,KAAK;IAAEC,WAAW;IAAEC,OAAO,GAAG,MAAM;IAAE,GAAGC;EAAS,CAAoC,GAAAL,IAAA;EAGxF,MAAMM,YAAY,GAAGJ,KAAK,GACxBC,WAAW,IAAIlB,iBAAiB,CAACiB,KAAK,CAAC,GAEvCL,IAAA;IAAA,eAAkB,MAAM;IAAAU,QAAA;EAAA,EACzB;EAED,IAAIH,OAAO,KAAK,MAAM,IAAI,CAACF,KAAK,EAAE;IAChC,OACEL,IAAA;MAAMI,GAAG,EAAEA,GAA2B;MAAA,GAAMI,SAAS;MAAAE,QAAA,EAClDD;IAAY,EACR;;EAGX,IAAIF,OAAO,KAAK,QAAQ,EAAE;IACxB,OACEP,IAAA,CAACb,MAAM;MACLiB,GAAG,EAAEA,GAA4B;MAAA,GAC7BI,SAAS;MACbH,KAAK,EAAEA,KAAK;MACZM,KAAK,EAAEL;IAAW,EAClB;;EAGN,OACEN,IAAA,CAACd,IAAI;IAACkB,GAAG,EAAEA,GAA6B;IAAA,GAAMI,SAAS;IAAEI,IAAI,EAAEP,KAAK;IAAAK,QAAA,EACjED;EAAY,EACR;AAEX,CAAC,CACF;AAED,eAAeP,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useRef, useCallback, useMemo, useState, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\nimport { transparentize } from 'polished';\nimport { defaultThemeProp } from '../../../theme';\nimport Selectable, { StyledSelectable } from '../../Badges/Selection';\nimport { StyledFormControl } from '../../FormControl';\nimport Flex from '../../Flex';\nimport { useConsolidatedRef, useActiveDescendant, useDirection, useI18n, useUID } from '../../../hooks';\nimport { cap, tryCatch } from '../../../utils';\nimport { StyledBareButton } from '../../Button/BareButton';\nimport VisuallyHiddenText from '../../VisuallyHiddenText';\nimport { StyledSelectInput } from '../ComboBox.styles';\nexport const StyledMultiSelectInput = styled(StyledSelectInput)(_ref => {\n  let {\n    theme\n  } = _ref;\n  const {\n    background\n  } = theme.components.badges.selectable.base;\n  const {\n    'foreground-color': foreground\n  } = theme.base.palette;\n  const boxShadowColor = tryCatch(() => transparentize(0.45, foreground));\n  return css`\n    cursor: text;\n\n    ul {\n      list-style: none;\n      display: contents;\n\n      &[data-active-scope='true'] ${StyledSelectable}[data-current='true'] {\n        color: ${theme.base.palette.interactive};\n        box-shadow: 0 0 0.5rem -0.125rem ${boxShadowColor}, inset 0 0 0 0.125rem ${background};\n        outline: none;\n\n        ${StyledBareButton} {\n          color: ${theme.base.palette.interactive};\n        }\n      }\n    }\n\n    input {\n      width: 8ch;\n      height: 1.125rem;\n    }\n  `;\n});\nStyledMultiSelectInput.defaultProps = defaultThemeProp;\nconst MultiSelectInput = forwardRef((props, ref) => {\n  const {\n    selected = [],\n    value,\n    onRemove,\n    onChange,\n    onKeyDown,\n    onResolveSuggestion,\n    actions,\n    readOnly,\n    disabled,\n    status,\n    placeholder,\n    autoFocus,\n    pauseDescendantEvaluation,\n    onSelectedFocus,\n    onSelectedBlur,\n    'aria-controls': ariaControls,\n    ...restProps\n  } = props;\n  const t = useI18n();\n  const id = useUID();\n  const inputRef = useConsolidatedRef(ref);\n  const listRef = useRef(null);\n  const [focusDescendant, setFocusDescendant] = useState(null);\n  const [activeItemId, setActiveItemId] = useState(null);\n  const {\n    start,\n    end\n  } = useDirection();\n  const uadConfig = useMemo(() => ({\n    focusEl: inputRef.current,\n    scope: listRef.current,\n    selector: 'li[role=\"option\"]',\n    orientation: 'horizontal',\n    focusReturnEl: focusDescendant,\n    clearFocusReturn: () => {\n      setFocusDescendant(null);\n    },\n    pauseDescendantEvaluation,\n    onClick: el => {\n      el.click();\n    }\n  }), [pauseDescendantEvaluation, selected, focusDescendant]);\n  const {\n    activeDescendant\n  } = useActiveDescendant(uadConfig, [selected]);\n  const handleSelectedRemoval = useCallback((selectionId, idx) => {\n    if (!pauseDescendantEvaluation) {\n      if (idx === selected.length - 1) {\n        // If removing last selected item\n        if (selected.length > 1) {\n          // If other selected items, focus previous\n          setFocusDescendant(listRef.current?.querySelectorAll(uadConfig.selector)[idx - 1] || null);\n        } else {\n          // Blur selected if final only item removed\n          onSelectedBlur?.();\n        }\n      } else if (selected.length > 1) {\n        // If not last item removed and other selected items, focus next\n        setFocusDescendant(listRef.current?.querySelectorAll(uadConfig.selector)[idx + 1] || null);\n      }\n    }\n    onRemove?.(selectionId, idx);\n    inputRef.current?.focus();\n  }, [selected, onRemove, onSelectedBlur, uadConfig]);\n  useEffect(() => {\n    // Maintain active item & prev. val only as it changes.\n    if (activeDescendant?.id && activeDescendant.id !== activeItemId) {\n      setActiveItemId(activeDescendant.id);\n    }\n  }, [activeDescendant]);\n  const onInputKeyDown = useCallback(e => {\n    if (selected.length && inputRef.current?.selectionStart === 0) {\n      const lastIndex = selected.length - 1;\n      if (pauseDescendantEvaluation && e.key === `Arrow${cap(start)}`) {\n        setFocusDescendant(listRef.current?.querySelectorAll(uadConfig.selector)[lastIndex] || null);\n        onSelectedFocus?.();\n      }\n      const lastSelectableId = listRef.current?.querySelectorAll(uadConfig.selector)[lastIndex]?.id;\n      const onLastItem = activeItemId === lastSelectableId;\n      if (!pauseDescendantEvaluation && (onLastItem && e.key === `Arrow${cap(end)}` || e.key === 'ArrowDown')) {\n        onSelectedBlur?.();\n      }\n      if (['Backspace', 'Delete'].includes(e.key) && !(readOnly || disabled)) {\n        handleSelectedRemoval(selected[lastIndex].id, lastIndex);\n      }\n    }\n    onKeyDown?.(e);\n  }, [pauseDescendantEvaluation, activeItemId, onKeyDown, handleSelectedRemoval, selected, readOnly, disabled]);\n  const ariaDescribedBy = useMemo(() => {\n    return onChange ? `${id}-inputDescription  ${id}-searchDescription` : `${id}-inputDescription`;\n  }, [id]);\n  return _jsxs(Flex, {\n    as: StyledMultiSelectInput,\n    forwardedAs: StyledFormControl,\n    hasSuggestion: status === 'pending' && !!onResolveSuggestion,\n    container: {\n      alignItems: 'center',\n      justify: 'between'\n    },\n    ...{\n      readOnly,\n      disabled,\n      status\n    },\n    children: [_jsxs(Flex, {\n      container: {\n        alignContent: 'center',\n        wrap: 'wrap',\n        rowGap: 0.5,\n        colGap: 0.25,\n        pad: 0.25\n      },\n      item: {\n        grow: 1\n      },\n      onClick: e => {\n        if (e.target instanceof HTMLElement && !e.currentTarget.contains(e.target.closest('li'))) {\n          inputRef.current?.focus();\n          inputRef.current?.click();\n        }\n      },\n      children: [selected.length > 0 && _jsx(\"ul\", {\n        ref: listRef,\n        id: id,\n        role: 'listbox',\n        \"aria-label\": t('selected_items'),\n        children: selected.map((element, idx) => {\n          return _jsx(Selectable, {\n            as: 'li',\n            role: 'option',\n            id: element.id.toString(),\n            status: status,\n            onClick: e => {\n              const mouseClick = e.detail !== 0;\n              if (!readOnly && !disabled && !mouseClick) {\n                handleSelectedRemoval(element.id, idx);\n              }\n            },\n            onRemove: () => {\n              if (!readOnly && !disabled) {\n                handleSelectedRemoval(element.id, idx);\n              }\n            },\n            onKeyDown: e => {\n              // prevent browser's Back on FF\n              if (e.key === 'Backspace') e.preventDefault();\n            },\n            tabIndex: '-1',\n            \"aria-label\": `${t('remove')} ${element.text}`,\n            \"aria-describedby\": ariaDescribedBy,\n            children: element.text\n          }, element.id);\n        })\n      }), _jsx(Flex, {\n        item: {\n          grow: 1\n        },\n        as: 'input',\n        size: 1,\n        ref: inputRef,\n        value: value,\n        // no-op avoids react uncontrolled warning\n        onChange: onChange || (() => {}),\n        onKeyDown: onInputKeyDown,\n        readOnly: readOnly || !onChange,\n        disabled: disabled,\n        placeholder: selected?.length ? undefined : placeholder,\n        autoComplete: 'off',\n        autoFocus: autoFocus,\n        \"aria-controls\": !pauseDescendantEvaluation ? id : ariaControls,\n        ...restProps,\n        required: undefined\n      })]\n    }), actions, _jsx(VisuallyHiddenText, {\n      id: `${id}-inputDescription`,\n      children: `${t('combobox_open_close')} `\n    }), _jsx(VisuallyHiddenText, {\n      id: `${id}-searchDescription`,\n      children: t('combobox_search_instructions')\n    })]\n  });\n});\nexport default MultiSelectInput;","map":{"version":3,"names":["forwardRef","useRef","useCallback","useMemo","useState","useEffect","styled","css","transparentize","defaultThemeProp","Selectable","StyledSelectable","StyledFormControl","Flex","useConsolidatedRef","useActiveDescendant","useDirection","useI18n","useUID","cap","tryCatch","StyledBareButton","VisuallyHiddenText","StyledSelectInput","StyledMultiSelectInput","_ref","theme","background","components","badges","selectable","base","foreground","palette","boxShadowColor","interactive","defaultProps","MultiSelectInput","props","ref","selected","value","onRemove","onChange","onKeyDown","onResolveSuggestion","actions","readOnly","disabled","status","placeholder","autoFocus","pauseDescendantEvaluation","onSelectedFocus","onSelectedBlur","ariaControls","restProps","t","id","inputRef","listRef","focusDescendant","setFocusDescendant","activeItemId","setActiveItemId","start","end","uadConfig","focusEl","current","scope","selector","orientation","focusReturnEl","clearFocusReturn","onClick","el","click","activeDescendant","handleSelectedRemoval","selectionId","idx","length","querySelectorAll","focus","onInputKeyDown","e","selectionStart","lastIndex","key","lastSelectableId","onLastItem","includes","ariaDescribedBy","_jsxs","as","forwardedAs","hasSuggestion","container","alignItems","justify","children","alignContent","wrap","rowGap","colGap","pad","item","grow","target","HTMLElement","currentTarget","contains","closest","_jsx","role","map","element","toString","mouseClick","detail","preventDefault","tabIndex","text","size","undefined","autoComplete","required"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/ComboBox/MultiSelectInput/MultiSelectInput.tsx"],"sourcesContent":["import {\n  FunctionComponent,\n  forwardRef,\n  Ref,\n  PropsWithoutRef,\n  KeyboardEvent,\n  useRef,\n  useCallback,\n  useMemo,\n  useState,\n  useEffect,\n  MouseEvent\n} from 'react';\nimport styled, { css } from 'styled-components';\nimport { transparentize } from 'polished';\n\nimport { ForwardProps } from '../../../types';\nimport { defaultThemeProp } from '../../../theme';\nimport Selectable, { StyledSelectable } from '../../Badges/Selection';\nimport { StyledFormControl } from '../../FormControl';\nimport Flex from '../../Flex';\nimport {\n  useConsolidatedRef,\n  useActiveDescendant,\n  useDirection,\n  useI18n,\n  useUID\n} from '../../../hooks';\nimport { cap, tryCatch } from '../../../utils';\nimport { StyledBareButton } from '../../Button/BareButton';\nimport VisuallyHiddenText from '../../VisuallyHiddenText';\nimport { StyledSelectInput } from '../ComboBox.styles';\n\nimport { MultiSelectInputProps } from './MultiSelectInput.types';\n\nexport const StyledMultiSelectInput = styled(StyledSelectInput)(({ theme }) => {\n  const { background } = theme.components.badges.selectable.base;\n  const { 'foreground-color': foreground } = theme.base.palette;\n  const boxShadowColor = tryCatch(() => transparentize(0.45, foreground));\n\n  return css`\n    cursor: text;\n\n    ul {\n      list-style: none;\n      display: contents;\n\n      &[data-active-scope='true'] ${StyledSelectable}[data-current='true'] {\n        color: ${theme.base.palette.interactive};\n        box-shadow: 0 0 0.5rem -0.125rem ${boxShadowColor}, inset 0 0 0 0.125rem ${background};\n        outline: none;\n\n        ${StyledBareButton} {\n          color: ${theme.base.palette.interactive};\n        }\n      }\n    }\n\n    input {\n      width: 8ch;\n      height: 1.125rem;\n    }\n  `;\n});\n\nStyledMultiSelectInput.defaultProps = defaultThemeProp;\n\nconst MultiSelectInput: FunctionComponent<MultiSelectInputProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<MultiSelectInputProps>, ref: Ref<HTMLInputElement>) => {\n    const {\n      selected = [],\n      value,\n      onRemove,\n      onChange,\n      onKeyDown,\n      onResolveSuggestion,\n      actions,\n      readOnly,\n      disabled,\n      status,\n      placeholder,\n      autoFocus,\n      pauseDescendantEvaluation,\n      onSelectedFocus,\n      onSelectedBlur,\n      'aria-controls': ariaControls,\n      ...restProps\n    } = props;\n    const t = useI18n();\n    const id = useUID();\n\n    const inputRef = useConsolidatedRef<HTMLInputElement>(ref);\n    const listRef = useRef<HTMLUListElement>(null);\n    const [focusDescendant, setFocusDescendant] = useState<HTMLElement | null>(null);\n    const [activeItemId, setActiveItemId] = useState<string | null>(null);\n    const { start, end } = useDirection();\n\n    const uadConfig = useMemo(\n      () => ({\n        focusEl: inputRef.current,\n        scope: listRef.current,\n        selector: 'li[role=\"option\"]',\n        orientation: 'horizontal' as const,\n        focusReturnEl: focusDescendant,\n        clearFocusReturn: () => {\n          setFocusDescendant(null);\n        },\n        pauseDescendantEvaluation,\n        onClick: (el: HTMLElement) => {\n          el.click();\n        }\n      }),\n      [pauseDescendantEvaluation, selected, focusDescendant]\n    );\n\n    const { activeDescendant } = useActiveDescendant(uadConfig, [selected]);\n\n    const handleSelectedRemoval = useCallback(\n      (selectionId, idx) => {\n        if (!pauseDescendantEvaluation) {\n          if (idx === selected.length - 1) {\n            // If removing last selected item\n            if (selected.length > 1) {\n              // If other selected items, focus previous\n              setFocusDescendant(\n                (listRef.current?.querySelectorAll(uadConfig.selector)[idx - 1] as HTMLElement) ||\n                  null\n              );\n            } else {\n              // Blur selected if final only item removed\n              onSelectedBlur?.();\n            }\n          } else if (selected.length > 1) {\n            // If not last item removed and other selected items, focus next\n            setFocusDescendant(\n              (listRef.current?.querySelectorAll(uadConfig.selector)[idx + 1] as HTMLElement) ||\n                null\n            );\n          }\n        }\n        onRemove?.(selectionId, idx);\n        inputRef.current?.focus();\n      },\n      [selected, onRemove, onSelectedBlur, uadConfig]\n    );\n\n    useEffect(() => {\n      // Maintain active item & prev. val only as it changes.\n      if (activeDescendant?.id && activeDescendant.id !== activeItemId) {\n        setActiveItemId(activeDescendant.id);\n      }\n    }, [activeDescendant]);\n\n    const onInputKeyDown = useCallback(\n      (e: KeyboardEvent<HTMLInputElement>) => {\n        if (selected.length && inputRef.current?.selectionStart === 0) {\n          const lastIndex = selected.length - 1;\n          if (pauseDescendantEvaluation && e.key === `Arrow${cap(start)}`) {\n            setFocusDescendant(\n              (listRef.current?.querySelectorAll(uadConfig.selector)[lastIndex] as HTMLElement) ||\n                null\n            );\n            onSelectedFocus?.();\n          }\n\n          const lastSelectableId = listRef.current?.querySelectorAll(uadConfig.selector)[lastIndex]\n            ?.id;\n          const onLastItem = activeItemId === lastSelectableId;\n\n          if (\n            !pauseDescendantEvaluation &&\n            ((onLastItem && e.key === `Arrow${cap(end)}`) || e.key === 'ArrowDown')\n          ) {\n            onSelectedBlur?.();\n          }\n\n          if (['Backspace', 'Delete'].includes(e.key) && !(readOnly || disabled)) {\n            handleSelectedRemoval(selected[lastIndex].id, lastIndex);\n          }\n        }\n        onKeyDown?.(e);\n      },\n      [\n        pauseDescendantEvaluation,\n        activeItemId,\n        onKeyDown,\n        handleSelectedRemoval,\n        selected,\n        readOnly,\n        disabled\n      ]\n    );\n\n    const ariaDescribedBy = useMemo(() => {\n      return onChange\n        ? `${id}-inputDescription  ${id}-searchDescription`\n        : `${id}-inputDescription`;\n    }, [id]);\n\n    return (\n      <Flex\n        as={StyledMultiSelectInput}\n        forwardedAs={StyledFormControl}\n        hasSuggestion={status === 'pending' && !!onResolveSuggestion}\n        container={{ alignItems: 'center', justify: 'between' }}\n        {...{\n          readOnly,\n          disabled,\n          status\n        }}\n      >\n        <Flex\n          container={{ alignContent: 'center', wrap: 'wrap', rowGap: 0.5, colGap: 0.25, pad: 0.25 }}\n          item={{ grow: 1 }}\n          onClick={(e: MouseEvent<HTMLDivElement>) => {\n            if (\n              e.target instanceof HTMLElement &&\n              !e.currentTarget.contains(e.target.closest('li'))\n            ) {\n              inputRef.current?.focus();\n              inputRef.current?.click();\n            }\n          }}\n        >\n          {selected.length > 0 && (\n            <ul ref={listRef} id={id} role='listbox' aria-label={t('selected_items')}>\n              {selected.map((element, idx) => {\n                return (\n                  <Selectable\n                    as='li'\n                    key={element.id}\n                    role='option'\n                    id={element.id.toString()}\n                    status={status}\n                    onClick={e => {\n                      const mouseClick = e.detail !== 0;\n\n                      if (!readOnly && !disabled && !mouseClick) {\n                        handleSelectedRemoval(element.id, idx);\n                      }\n                    }}\n                    onRemove={() => {\n                      if (!readOnly && !disabled) {\n                        handleSelectedRemoval(element.id, idx);\n                      }\n                    }}\n                    onKeyDown={(e: KeyboardEvent<Element>) => {\n                      // prevent browser's Back on FF\n                      if (e.key === 'Backspace') e.preventDefault();\n                    }}\n                    tabIndex='-1'\n                    aria-label={`${t('remove')} ${element.text}`}\n                    aria-describedby={ariaDescribedBy}\n                  >\n                    {element.text}\n                  </Selectable>\n                );\n              })}\n            </ul>\n          )}\n          <Flex\n            item={{ grow: 1 }}\n            as='input'\n            size={1}\n            ref={inputRef}\n            value={value}\n            // no-op avoids react uncontrolled warning\n            onChange={onChange || (() => {})}\n            onKeyDown={onInputKeyDown}\n            readOnly={readOnly || !onChange}\n            disabled={disabled}\n            placeholder={selected?.length ? undefined : placeholder}\n            autoComplete='off'\n            autoFocus={autoFocus}\n            aria-controls={!pauseDescendantEvaluation ? id : ariaControls}\n            {...restProps}\n            required={undefined}\n          />\n        </Flex>\n        {actions}\n\n        <VisuallyHiddenText id={`${id}-inputDescription`}>\n          {`${t('combobox_open_close')} `}\n        </VisuallyHiddenText>\n        <VisuallyHiddenText id={`${id}-searchDescription`}>\n          {t('combobox_search_instructions')}\n        </VisuallyHiddenText>\n      </Flex>\n    );\n  }\n);\n\nexport default MultiSelectInput;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
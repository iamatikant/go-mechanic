{"ast":null,"code":"import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment, useCallback, useContext, useMemo } from 'react';\nimport MetaList from '../MetaList';\nimport SummaryItem from '../SummaryItem';\nimport Flex from '../Flex';\nimport Icon, { registerIcon } from '../Icon';\nimport * as caretLeftIcon from '../Icon/icons/caret-left.icon';\nimport * as caretRightIcon from '../Icon/icons/caret-right.icon';\nimport * as checkIcon from '../Icon/icons/check.icon';\nimport Text from '../Text';\nimport { Count } from '../Badges';\nimport BareButton from '../Button/BareButton';\nimport { replaceMatchWithElement } from '../../utils';\nimport { useElement, useI18n, useDirection, useLiveLog, useTestIds } from '../../hooks';\nimport Tooltip from '../Tooltip';\nimport Mark from '../Mark';\nimport Button from '../Button';\nimport menuHelpers from './helpers';\nimport MenuContext from './Menu.context';\nimport { StyledAncestors, StyledCheckMarkIcon, StyledMenuItem } from './Menu.styles';\nimport { getMenuItemTestIds } from './Menu.test-ids';\nregisterIcon(caretLeftIcon, caretRightIcon, checkIcon);\nconst DrillDown = _ref => {\n  let {\n    expandHandler\n  } = _ref;\n  const {\n    end\n  } = useDirection();\n  const icon = _jsx(Icon, {\n    name: `caret-${end}`\n  });\n  return expandHandler ? _jsx(Button, {\n    as: 'span',\n    icon: true,\n    variant: 'simple',\n    \"aria-hidden\": true,\n    onClick: expandHandler,\n    children: icon\n  }) : icon;\n};\nconst AncestorPath = _ref2 => {\n  let {\n    ancestors = []\n  } = _ref2;\n  const truncatedPath = ancestors.length > 2;\n  const pathParts = truncatedPath ? [ancestors[0], ancestors[ancestors.length - 1]] : ancestors;\n  const {\n    end\n  } = useDirection();\n  return _jsx(Flex, {\n    container: {\n      gap: 0.5,\n      alignItems: 'center'\n    },\n    as: StyledAncestors,\n    title: ancestors.map(a => menuHelpers.isItem(a) ? a.primary : a.label).join(' > '),\n    children: pathParts.map((ancestor, i, arr) => {\n      const label = menuHelpers.isItem(ancestor) ? ancestor.primary : ancestor.label;\n      return _jsxs(Fragment, {\n        children: [_jsx(Text, {\n          variant: 'secondary',\n          children: label\n        }), i < arr.length - 1 && _jsxs(_Fragment, {\n          children: [_jsx(Text, {\n            variant: 'secondary',\n            children: _jsx(Icon, {\n              name: `caret-${end}`\n            })\n          }), truncatedPath && _jsxs(_Fragment, {\n            children: [_jsx(Text, {\n              variant: 'secondary',\n              children: \"\\u2026\"\n            }), _jsx(Text, {\n              variant: 'secondary',\n              children: _jsx(Icon, {\n                name: `caret-${end}`\n              })\n            })]\n          })]\n        })]\n      }, label);\n    })\n  });\n};\nconst MenuItem = _ref3 => {\n  let {\n    testId,\n    id,\n    primary,\n    secondary,\n    ancestors,\n    visual,\n    count,\n    items,\n    selected,\n    partial,\n    href,\n    tooltip,\n    onClick,\n    onExpand,\n    disabled,\n    role = 'menuitem',\n    ...restProps\n  } = _ref3;\n  const t = useI18n();\n  const {\n    mode,\n    onItemClick,\n    accent,\n    variant: menuVariant,\n    setFocusDescendant,\n    getScopedItemId,\n    arrowNavigationUnsupported\n  } = useContext(MenuContext);\n  const testIds = useTestIds(testId, getMenuItemTestIds);\n  const {\n    announcePolite\n  } = useLiveLog();\n  const selectionMode = mode === 'single-select' || mode === 'multi-select';\n  const selectableParent = items && typeof selected === 'boolean';\n  const itemId = useMemo(() => getScopedItemId(id), [id, getScopedItemId]);\n  const itemCountId = `${id}-count`;\n  const secondaryId = `${id}-secondary`;\n  const clickHandler = useCallback(e => {\n    const mouseClick = e.detail !== 0;\n    if (mouseClick) {\n      const target = e.target;\n      const focusAtEl = target.getAttribute('role') === role ? target : target.closest(`li[role=\"${role}\"]`);\n      if (focusAtEl) setFocusDescendant(focusAtEl);\n    }\n    onClick?.(id, e);\n    onItemClick?.(id, e);\n  }, [onClick, onItemClick, id]);\n  const expandHandler = useCallback(e => {\n    onExpand?.(id, e);\n    e.stopPropagation();\n  }, [onExpand, id]);\n  let accentedPrimary;\n  if (accent && !items) {\n    const accentRegex = typeof accent === 'function' ? accent(primary) : accent;\n    accentedPrimary = replaceMatchWithElement(primary, accentRegex, str => {\n      return _jsx(Mark, {\n        children: str\n      });\n    });\n  }\n  const secondaryContent = ancestors ? _jsx(AncestorPath, {\n    ancestors: ancestors\n  }) : secondary && _jsx(MetaList, {\n    items: secondary,\n    id: secondaryId\n  });\n  const [summaryItemRef, setSummaryItemRef] = useElement();\n  const summaryItem = _jsxs(_Fragment, {\n    children: [_jsx(SummaryItem, {\n      ref: setSummaryItemRef,\n      primary: accentedPrimary || (!items ? _jsx(Text, {\n        children: primary\n      }) : primary),\n      secondary: secondaryContent,\n      visual: visual,\n      actions: items || count ? _jsxs(Flex, {\n        container: {\n          gap: 1,\n          alignItems: 'center'\n        },\n        children: [count !== undefined && _jsx(Count, {\n          id: itemCountId,\n          \"aria-label\": t('menu_item_count', [count]),\n          children: count\n        }), items && _jsx(DrillDown, {\n          expandHandler: selectableParent ? expandHandler : undefined\n        })]\n      }) : undefined,\n      container: {\n        colGap: 1\n      }\n    }), tooltip && _jsx(Tooltip, {\n      target: summaryItemRef,\n      hideDelay: 'none',\n      showDelay: 'none',\n      portal: true,\n      children: tooltip\n    })]\n  });\n  const itemLabel = useMemo(() => {\n    let label = '';\n    let collapsedLabel = '';\n    if (selectableParent && selectionMode) {\n      const selectedParentItemLabel = selected ? t('selected_noun', [primary]) : t('unselected_noun', [primary]);\n      collapsedLabel = t('menu_collapsed', [selectedParentItemLabel]);\n    } else {\n      collapsedLabel = t('menu_collapsed', [primary]);\n    }\n    if (selectionMode && !items) {\n      label = selected ? t('selected_noun', [primary]) : t('unselected_noun', [primary]);\n    } else {\n      label = primary;\n    }\n    if (items) {\n      return arrowNavigationUnsupported ? t('menu_item_shift_space_expand_collapse', [collapsedLabel]) : t('menu_item_expand_arrow', [collapsedLabel]);\n    }\n    return label;\n  }, [selected, primary, items]);\n  const ariaDescribedBy = useMemo(() => {\n    const hasSecondary = !!secondary;\n    let idString;\n    if (hasSecondary) {\n      idString = secondaryId;\n      if (count !== undefined && count >= 0) {\n        idString = `${idString} ${itemCountId}`;\n      }\n    } else if (count !== undefined && count >= 0) {\n      idString = itemCountId;\n    } else idString = '';\n    return idString;\n  }, [items, secondary, itemCountId, secondaryId]);\n  return _jsxs(Flex, {\n    \"data-testid\": testIds.root,\n    ...restProps,\n    container: {\n      alignItems: 'center',\n      justify: 'between',\n      gap: 1\n    },\n    id: itemId,\n    as: StyledMenuItem,\n    \"aria-label\": itemLabel,\n    \"aria-describedby\": ariaDescribedBy,\n    role: role,\n    \"aria-disabled\": disabled,\n    \"data-expand\": !!items,\n    tabIndex: '-1',\n    disabled: disabled,\n    onMouseDown: e => {\n      e.preventDefault();\n    },\n    onClick: e => {\n      /** Announce only on keyboard selection since mouse selection will automatically detect and act on the DOM aria attribute changes */\n      if (e.detail === 0 && selected !== undefined) {\n        announcePolite({\n          /** selected is still not updated so putting the reverse logic. */\n          message: !selected ? t('selected_noun', [primary]) : t('unselected_noun', [primary]),\n          type: 'acknowledgement'\n        });\n      }\n      return items && typeof selected !== 'boolean' ? expandHandler(e) : clickHandler(e);\n    },\n    onMouseEnter: menuVariant === 'flyout' ? expandHandler : undefined,\n    href: href,\n    mode: mode,\n    isParentItem: !!items,\n    \"aria-selected\": !!selected,\n    selectableParent: selectableParent,\n    children: [selectionMode && (!items || selectableParent) && _jsx(Icon, {\n      as: StyledCheckMarkIcon,\n      name: 'check'\n    }), href && !selectionMode ? _jsx(BareButton, {\n      href: href,\n      tabIndex: '-1',\n      children: summaryItem\n    }) : summaryItem]\n  });\n};\nexport default MenuItem;","map":{"version":3,"names":["Fragment","useCallback","useContext","useMemo","MetaList","SummaryItem","Flex","Icon","registerIcon","caretLeftIcon","caretRightIcon","checkIcon","Text","Count","BareButton","replaceMatchWithElement","useElement","useI18n","useDirection","useLiveLog","useTestIds","Tooltip","Mark","Button","menuHelpers","MenuContext","StyledAncestors","StyledCheckMarkIcon","StyledMenuItem","getMenuItemTestIds","DrillDown","_ref","expandHandler","end","icon","_jsx","name","as","variant","onClick","children","AncestorPath","_ref2","ancestors","truncatedPath","length","pathParts","container","gap","alignItems","title","map","a","isItem","primary","label","join","ancestor","i","arr","_jsxs","_Fragment","MenuItem","_ref3","testId","id","secondary","visual","count","items","selected","partial","href","tooltip","onExpand","disabled","role","restProps","t","mode","onItemClick","accent","menuVariant","setFocusDescendant","getScopedItemId","arrowNavigationUnsupported","testIds","announcePolite","selectionMode","selectableParent","itemId","itemCountId","secondaryId","clickHandler","e","mouseClick","detail","target","focusAtEl","getAttribute","closest","stopPropagation","accentedPrimary","accentRegex","str","secondaryContent","summaryItemRef","setSummaryItemRef","summaryItem","ref","actions","undefined","colGap","hideDelay","showDelay","portal","itemLabel","collapsedLabel","selectedParentItemLabel","ariaDescribedBy","hasSecondary","idString","root","justify","tabIndex","onMouseDown","preventDefault","message","type","onMouseEnter","isParentItem"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Menu/MenuItem.tsx"],"sourcesContent":["import { Fragment, FunctionComponent, MouseEvent, useCallback, useContext, useMemo } from 'react';\n\nimport MetaList from '../MetaList';\nimport SummaryItem from '../SummaryItem';\nimport { ForwardProps } from '../../types';\nimport Flex from '../Flex';\nimport Icon, { registerIcon } from '../Icon';\nimport * as caretLeftIcon from '../Icon/icons/caret-left.icon';\nimport * as caretRightIcon from '../Icon/icons/caret-right.icon';\nimport * as checkIcon from '../Icon/icons/check.icon';\nimport Text from '../Text';\nimport { Count } from '../Badges';\nimport BareButton from '../Button/BareButton';\nimport { replaceMatchWithElement } from '../../utils';\nimport { useElement, useI18n, useDirection, useLiveLog, useTestIds } from '../../hooks';\nimport Tooltip from '../Tooltip';\nimport Mark from '../Mark';\nimport Button from '../Button';\n\nimport menuHelpers from './helpers';\nimport { AcceptedMouseEventElement, MenuItemProps } from './Menu.types';\nimport MenuContext from './Menu.context';\nimport { StyledAncestors, StyledCheckMarkIcon, StyledMenuItem } from './Menu.styles';\nimport { getMenuItemTestIds } from './Menu.test-ids';\n\nregisterIcon(caretLeftIcon, caretRightIcon, checkIcon);\n\nconst DrillDown = ({\n  expandHandler\n}: {\n  expandHandler?: (e: MouseEvent<AcceptedMouseEventElement>) => void;\n}) => {\n  const { end } = useDirection();\n\n  const icon = <Icon name={`caret-${end}`} />;\n\n  return expandHandler ? (\n    <Button as='span' icon variant='simple' aria-hidden onClick={expandHandler}>\n      {icon}\n    </Button>\n  ) : (\n    icon\n  );\n};\n\nconst AncestorPath = ({ ancestors = [] }: Pick<MenuItemProps, 'ancestors'>) => {\n  const truncatedPath = ancestors.length > 2;\n  const pathParts = truncatedPath ? [ancestors[0], ancestors[ancestors.length - 1]] : ancestors;\n\n  const { end } = useDirection();\n\n  return (\n    <Flex\n      container={{ gap: 0.5, alignItems: 'center' }}\n      as={StyledAncestors}\n      title={ancestors.map(a => (menuHelpers.isItem(a) ? a.primary : a.label)).join(' > ')}\n    >\n      {pathParts.map((ancestor, i, arr) => {\n        const label = menuHelpers.isItem(ancestor) ? ancestor.primary : ancestor.label;\n        return (\n          <Fragment key={label}>\n            <Text variant='secondary'>{label}</Text>\n            {i < arr.length - 1 && (\n              <>\n                <Text variant='secondary'>\n                  <Icon name={`caret-${end}`} />\n                </Text>\n                {truncatedPath && (\n                  <>\n                    <Text variant='secondary'>â€¦</Text>\n                    <Text variant='secondary'>\n                      <Icon name={`caret-${end}`} />\n                    </Text>\n                  </>\n                )}\n              </>\n            )}\n          </Fragment>\n        );\n      })}\n    </Flex>\n  );\n};\n\nconst MenuItem: FunctionComponent<MenuItemProps & ForwardProps> = ({\n  testId,\n  id,\n  primary,\n  secondary,\n  ancestors,\n  visual,\n  count,\n  items,\n  selected,\n  partial,\n  href,\n  tooltip,\n  onClick,\n  onExpand,\n  disabled,\n  role = 'menuitem',\n  ...restProps\n}: MenuItemProps & ForwardProps) => {\n  const t = useI18n();\n  const {\n    mode,\n    onItemClick,\n    accent,\n    variant: menuVariant,\n    setFocusDescendant,\n    getScopedItemId,\n    arrowNavigationUnsupported\n  } = useContext(MenuContext);\n\n  const testIds = useTestIds(testId, getMenuItemTestIds);\n\n  const { announcePolite } = useLiveLog();\n\n  const selectionMode = mode === 'single-select' || mode === 'multi-select';\n  const selectableParent = items && typeof selected === 'boolean';\n  const itemId = useMemo(() => getScopedItemId(id), [id, getScopedItemId]);\n\n  const itemCountId = `${id}-count`;\n  const secondaryId = `${id}-secondary`;\n\n  const clickHandler = useCallback(\n    (e: MouseEvent<AcceptedMouseEventElement>) => {\n      const mouseClick = e.detail !== 0;\n\n      if (mouseClick) {\n        const target = e.target as HTMLElement;\n        const focusAtEl =\n          target.getAttribute('role') === role ? target : target.closest(`li[role=\"${role}\"]`);\n\n        if (focusAtEl) setFocusDescendant(focusAtEl as HTMLElement);\n      }\n      onClick?.(id, e);\n      onItemClick?.(id, e);\n    },\n    [onClick, onItemClick, id]\n  );\n\n  const expandHandler = useCallback(\n    (e: MouseEvent<AcceptedMouseEventElement>) => {\n      onExpand?.(id, e);\n      e.stopPropagation();\n    },\n    [onExpand, id]\n  );\n\n  let accentedPrimary;\n  if (accent && !items) {\n    const accentRegex = typeof accent === 'function' ? accent(primary) : accent;\n    accentedPrimary = replaceMatchWithElement(primary, accentRegex, str => {\n      return <Mark>{str}</Mark>;\n    });\n  }\n\n  const secondaryContent = ancestors ? (\n    <AncestorPath ancestors={ancestors} />\n  ) : (\n    secondary && <MetaList items={secondary} id={secondaryId} />\n  );\n\n  const [summaryItemRef, setSummaryItemRef] = useElement();\n\n  const summaryItem = (\n    <>\n      <SummaryItem\n        ref={setSummaryItemRef}\n        primary={accentedPrimary || (!items ? <Text>{primary}</Text> : primary)}\n        secondary={secondaryContent}\n        visual={visual}\n        actions={\n          items || count ? (\n            <Flex container={{ gap: 1, alignItems: 'center' }}>\n              {count !== undefined && (\n                <Count id={itemCountId} aria-label={t('menu_item_count', [count])}>\n                  {count}\n                </Count>\n              )}\n              {items && <DrillDown expandHandler={selectableParent ? expandHandler : undefined} />}\n            </Flex>\n          ) : undefined\n        }\n        container={{\n          colGap: 1\n        }}\n      />\n      {tooltip && (\n        <Tooltip target={summaryItemRef} hideDelay='none' showDelay='none' portal>\n          {tooltip}\n        </Tooltip>\n      )}\n    </>\n  );\n\n  const itemLabel = useMemo(() => {\n    let label = '';\n    let collapsedLabel = '';\n    if (selectableParent && selectionMode) {\n      const selectedParentItemLabel = selected\n        ? t('selected_noun', [primary])\n        : t('unselected_noun', [primary]);\n      collapsedLabel = t('menu_collapsed', [selectedParentItemLabel]);\n    } else {\n      collapsedLabel = t('menu_collapsed', [primary]);\n    }\n    if (selectionMode && !items) {\n      label = selected ? t('selected_noun', [primary]) : t('unselected_noun', [primary]);\n    } else {\n      label = primary;\n    }\n    if (items) {\n      return arrowNavigationUnsupported\n        ? t('menu_item_shift_space_expand_collapse', [collapsedLabel])\n        : t('menu_item_expand_arrow', [collapsedLabel]);\n    }\n    return label;\n  }, [selected, primary, items]);\n\n  const ariaDescribedBy = useMemo(() => {\n    const hasSecondary = !!secondary;\n    let idString: string;\n\n    if (hasSecondary) {\n      idString = secondaryId;\n      if (count !== undefined && count >= 0) {\n        idString = `${idString} ${itemCountId}`;\n      }\n    } else if (count !== undefined && count >= 0) {\n      idString = itemCountId;\n    } else idString = '';\n\n    return idString;\n  }, [items, secondary, itemCountId, secondaryId]);\n\n  return (\n    <Flex\n      data-testid={testIds.root}\n      {...restProps}\n      container={{ alignItems: 'center', justify: 'between', gap: 1 }}\n      id={itemId}\n      as={StyledMenuItem}\n      aria-label={itemLabel}\n      aria-describedby={ariaDescribedBy}\n      role={role}\n      aria-disabled={disabled}\n      data-expand={!!items}\n      tabIndex='-1'\n      disabled={disabled}\n      onMouseDown={(e: MouseEvent<HTMLButtonElement | HTMLAnchorElement>) => {\n        e.preventDefault();\n      }}\n      onClick={(e: MouseEvent<AcceptedMouseEventElement>) => {\n        /** Announce only on keyboard selection since mouse selection will automatically detect and act on the DOM aria attribute changes */\n        if (e.detail === 0 && selected !== undefined) {\n          announcePolite({\n            /** selected is still not updated so putting the reverse logic. */\n            message: !selected ? t('selected_noun', [primary]) : t('unselected_noun', [primary]),\n            type: 'acknowledgement'\n          });\n        }\n        return items && typeof selected !== 'boolean' ? expandHandler(e) : clickHandler(e);\n      }}\n      onMouseEnter={menuVariant === 'flyout' ? expandHandler : undefined}\n      href={href}\n      mode={mode}\n      isParentItem={!!items}\n      aria-selected={!!selected}\n      selectableParent={selectableParent}\n    >\n      {selectionMode && (!items || selectableParent) && (\n        <Icon as={StyledCheckMarkIcon} name='check' />\n      )}\n\n      {href && !selectionMode ? (\n        <BareButton href={href} tabIndex='-1'>\n          {summaryItem}\n        </BareButton>\n      ) : (\n        summaryItem\n      )}\n    </Flex>\n  );\n};\n\nexport default MenuItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
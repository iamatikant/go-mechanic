{"ast":null,"code":"import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useContext, useEffect } from 'react';\nimport Flex from '../Flex';\nimport Image from '../Image';\nimport SearchInput from '../SearchInput';\nimport { useBreakpoint, useElement } from '../../hooks';\nimport BareButton from '../Button/BareButton';\nimport VisuallyHiddenText from '../VisuallyHiddenText';\nimport AppShellOperator from './Operator';\nimport ContextSwitcher from './ContextSwitcher';\nimport { StyledAppHeader, StyledAppHeaderInfo, StyledAppHeaderSearchForm, StyledAppHeaderSpacer, StyledAppHeaderText, StyledAppHeaderOperator } from './AppHeader.styles';\nimport AppShellContext from './AppShellContext';\nconst AppHeader = forwardRef((_ref, ref) => {\n  let {\n    appName,\n    contextSwitcher: {\n      contexts,\n      onContextClick,\n      label: contextSwitcherLabel\n    } = {},\n    fullImageSrc,\n    imageSrc,\n    href,\n    onClick,\n    portalName,\n    target,\n    appNameHidden,\n    operator,\n    searchInput,\n    searchLabel,\n    searchPage\n  } = _ref;\n  const isMediumOrAbove = useBreakpoint('md');\n  const [searchContainer, setSearchContainer] = useElement();\n  const {\n    drawerOpen,\n    setSearchContainerEl\n  } = useContext(AppShellContext);\n  useEffect(() => {\n    if (searchPage && searchContainer) {\n      setSearchContainerEl(searchContainer);\n    } else {\n      setSearchContainerEl(null);\n    }\n  }, [searchPage, searchContainer, setSearchContainerEl]);\n  let appInfoAs = 'div';\n  if (href) appInfoAs = 'a';else if (onClick) appInfoAs = BareButton;\n  return _jsxs(Flex, {\n    as: StyledAppHeader,\n    container: {\n      alignItems: 'center',\n      pad: 1\n    },\n    hideTitle: !isMediumOrAbove,\n    drawerOpen: drawerOpen,\n    ref: ref,\n    children: [contexts && contexts.length > 1 && onContextClick && _jsx(ContextSwitcher, {\n      contexts: contexts,\n      onContextClick: onContextClick,\n      label: contextSwitcherLabel\n    }), _jsx(StyledAppHeaderInfo, {\n      centerLogo: !fullImageSrc,\n      children: _jsxs(Flex, {\n        container: {\n          inline: true,\n          alignItems: 'center',\n          gap: 1\n        },\n        as: appInfoAs,\n        href: href,\n        onClick: onClick,\n        target: target,\n        children: [_jsx(Image, {\n          src: fullImageSrc || imageSrc,\n          alt: '',\n          \"aria-hidden\": 'true'\n        }), isMediumOrAbove && _jsxs(_Fragment, {\n          children: [_jsx(StyledAppHeaderText, {\n            as: appNameHidden ? VisuallyHiddenText : 'span',\n            variant: 'primary',\n            children: appName\n          }), portalName && _jsx(StyledAppHeaderText, {\n            as: appNameHidden ? VisuallyHiddenText : 'span',\n            variant: 'secondary',\n            children: portalName\n          })]\n        })]\n      })\n    }), _jsx(Flex, {\n      item: {\n        grow: 1\n      },\n      container: {\n        justify: 'end'\n      },\n      children: searchInput ? _jsx(StyledAppHeaderSearchForm, {\n        ref: setSearchContainer,\n        role: 'search',\n        \"aria-label\": searchLabel,\n        onSubmit: e => e.preventDefault(),\n        isMediumOrAbove: isMediumOrAbove,\n        children: !searchPage && _jsx(SearchInput, {\n          ...searchInput\n        })\n      }) : _jsx(StyledAppHeaderSpacer, {})\n    }), _jsx(AppShellOperator, {\n      as: StyledAppHeaderOperator,\n      actions: operator.actions,\n      popover: {\n        placement: 'bottom-start'\n      },\n      children: operator.avatar\n    })]\n  });\n});\nexport default AppHeader;","map":{"version":3,"names":["forwardRef","useContext","useEffect","Flex","Image","SearchInput","useBreakpoint","useElement","BareButton","VisuallyHiddenText","AppShellOperator","ContextSwitcher","StyledAppHeader","StyledAppHeaderInfo","StyledAppHeaderSearchForm","StyledAppHeaderSpacer","StyledAppHeaderText","StyledAppHeaderOperator","AppShellContext","AppHeader","_ref","ref","appName","contextSwitcher","contexts","onContextClick","label","contextSwitcherLabel","fullImageSrc","imageSrc","href","onClick","portalName","target","appNameHidden","operator","searchInput","searchLabel","searchPage","isMediumOrAbove","searchContainer","setSearchContainer","drawerOpen","setSearchContainerEl","appInfoAs","_jsxs","as","container","alignItems","pad","hideTitle","children","length","_jsx","centerLogo","inline","gap","src","alt","_Fragment","variant","item","grow","justify","role","onSubmit","e","preventDefault","actions","popover","placement","avatar"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/AppShell/AppHeader.tsx"],"sourcesContent":["import { forwardRef, FunctionComponent, Ref, ElementType, useContext, useEffect } from 'react';\n\nimport Flex from '../Flex';\nimport Image from '../Image';\nimport SearchInput from '../SearchInput';\nimport { useBreakpoint, useElement } from '../../hooks';\nimport { ForwardProps } from '../../types';\nimport BareButton from '../Button/BareButton';\nimport VisuallyHiddenText from '../VisuallyHiddenText';\n\nimport { AppHeaderProps } from './AppShell.types';\nimport AppShellOperator from './Operator';\nimport ContextSwitcher from './ContextSwitcher';\nimport {\n  StyledAppHeader,\n  StyledAppHeaderInfo,\n  StyledAppHeaderSearchForm,\n  StyledAppHeaderSpacer,\n  StyledAppHeaderText,\n  StyledAppHeaderOperator\n} from './AppHeader.styles';\nimport AppShellContext from './AppShellContext';\n\nconst AppHeader: FunctionComponent<AppHeaderProps & ForwardProps> = forwardRef(\n  (\n    {\n      appName,\n      contextSwitcher: { contexts, onContextClick, label: contextSwitcherLabel } = {},\n      fullImageSrc,\n      imageSrc,\n      href,\n      onClick,\n      portalName,\n      target,\n      appNameHidden,\n      operator,\n      searchInput,\n      searchLabel,\n      searchPage\n    }: AppHeaderProps,\n    ref: Ref<Element>\n  ) => {\n    const isMediumOrAbove = useBreakpoint('md');\n    const [searchContainer, setSearchContainer] = useElement<HTMLElement>();\n    const { drawerOpen, setSearchContainerEl } = useContext(AppShellContext);\n\n    useEffect(() => {\n      if (searchPage && searchContainer) {\n        setSearchContainerEl(searchContainer);\n      } else {\n        setSearchContainerEl(null);\n      }\n    }, [searchPage, searchContainer, setSearchContainerEl]);\n\n    let appInfoAs: ElementType = 'div';\n    if (href) appInfoAs = 'a';\n    else if (onClick) appInfoAs = BareButton;\n\n    return (\n      <Flex\n        as={StyledAppHeader}\n        container={{ alignItems: 'center', pad: 1 }}\n        hideTitle={!isMediumOrAbove}\n        drawerOpen={drawerOpen}\n        ref={ref}\n      >\n        {contexts && contexts.length > 1 && onContextClick && (\n          <ContextSwitcher\n            contexts={contexts}\n            onContextClick={onContextClick}\n            label={contextSwitcherLabel}\n          />\n        )}\n\n        <StyledAppHeaderInfo centerLogo={!fullImageSrc}>\n          <Flex\n            container={{ inline: true, alignItems: 'center', gap: 1 }}\n            as={appInfoAs}\n            href={href}\n            onClick={onClick}\n            target={target}\n          >\n            <Image src={fullImageSrc || imageSrc} alt='' aria-hidden='true' />\n            {isMediumOrAbove && (\n              <>\n                <StyledAppHeaderText\n                  as={appNameHidden ? VisuallyHiddenText : 'span'}\n                  variant='primary'\n                >\n                  {appName}\n                </StyledAppHeaderText>\n                {portalName && (\n                  <StyledAppHeaderText\n                    as={appNameHidden ? VisuallyHiddenText : 'span'}\n                    variant='secondary'\n                  >\n                    {portalName}\n                  </StyledAppHeaderText>\n                )}\n              </>\n            )}\n          </Flex>\n        </StyledAppHeaderInfo>\n        <Flex item={{ grow: 1 }} container={{ justify: 'end' }}>\n          {searchInput ? (\n            <StyledAppHeaderSearchForm\n              ref={setSearchContainer}\n              role='search'\n              aria-label={searchLabel}\n              onSubmit={e => e.preventDefault()}\n              isMediumOrAbove={isMediumOrAbove}\n            >\n              {!searchPage && <SearchInput {...searchInput} />}\n            </StyledAppHeaderSearchForm>\n          ) : (\n            <StyledAppHeaderSpacer />\n          )}\n        </Flex>\n\n        <AppShellOperator\n          as={StyledAppHeaderOperator}\n          actions={operator.actions}\n          popover={{ placement: 'bottom-start' }}\n        >\n          {operator.avatar}\n        </AppShellOperator>\n      </Flex>\n    );\n  }\n);\n\nexport default AppHeader;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
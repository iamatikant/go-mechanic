{"ast":null,"code":"import parsePhoneNumber, { AsYouType, formatIncompletePhoneNumber } from 'libphonenumber-js';\nexport const getPhoneNumberParts = (phoneNumber, codesList) => {\n  if (!phoneNumber.startsWith('+') || phoneNumber.startsWith('+0')) return [undefined, phoneNumber];\n  const countryCode = codesList.find(code => phoneNumber.startsWith(code));\n  const subscriberNumber = phoneNumber.substring(countryCode?.length || 0);\n  return [countryCode, subscriberNumber];\n};\nexport const cleanSubscriberNumber = phoneNumber => {\n  return phoneNumber.replace(/\\D/g, '');\n};\nexport const getCountry = (countryCode, number) => {\n  const asYouTypeCode = new AsYouType();\n  asYouTypeCode.input(countryCode + number);\n  return countryCode === '+1' ? 'US' : asYouTypeCode.getNumber()?.country;\n};\nexport const formatPhoneNumber = function (numberToFormat) {\n  let countryCode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  let formatted = cleanSubscriberNumber(numberToFormat);\n  if (countryCode) {\n    const country = getCountry(countryCode, formatted);\n    formatted = formatIncompletePhoneNumber(formatted, country);\n  }\n  return formatted;\n};\nexport const convertToCallbackParameter = (codePart, numberPart) => {\n  return [codePart, cleanSubscriberNumber(numberPart)].join('');\n};\nexport const formatPhone = function (value) {\n  let {\n    nationalFormat\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return nationalFormat ? parsePhoneNumber(value)?.formatNational() : parsePhoneNumber(value)?.formatInternational();\n};\nexport default getPhoneNumberParts;","map":{"version":3,"names":["parsePhoneNumber","AsYouType","formatIncompletePhoneNumber","getPhoneNumberParts","phoneNumber","codesList","startsWith","undefined","countryCode","find","code","subscriberNumber","substring","length","cleanSubscriberNumber","replace","getCountry","number","asYouTypeCode","input","getNumber","country","formatPhoneNumber","numberToFormat","arguments","formatted","convertToCallbackParameter","codePart","numberPart","join","formatPhone","value","nationalFormat","formatNational","formatInternational"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Phone/utils.ts"],"sourcesContent":["import parsePhoneNumber, { AsYouType, formatIncompletePhoneNumber } from 'libphonenumber-js';\n\nexport const getPhoneNumberParts = (\n  phoneNumber: string,\n  codesList: string[]\n): [string | undefined, string] => {\n  if (!phoneNumber.startsWith('+') || phoneNumber.startsWith('+0')) return [undefined, phoneNumber];\n  const countryCode = codesList.find(code => phoneNumber.startsWith(code));\n  const subscriberNumber = phoneNumber.substring(countryCode?.length || 0);\n  return [countryCode, subscriberNumber];\n};\n\nexport const cleanSubscriberNumber = (phoneNumber: string) => {\n  return phoneNumber.replace(/\\D/g, '');\n};\n\nexport const getCountry = (countryCode: string, number: string) => {\n  const asYouTypeCode = new AsYouType();\n  asYouTypeCode.input(countryCode + number);\n  return countryCode === '+1' ? 'US' : asYouTypeCode.getNumber()?.country;\n};\n\nexport const formatPhoneNumber = (numberToFormat: string, countryCode: string = '') => {\n  let formatted = cleanSubscriberNumber(numberToFormat);\n  if (countryCode) {\n    const country = getCountry(countryCode, formatted);\n    formatted = formatIncompletePhoneNumber(formatted, country);\n  }\n  return formatted;\n};\n\nexport const convertToCallbackParameter = (codePart: string | undefined, numberPart: string) => {\n  return [codePart, cleanSubscriberNumber(numberPart)].join('');\n};\n\ninterface PhoneFormatOptions {\n  nationalFormat?: boolean;\n}\n\nexport const formatPhone = (value: string, { nationalFormat }: PhoneFormatOptions = {}) => {\n  return nationalFormat\n    ? parsePhoneNumber(value)?.formatNational()\n    : parsePhoneNumber(value)?.formatInternational();\n};\n\nexport default getPhoneNumberParts;\n"],"mappings":"AAAA,OAAOA,gBAAgB,IAAIC,SAAS,EAAEC,2BAA2B,QAAQ,mBAAmB;AAE5F,OAAO,MAAMC,mBAAmB,GAAGA,CACjCC,WAAmB,EACnBC,SAAmB,KACa;EAChC,IAAI,CAACD,WAAW,CAACE,UAAU,CAAC,GAAG,CAAC,IAAIF,WAAW,CAACE,UAAU,CAAC,IAAI,CAAC,EAAE,OAAO,CAACC,SAAS,EAAEH,WAAW,CAAC;EACjG,MAAMI,WAAW,GAAGH,SAAS,CAACI,IAAI,CAACC,IAAI,IAAIN,WAAW,CAACE,UAAU,CAACI,IAAI,CAAC,CAAC;EACxE,MAAMC,gBAAgB,GAAGP,WAAW,CAACQ,SAAS,CAACJ,WAAW,EAAEK,MAAM,IAAI,CAAC,CAAC;EACxE,OAAO,CAACL,WAAW,EAAEG,gBAAgB,CAAC;AACxC,CAAC;AAED,OAAO,MAAMG,qBAAqB,GAAIV,WAAmB,IAAI;EAC3D,OAAOA,WAAW,CAACW,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;AACvC,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGA,CAACR,WAAmB,EAAES,MAAc,KAAI;EAChE,MAAMC,aAAa,GAAG,IAAIjB,SAAS,EAAE;EACrCiB,aAAa,CAACC,KAAK,CAACX,WAAW,GAAGS,MAAM,CAAC;EACzC,OAAOT,WAAW,KAAK,IAAI,GAAG,IAAI,GAAGU,aAAa,CAACE,SAAS,EAAE,EAAEC,OAAO;AACzE,CAAC;AAED,OAAO,MAAMC,iBAAiB,GAAG,SAAAA,CAACC,cAAsB,EAA8B;EAAA,IAA5Bf,WAAA,GAAAgB,SAAA,CAAAX,MAAA,QAAAW,SAAA,QAAAjB,SAAA,GAAAiB,SAAA,MAAsB,EAAE;EAChF,IAAIC,SAAS,GAAGX,qBAAqB,CAACS,cAAc,CAAC;EACrD,IAAIf,WAAW,EAAE;IACf,MAAMa,OAAO,GAAGL,UAAU,CAACR,WAAW,EAAEiB,SAAS,CAAC;IAClDA,SAAS,GAAGvB,2BAA2B,CAACuB,SAAS,EAAEJ,OAAO,CAAC;;EAE7D,OAAOI,SAAS;AAClB,CAAC;AAED,OAAO,MAAMC,0BAA0B,GAAGA,CAACC,QAA4B,EAAEC,UAAkB,KAAI;EAC7F,OAAO,CAACD,QAAQ,EAAEb,qBAAqB,CAACc,UAAU,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC;AAC/D,CAAC;AAMD,OAAO,MAAMC,WAAW,GAAG,SAAAA,CAACC,KAAa,EAAiD;EAAA,IAA/C;IAAEC;EAAc,IAAAR,SAAA,CAAAX,MAAA,QAAAW,SAAA,QAAAjB,SAAA,GAAAiB,SAAA,MAAyB,EAAE;EACpF,OAAOQ,cAAc,GACjBhC,gBAAgB,CAAC+B,KAAK,CAAC,EAAEE,cAAc,EAAE,GACzCjC,gBAAgB,CAAC+B,KAAK,CAAC,EAAEG,mBAAmB,EAAE;AACpD,CAAC;AAED,eAAe/B,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
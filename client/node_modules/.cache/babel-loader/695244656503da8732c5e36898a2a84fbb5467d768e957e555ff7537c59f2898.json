{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useContext, useRef } from 'react';\nimport { lighten } from 'polished';\nimport BareButton from '../Button/BareButton';\nimport Drawer from '../Drawer';\nimport Flex from '../Flex';\nimport Icon, { registerIcon } from '../Icon';\nimport * as arrowLeftIcon from '../Icon/icons/arrow-left.icon';\nimport Text from '../Text';\nimport { useDirection, useEscape, useFocusTrap, useI18n, useTheme, useUID } from '../../hooks';\nimport Configuration from '../Configuration';\nimport { tryCatch } from '../../utils';\nimport AppShellContext from './AppShellContext';\nimport { StyledDrawerWrapper, StyledDrawerBackButton, StyledDrawerHeading, StyledDrawerListContainer } from './Drawer.styles';\nregisterIcon(arrowLeftIcon);\nexport default (_ref => {\n  let {\n    content,\n    header,\n    onDrawerOpen,\n    onDrawerClose,\n    drawerOpen,\n    setDrawerOpen\n  } = _ref;\n  const {\n    focusedImperatively\n  } = useContext(AppShellContext);\n  const returnFocusRef = useRef();\n  const drawerRef = useRef(null);\n  const theme = useTheme();\n  const headerId = useUID();\n  const backButtonRef = useRef(null);\n  const appShellBg = tryCatch(() => lighten(0.1, theme.components['app-shell'].nav['background-color']));\n  const appShellTheme = {\n    base: {\n      palette: {\n        'primary-background': appShellBg,\n        'foreground-color': 'rgba(255, 255, 255, 0.7)',\n        interactive: theme.base.colors.blue.light\n      }\n    }\n  };\n  const {\n    ltr,\n    rtl\n  } = useDirection();\n  const t = useI18n();\n  useEscape(() => {\n    setDrawerOpen(false);\n  }, drawerRef, [drawerRef.current]);\n  useFocusTrap(drawerRef);\n  return _jsx(Configuration, {\n    theme: appShellTheme,\n    children: _jsxs(Drawer, {\n      role: 'dialog',\n      \"aria-labelledby\": headerId,\n      as: StyledDrawerWrapper,\n      position: 'fixed',\n      placement: 'left',\n      open: drawerOpen,\n      nullWhenClosed: true,\n      onBeforeOpen: () => {\n        returnFocusRef.current = document.activeElement ?? undefined;\n      },\n      onAfterOpen: () => {\n        if (backButtonRef.current && document.activeElement !== backButtonRef.current) {\n          focusedImperatively.current = true;\n          backButtonRef.current.focus();\n        }\n        onDrawerOpen?.();\n      },\n      onAfterClose: () => {\n        onDrawerClose?.();\n        returnFocusRef.current?.focus();\n      },\n      onOuterClick: () => setDrawerOpen(false),\n      ref: drawerRef,\n      children: [_jsxs(Flex, {\n        as: StyledDrawerHeading,\n        container: {\n          alignItems: 'center'\n        },\n        children: [rtl && _jsx(Text, {\n          variant: 'h2',\n          id: headerId,\n          children: header\n        }), _jsx(BareButton, {\n          as: StyledDrawerBackButton,\n          ref: backButtonRef,\n          onClick: () => setDrawerOpen(false),\n          \"aria-label\": t('close_noun', [header]),\n          children: _jsx(Icon, {\n            name: 'arrow-left'\n          })\n        }), ltr && _jsx(Text, {\n          variant: 'h2',\n          id: headerId,\n          children: header\n        })]\n      }), _jsx(Flex, {\n        as: StyledDrawerListContainer,\n        container: {\n          direction: 'column'\n        },\n        \"aria-labelledby\": headerId,\n        children: content\n      })]\n    })\n  });\n});","map":{"version":3,"names":["useContext","useRef","lighten","BareButton","Drawer","Flex","Icon","registerIcon","arrowLeftIcon","Text","useDirection","useEscape","useFocusTrap","useI18n","useTheme","useUID","Configuration","tryCatch","AppShellContext","StyledDrawerWrapper","StyledDrawerBackButton","StyledDrawerHeading","StyledDrawerListContainer","_ref","content","header","onDrawerOpen","onDrawerClose","drawerOpen","setDrawerOpen","focusedImperatively","returnFocusRef","drawerRef","theme","headerId","backButtonRef","appShellBg","components","nav","appShellTheme","base","palette","interactive","colors","blue","light","ltr","rtl","t","current","_jsx","children","_jsxs","role","as","position","placement","open","nullWhenClosed","onBeforeOpen","document","activeElement","undefined","onAfterOpen","focus","onAfterClose","onOuterClick","ref","container","alignItems","variant","id","onClick","name","direction"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/AppShell/Drawer.tsx"],"sourcesContent":["import { useContext, useRef, ReactNode } from 'react';\nimport { lighten } from 'polished';\n\nimport BareButton from '../Button/BareButton';\nimport Drawer from '../Drawer';\nimport Flex from '../Flex';\nimport Icon, { registerIcon } from '../Icon';\nimport * as arrowLeftIcon from '../Icon/icons/arrow-left.icon';\nimport Text from '../Text';\nimport { useDirection, useEscape, useFocusTrap, useI18n, useTheme, useUID } from '../../hooks';\nimport Configuration from '../Configuration';\nimport { tryCatch } from '../../utils';\n\nimport AppShellContext from './AppShellContext';\nimport {\n  StyledDrawerWrapper,\n  StyledDrawerBackButton,\n  StyledDrawerHeading,\n  StyledDrawerListContainer\n} from './Drawer.styles';\n\nregisterIcon(arrowLeftIcon);\n\ninterface DrawerViewProps {\n  content: ReactNode;\n  header: string;\n  onDrawerOpen?: () => void;\n  onDrawerClose?: () => void;\n  drawerOpen: boolean;\n  setDrawerOpen: (open: boolean) => void;\n}\n\nexport default ({\n  content,\n  header,\n  onDrawerOpen,\n  onDrawerClose,\n  drawerOpen,\n  setDrawerOpen\n}: DrawerViewProps) => {\n  const { focusedImperatively } = useContext(AppShellContext);\n  const returnFocusRef = useRef<HTMLElement>();\n  const drawerRef = useRef<HTMLDivElement>(null);\n  const theme = useTheme();\n  const headerId = useUID();\n\n  const backButtonRef = useRef<HTMLButtonElement>(null);\n  const appShellBg = tryCatch(() =>\n    lighten(0.1, theme.components['app-shell'].nav['background-color'])\n  );\n  const appShellTheme = {\n    base: {\n      palette: {\n        'primary-background': appShellBg,\n        'foreground-color': 'rgba(255, 255, 255, 0.7)',\n        interactive: theme.base.colors.blue.light\n      }\n    }\n  };\n\n  const { ltr, rtl } = useDirection();\n  const t = useI18n();\n\n  useEscape(\n    () => {\n      setDrawerOpen(false);\n    },\n    drawerRef,\n    [drawerRef.current]\n  );\n\n  useFocusTrap(drawerRef);\n\n  return (\n    <Configuration theme={appShellTheme}>\n      <Drawer\n        role='dialog'\n        aria-labelledby={headerId}\n        as={StyledDrawerWrapper}\n        position='fixed'\n        placement='left'\n        open={drawerOpen}\n        nullWhenClosed\n        onBeforeOpen={() => {\n          returnFocusRef.current = (document.activeElement as HTMLElement) ?? undefined;\n        }}\n        onAfterOpen={() => {\n          if (backButtonRef.current && document.activeElement !== backButtonRef.current) {\n            focusedImperatively.current = true;\n            backButtonRef.current.focus();\n          }\n          onDrawerOpen?.();\n        }}\n        onAfterClose={() => {\n          onDrawerClose?.();\n          returnFocusRef.current?.focus();\n        }}\n        onOuterClick={() => setDrawerOpen(false)}\n        ref={drawerRef}\n      >\n        <Flex as={StyledDrawerHeading} container={{ alignItems: 'center' }}>\n          {rtl && (\n            <Text variant='h2' id={headerId}>\n              {header}\n            </Text>\n          )}\n          <BareButton\n            as={StyledDrawerBackButton}\n            ref={backButtonRef}\n            onClick={() => setDrawerOpen(false)}\n            aria-label={t('close_noun', [header])}\n          >\n            <Icon name='arrow-left' />\n          </BareButton>\n          {ltr && (\n            <Text variant='h2' id={headerId}>\n              {header}\n            </Text>\n          )}\n        </Flex>\n        <Flex\n          as={StyledDrawerListContainer}\n          container={{ direction: 'column' }}\n          aria-labelledby={headerId}\n        >\n          {content}\n        </Flex>\n      </Drawer>\n    </Configuration>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { useEffect } from 'react';\n/**\n * @example useItemIntersection(listRef,offset,() => { do_some_thing; });\n * @param containerRef The ref of the List.\n * @param offset  Index of the list item which needs to be observed.\n * @param cb Callback that needs to be fired on intersect\n * @param itemSelector Selector used to get the node list of items\n * @returns void.\n */\nconst useItemIntersection = (containerRef, offset, cb, itemSelector) => {\n  useEffect(() => {\n    let item = null;\n    if (offset > 0) {\n      const items = (containerRef.current === null ? document.body : containerRef.current).querySelectorAll(itemSelector);\n      if (items.length > offset) {\n        item = items[offset];\n      }\n    }\n    if (item) {\n      const intersectionObserver = new IntersectionObserver(entries => {\n        if (entries[0].isIntersecting) {\n          cb();\n        }\n      }, {\n        root: containerRef.current\n      });\n      intersectionObserver.observe(item);\n      return () => {\n        intersectionObserver.disconnect();\n      };\n    }\n  }, [cb, containerRef.current, offset]);\n};\nexport default useItemIntersection;","map":{"version":3,"names":["useEffect","useItemIntersection","containerRef","offset","cb","itemSelector","item","items","current","document","body","querySelectorAll","length","intersectionObserver","IntersectionObserver","entries","isIntersecting","root","observe","disconnect"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/hooks/useItemIntersection.ts"],"sourcesContent":["import { RefObject, useEffect } from 'react';\n\n/**\n * @example useItemIntersection(listRef,offset,() => { do_some_thing; });\n * @param containerRef The ref of the List.\n * @param offset  Index of the list item which needs to be observed.\n * @param cb Callback that needs to be fired on intersect\n * @param itemSelector Selector used to get the node list of items\n * @returns void.\n */\n\nconst useItemIntersection = (\n  containerRef: RefObject<HTMLElement>,\n  offset: number,\n  cb: () => void,\n  itemSelector: string\n) => {\n  useEffect(() => {\n    let item: HTMLElement | null = null;\n    if (offset > 0) {\n      const items: NodeListOf<HTMLElement> = (\n        containerRef.current === null ? document.body : containerRef.current\n      ).querySelectorAll(itemSelector);\n\n      if (items.length > offset) {\n        item = items[offset];\n      }\n    }\n    if (item) {\n      const intersectionObserver = new IntersectionObserver(\n        (entries: IntersectionObserverEntry[]) => {\n          if (entries[0].isIntersecting) {\n            cb();\n          }\n        },\n        {\n          root: containerRef.current\n        }\n      );\n      intersectionObserver.observe(item);\n      return () => {\n        intersectionObserver.disconnect();\n      };\n    }\n  }, [cb, containerRef.current, offset]);\n};\n\nexport default useItemIntersection;\n"],"mappings":"AAAA,SAAoBA,SAAS,QAAQ,OAAO;AAE5C;;;;;;;;AASA,MAAMC,mBAAmB,GAAGA,CAC1BC,YAAoC,EACpCC,MAAc,EACdC,EAAc,EACdC,YAAoB,KAClB;EACFL,SAAS,CAAC,MAAK;IACb,IAAIM,IAAI,GAAuB,IAAI;IACnC,IAAIH,MAAM,GAAG,CAAC,EAAE;MACd,MAAMI,KAAK,GAA4B,CACrCL,YAAY,CAACM,OAAO,KAAK,IAAI,GAAGC,QAAQ,CAACC,IAAI,GAAGR,YAAY,CAACM,OAAO,EACpEG,gBAAgB,CAACN,YAAY,CAAC;MAEhC,IAAIE,KAAK,CAACK,MAAM,GAAGT,MAAM,EAAE;QACzBG,IAAI,GAAGC,KAAK,CAACJ,MAAM,CAAC;;;IAGxB,IAAIG,IAAI,EAAE;MACR,MAAMO,oBAAoB,GAAG,IAAIC,oBAAoB,CAClDC,OAAoC,IAAI;QACvC,IAAIA,OAAO,CAAC,CAAC,CAAC,CAACC,cAAc,EAAE;UAC7BZ,EAAE,EAAE;;MAER,CAAC,EACD;QACEa,IAAI,EAAEf,YAAY,CAACM;OACpB,CACF;MACDK,oBAAoB,CAACK,OAAO,CAACZ,IAAI,CAAC;MAClC,OAAO,MAAK;QACVO,oBAAoB,CAACM,UAAU,EAAE;MACnC,CAAC;;EAEL,CAAC,EAAE,CAACf,EAAE,EAAEF,YAAY,CAACM,OAAO,EAAEL,MAAM,CAAC,CAAC;AACxC,CAAC;AAED,eAAeF,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
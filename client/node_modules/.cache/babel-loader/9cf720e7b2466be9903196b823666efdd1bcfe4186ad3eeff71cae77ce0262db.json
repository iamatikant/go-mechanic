{"ast":null,"code":"import { useState, useEffect, useRef } from 'react';\nconst interactiveElementsTags = ['button', 'a', 'input', 'textarea', 'select', 'details'];\nconst shouldIgnoreEvent = event => {\n  return interactiveElementsTags.some(tag => event.target instanceof Element && event.target.tagName.toLowerCase() === tag);\n};\n/**\n * @param draggableElementRef Reference to the element which is draggable.\n * @param dragHandleRef Reference to the handle element which allows to move draggableElementRef.\n */\nconst useDraggable = function (draggableElementRef, dragHandleRef) {\n  let enabled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  const [dragging, setDragging] = useState(false);\n  const draggableElPosition = useRef({\n    x: 0,\n    y: 0\n  });\n  useEffect(() => {\n    if (!enabled) return;\n    const onMouseDown = event => {\n      if (shouldIgnoreEvent(event)) return;\n      setDragging(true);\n      if (draggableElementRef.current) {\n        const {\n          clientX,\n          clientY\n        } = 'touches' in event ? event.touches[0] : event;\n        draggableElPosition.current.x = clientX - draggableElementRef.current.getBoundingClientRect().left;\n        draggableElPosition.current.y = clientY - draggableElementRef.current.getBoundingClientRect().top;\n      }\n    };\n    if (dragHandleRef.current) {\n      // Save the current value so we can properly remove event listener after the ref has changed.\n      const {\n        current\n      } = dragHandleRef;\n      current.addEventListener('mousedown', onMouseDown);\n      current.addEventListener('touchstart', onMouseDown);\n      return () => {\n        current.removeEventListener('mousedown', onMouseDown);\n        current.removeEventListener('touchstart', onMouseDown);\n      };\n    }\n  }, [dragHandleRef.current, enabled]);\n  useEffect(() => {\n    const onWindowResize = () => {\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      if (draggableElementRef.current) {\n        const limitX = draggableElementRef.current.offsetWidth - windowWidth;\n        const limitY = draggableElementRef.current.offsetHeight - windowHeight;\n        const positionX = draggableElementRef.current.getBoundingClientRect().left;\n        const positionY = draggableElementRef.current.getBoundingClientRect().top;\n        const horizontal = Math.min(Math.max(positionX, limitX), 0);\n        const vertical = Math.min(Math.max(positionY, limitY), 0);\n        draggableElementRef.current.style.transform = `translate(${horizontal}px, ${vertical}px)`;\n      }\n    };\n    const onMouseMove = event => {\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      if (!dragging) return;\n      if (draggableElementRef.current) {\n        const {\n          clientX,\n          clientY\n        } = 'touches' in event ? event.touches[0] : event;\n        const positionX = clientX - draggableElementRef.current.offsetLeft - draggableElPosition.current.x;\n        const positionY = clientY - draggableElementRef.current.offsetTop - draggableElPosition.current.y;\n        const limitX = draggableElementRef.current.offsetWidth - windowWidth;\n        const limitY = draggableElementRef.current.offsetHeight - windowHeight;\n        const horizontal = Math.min(Math.max(positionX, limitX), 0);\n        const vertical = Math.min(Math.max(positionY, limitY), 0);\n        draggableElementRef.current.style.transform = `translate(${horizontal}px, ${vertical}px)`;\n      }\n    };\n    const onMouseUp = () => {\n      setDragging(false);\n    };\n    window.addEventListener('resize', onWindowResize);\n    if (dragging) {\n      document.addEventListener('mouseup', onMouseUp);\n      document.addEventListener('touchend', onMouseUp);\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('touchmove', onMouseMove);\n      return () => {\n        document.removeEventListener('mouseup', onMouseUp);\n        document.removeEventListener('touchend', onMouseUp);\n        document.removeEventListener('mousemove', onMouseMove);\n        document.removeEventListener('touchmove', onMouseMove);\n      };\n    }\n    return () => {\n      window.removeEventListener('resize', onWindowResize);\n    };\n  }, [dragging]);\n};\nexport default useDraggable;","map":{"version":3,"names":["useState","useEffect","useRef","interactiveElementsTags","shouldIgnoreEvent","event","some","tag","target","Element","tagName","toLowerCase","useDraggable","draggableElementRef","dragHandleRef","enabled","arguments","length","undefined","dragging","setDragging","draggableElPosition","x","y","onMouseDown","current","clientX","clientY","touches","getBoundingClientRect","left","top","addEventListener","removeEventListener","onWindowResize","windowWidth","window","innerWidth","windowHeight","innerHeight","limitX","offsetWidth","limitY","offsetHeight","positionX","positionY","horizontal","Math","min","max","vertical","style","transform","onMouseMove","offsetLeft","offsetTop","onMouseUp","document"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/hooks/useDraggable.ts"],"sourcesContent":["import { useState, useEffect, RefObject, useRef } from 'react';\n\nconst interactiveElementsTags = ['button', 'a', 'input', 'textarea', 'select', 'details'];\n\nconst shouldIgnoreEvent = (event: MouseEvent | TouchEvent): boolean => {\n  return interactiveElementsTags.some(\n    tag => event.target instanceof Element && event.target.tagName.toLowerCase() === tag\n  );\n};\n\n/**\n * @param draggableElementRef Reference to the element which is draggable.\n * @param dragHandleRef Reference to the handle element which allows to move draggableElementRef.\n */\nconst useDraggable = (\n  draggableElementRef: RefObject<HTMLElement>,\n  dragHandleRef: RefObject<HTMLElement>,\n  enabled: boolean = true\n) => {\n  const [dragging, setDragging] = useState(false);\n  const draggableElPosition = useRef({ x: 0, y: 0 });\n\n  useEffect(() => {\n    if (!enabled) return;\n    const onMouseDown = (event: MouseEvent | TouchEvent): void => {\n      if (shouldIgnoreEvent(event)) return;\n      setDragging(true);\n      if (draggableElementRef.current) {\n        const { clientX, clientY } = 'touches' in event ? event.touches[0] : event;\n        draggableElPosition.current.x =\n          clientX - draggableElementRef.current.getBoundingClientRect().left;\n        draggableElPosition.current.y =\n          clientY - draggableElementRef.current.getBoundingClientRect().top;\n      }\n    };\n\n    if (dragHandleRef.current) {\n      // Save the current value so we can properly remove event listener after the ref has changed.\n      const { current } = dragHandleRef;\n\n      current.addEventListener('mousedown', onMouseDown);\n      current.addEventListener('touchstart', onMouseDown);\n\n      return () => {\n        current.removeEventListener('mousedown', onMouseDown);\n        current.removeEventListener('touchstart', onMouseDown);\n      };\n    }\n  }, [dragHandleRef.current, enabled]);\n\n  useEffect(() => {\n    const onWindowResize = () => {\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      if (draggableElementRef.current) {\n        const limitX = draggableElementRef.current.offsetWidth - windowWidth;\n        const limitY = draggableElementRef.current.offsetHeight - windowHeight;\n\n        const positionX = draggableElementRef.current.getBoundingClientRect().left;\n        const positionY = draggableElementRef.current.getBoundingClientRect().top;\n\n        const horizontal = Math.min(Math.max(positionX, limitX), 0);\n        const vertical = Math.min(Math.max(positionY, limitY), 0);\n\n        draggableElementRef.current.style.transform = `translate(${horizontal}px, ${vertical}px)`;\n      }\n    };\n\n    const onMouseMove = (event: MouseEvent | TouchEvent): void => {\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      if (!dragging) return;\n      if (draggableElementRef.current) {\n        const { clientX, clientY } = 'touches' in event ? event.touches[0] : event;\n        const positionX =\n          clientX - draggableElementRef.current.offsetLeft - draggableElPosition.current.x;\n        const positionY =\n          clientY - draggableElementRef.current.offsetTop - draggableElPosition.current.y;\n\n        const limitX = draggableElementRef.current.offsetWidth - windowWidth;\n        const limitY = draggableElementRef.current.offsetHeight - windowHeight;\n\n        const horizontal = Math.min(Math.max(positionX, limitX), 0);\n        const vertical = Math.min(Math.max(positionY, limitY), 0);\n\n        draggableElementRef.current.style.transform = `translate(${horizontal}px, ${vertical}px)`;\n      }\n    };\n\n    const onMouseUp = (): void => {\n      setDragging(false);\n    };\n\n    window.addEventListener('resize', onWindowResize);\n\n    if (dragging) {\n      document.addEventListener('mouseup', onMouseUp);\n      document.addEventListener('touchend', onMouseUp);\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('touchmove', onMouseMove);\n\n      return () => {\n        document.removeEventListener('mouseup', onMouseUp);\n        document.removeEventListener('touchend', onMouseUp);\n        document.removeEventListener('mousemove', onMouseMove);\n        document.removeEventListener('touchmove', onMouseMove);\n      };\n    }\n    return () => {\n      window.removeEventListener('resize', onWindowResize);\n    };\n  }, [dragging]);\n};\n\nexport default useDraggable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
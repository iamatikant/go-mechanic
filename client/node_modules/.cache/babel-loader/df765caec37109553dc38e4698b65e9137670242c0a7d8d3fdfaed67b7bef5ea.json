{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport { rgba } from 'polished';\nimport { defaultThemeProp } from '../../theme';\nimport { tryCatch } from '../../utils';\nimport { calculateFontSize } from '../../styles';\nexport const StyledCount = styled.span(_ref => {\n  let {\n    theme,\n    variant,\n    children\n  } = _ref;\n  const {\n    foreground,\n    background\n  } = theme.components.badges.count[variant];\n  const shadow = tryCatch(() => rgba(foreground, 0.1));\n  const fontSize = calculateFontSize(theme.base['font-size'], theme.base['font-scale']);\n  return css`\n    display: inline-block;\n    block-size: 1rem;\n    border-radius: calc(9999 * ${theme.base['border-radius']});\n    color: ${foreground};\n    background-color: ${background};\n    box-shadow: inset 0 0 0 0.0625rem ${shadow};\n    font-size: ${fontSize.xxs};\n    font-weight: ${theme.base['font-weight'].bold};\n    line-height: 1rem;\n    text-align: center;\n\n    ${children.length === 1 ? css`\n          aspect-ratio: 1 / 1;\n        ` : css`\n          padding-inline: ${theme.base.spacing};\n        `}\n  `;\n});\nStyledCount.defaultProps = defaultThemeProp;\n// Replace this with Intl.NumberFormat when roundingMode is supported.\n/* eslint-disable yoda */\nconst getLabel = val => {\n  if (val < 1000) return '';\n  if (1000 <= val && val < 1000000) return 'K';\n  if (1000000 <= val && val < 1000000000) return 'M';\n  if (1000000000 <= val && val < 1000000000000) return 'B';\n  if (1000000000000 <= val && val < 1000000000000000) return 'T';\n  return '';\n};\n/* eslint-enable yoda */\nconst truncateValue = val => {\n  for (let magnitude = 3; magnitude < 15; magnitude += 3) {\n    if (val < 10 ** (magnitude + 1)) {\n      return `${`${val}`.slice(0, 1)}.${`${val}`.slice(1, 2)}${getLabel(val)}`;\n    }\n    if (val < 10 ** (magnitude + 2)) {\n      return `${`${val}`.slice(0, 2)}${getLabel(val)}`;\n    }\n    if (val < 10 ** (magnitude + 3)) {\n      return `${`${val}`.slice(0, 3)}${getLabel(val)}`;\n    }\n  }\n  return '999T+';\n};\nconst formatValue = val => {\n  const absVal = Math.abs(val);\n  if (absVal < 1000) return `${val}`;\n  return `${val < 0 ? '-' : ''}${truncateValue(absVal)}`;\n};\nconst Count = forwardRef((props, ref) => {\n  const {\n    variant = 'default',\n    children,\n    ...restProps\n  } = props;\n  return Number.isInteger(children) ? _jsx(StyledCount, {\n    variant: variant,\n    ...restProps,\n    ref: ref,\n    children: formatValue(children)\n  }) : null;\n});\nexport default Count;","map":{"version":3,"names":["forwardRef","styled","css","rgba","defaultThemeProp","tryCatch","calculateFontSize","StyledCount","span","_ref","theme","variant","children","foreground","background","components","badges","count","shadow","fontSize","base","xxs","bold","length","spacing","defaultProps","getLabel","val","truncateValue","magnitude","slice","formatValue","absVal","Math","abs","Count","props","ref","restProps","Number","isInteger","_jsx"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Badges/Count.tsx"],"sourcesContent":["import { FC, PropsWithoutRef, Ref, forwardRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport { rgba } from 'polished';\n\nimport { defaultThemeProp } from '../../theme';\nimport { tryCatch } from '../../utils';\nimport { ForwardProps, PropsWithDefaults } from '../../types';\nimport { calculateFontSize } from '../../styles';\n\nexport interface CountProps {\n  /** Determines the color to render the Badge as. This color is derived from the Theme.\n   * @default 'default'\n   */\n  variant?: 'default' | 'urgent';\n  /** The count to be displayed within the Badge. */\n  children: number | null;\n}\n\ntype CountPropsWithDefaults = PropsWithDefaults<CountProps, 'variant'>;\n\nexport const StyledCount = styled.span<\n  Pick<CountPropsWithDefaults, 'variant'> & { children: string }\n>(({ theme, variant, children }) => {\n  const { foreground, background } = theme.components.badges.count[variant];\n\n  const shadow = tryCatch(() => rgba(foreground, 0.1));\n  const fontSize = calculateFontSize(theme.base['font-size'], theme.base['font-scale']);\n\n  return css`\n    display: inline-block;\n    block-size: 1rem;\n    border-radius: calc(9999 * ${theme.base['border-radius']});\n    color: ${foreground};\n    background-color: ${background};\n    box-shadow: inset 0 0 0 0.0625rem ${shadow};\n    font-size: ${fontSize.xxs};\n    font-weight: ${theme.base['font-weight'].bold};\n    line-height: 1rem;\n    text-align: center;\n\n    ${children.length === 1\n      ? css`\n          aspect-ratio: 1 / 1;\n        `\n      : css`\n          padding-inline: ${theme.base.spacing};\n        `}\n  `;\n});\n\nStyledCount.defaultProps = defaultThemeProp;\n\n// Replace this with Intl.NumberFormat when roundingMode is supported.\n/* eslint-disable yoda */\nconst getLabel = (val: number): string => {\n  if (val < 1_000) return '';\n  if (1_000 <= val && val < 1_000_000) return 'K';\n  if (1_000_000 <= val && val < 1_000_000_000) return 'M';\n  if (1_000_000_000 <= val && val < 1_000_000_000_000) return 'B';\n  if (1_000_000_000_000 <= val && val < 1_000_000_000_000_000) return 'T';\n  return '';\n};\n/* eslint-enable yoda */\n\nconst truncateValue = (val: number): string => {\n  for (let magnitude = 3; magnitude < 15; magnitude += 3) {\n    if (val < 10 ** (magnitude + 1)) {\n      return `${`${val}`.slice(0, 1)}.${`${val}`.slice(1, 2)}${getLabel(val)}`;\n    }\n    if (val < 10 ** (magnitude + 2)) {\n      return `${`${val}`.slice(0, 2)}${getLabel(val)}`;\n    }\n    if (val < 10 ** (magnitude + 3)) {\n      return `${`${val}`.slice(0, 3)}${getLabel(val)}`;\n    }\n  }\n\n  return '999T+';\n};\n\nconst formatValue = (val: number): string => {\n  const absVal = Math.abs(val);\n\n  if (absVal < 1_000) return `${val}`;\n\n  return `${val < 0 ? '-' : ''}${truncateValue(absVal)}`;\n};\n\nconst Count: FC<ForwardProps & CountProps> = forwardRef(\n  (props: PropsWithoutRef<CountProps>, ref: Ref<HTMLSpanElement>) => {\n    const { variant = 'default', children, ...restProps } = props;\n    return Number.isInteger(children) ? (\n      <StyledCount variant={variant} {...restProps} ref={ref}>\n        {formatValue(children as number)}\n      </StyledCount>\n    ) : null;\n  }\n);\n\nexport default Count;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport styled, { css } from 'styled-components';\nimport { defaultThemeProp } from '../../theme';\nimport Icon, { registerIcon } from '../Icon';\nimport * as starIcon from '../Icon/icons/star.icon';\nimport * as starSolidIcon from '../Icon/icons/star-solid.icon';\nregisterIcon(starIcon, starSolidIcon);\nconst DEFAULT_MAX_RATING = 5;\nconst defaultProps = {\n  readOnly: false,\n  maxRating: DEFAULT_MAX_RATING,\n  tabIndex: 0\n};\nconst StyledRating = styled.div`\n  display: inline-block;\n  vertical-align: middle;\n`;\nconst StyledRatingItemsContainer = styled.div(props => {\n  const {\n    theme\n  } = props;\n  return css`\n    color: ${theme.components.rating.color};\n    line-height: 1;\n    vertical-align: middle;\n    display: inline-block;\n  `;\n});\nStyledRatingItemsContainer.defaultProps = defaultThemeProp;\nconst StyledPartialRatingContainer = styled.div`\n  position: relative;\n  display: inline-block;\n`;\nexport const StyledPartialRating = styled.div(props => {\n  const {\n    ratingPercentage\n  } = props;\n  return css`\n    display: inline-block;\n    position: absolute;\n    inset-inline-start: 0;\n    width: ${ratingPercentage}%;\n    overflow: hidden;\n    white-space: nowrap;\n  `;\n});\nconst StyledRatingMetaInfo = styled.span(props => {\n  const {\n    theme\n  } = props;\n  return css`\n    margin-inline-start: ${theme.base.spacing};\n  `;\n});\nStyledRatingMetaInfo.defaultProps = defaultThemeProp;\nconst RatingItem = props => {\n  const {\n    fill,\n    ...restProps\n  } = props;\n  const fillPercentage = Math.round(100 / 1 * fill);\n  return _jsxs(_Fragment, {\n    children: [fillPercentage === 0 && _jsx(Icon, {\n      ...restProps,\n      name: 'star'\n    }), fillPercentage === 100 && _jsx(Icon, {\n      ...restProps,\n      name: 'star-solid'\n    }), fillPercentage > 0 && fillPercentage < 100 && _jsxs(StyledPartialRatingContainer, {\n      children: [_jsx(Icon, {\n        ...restProps,\n        name: 'star'\n      }), _jsx(StyledPartialRating, {\n        ratingPercentage: fillPercentage,\n        children: _jsx(Icon, {\n          ...restProps,\n          name: 'star-solid'\n        })\n      })]\n    })]\n  });\n};\nconst Rating = props => {\n  const starsOutline = [];\n  const {\n    'aria-label': ariaLabel,\n    metaInfo,\n    tabIndex,\n    readOnly,\n    ...restProps\n  } = props;\n  let {\n    maxRating,\n    value\n  } = props;\n  maxRating = typeof maxRating !== 'number' ? DEFAULT_MAX_RATING : maxRating;\n  maxRating = Math.max(1, maxRating);\n  value = Math.min(maxRating, value);\n  const isDecimalValue = Math.round(value) !== value;\n  for (let i = 1; i <= maxRating; i += 1) {\n    let fillValue = i <= value ? 1 : 0;\n    if (isDecimalValue && Math.ceil(value) === i) {\n      fillValue = value - Math.floor(value);\n    }\n    starsOutline.push(_jsx(RatingItem, {\n      fill: fillValue\n    }, `star-${i}`));\n  }\n  return _jsxs(StyledRating, {\n    \"aria-label\": ariaLabel,\n    tabIndex: tabIndex,\n    ...restProps,\n    children: [_jsx(StyledRatingItemsContainer, {\n      children: starsOutline\n    }), metaInfo && _jsxs(StyledRatingMetaInfo, {\n      children: [\"(\", metaInfo, \")\"]\n    }), ' ']\n  });\n};\nRating.defaultProps = defaultProps;\nexport default Rating;","map":{"version":3,"names":["styled","css","defaultThemeProp","Icon","registerIcon","starIcon","starSolidIcon","DEFAULT_MAX_RATING","defaultProps","readOnly","maxRating","tabIndex","StyledRating","div","StyledRatingItemsContainer","props","theme","components","rating","color","StyledPartialRatingContainer","StyledPartialRating","ratingPercentage","StyledRatingMetaInfo","span","base","spacing","RatingItem","fill","restProps","fillPercentage","Math","round","_jsxs","_Fragment","children","_jsx","name","Rating","starsOutline","ariaLabel","metaInfo","value","max","min","isDecimalValue","i","fillValue","ceil","floor","push"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Rating/Rating.tsx"],"sourcesContent":["import { FunctionComponent } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport type { BaseProps, ForwardProps, NoChildrenProp } from '../../types';\nimport { defaultThemeProp } from '../../theme';\nimport Icon, { registerIcon } from '../Icon';\nimport * as starIcon from '../Icon/icons/star.icon';\nimport * as starSolidIcon from '../Icon/icons/star-solid.icon';\n\nregisterIcon(starIcon, starSolidIcon);\n\nexport interface RatingProps extends BaseProps, NoChildrenProp {\n  /**\n   * Sets the rating to read only.\n   * @default false\n   */\n  readOnly?: boolean;\n  /**\n   * The maximum rating allowed. Must be an integer greater than 1.\n   * @default 5\n   */\n  maxRating?: number;\n  /** The value of the Rating. Could be a decimal or integer. */\n  value: number;\n  /** Text that is displayed in parentheses inline with the Rating stars. */\n  metaInfo?: string;\n  /** Aria label for screen readers. */\n  'aria-label'?: string;\n  /**\n   * The tabIndex to control focus.\n   * @default 0\n   */\n  tabIndex?: number;\n}\n\nconst DEFAULT_MAX_RATING = 5;\n\nconst defaultProps: Partial<RatingProps> = {\n  readOnly: false,\n  maxRating: DEFAULT_MAX_RATING,\n  tabIndex: 0\n};\n\nconst StyledRating = styled.div`\n  display: inline-block;\n  vertical-align: middle;\n`;\n\nconst StyledRatingItemsContainer = styled.div(props => {\n  const { theme } = props;\n  return css`\n    color: ${theme.components.rating.color};\n    line-height: 1;\n    vertical-align: middle;\n    display: inline-block;\n  `;\n});\n\nStyledRatingItemsContainer.defaultProps = defaultThemeProp;\n\nconst StyledPartialRatingContainer = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\ninterface StyledPartialRatingProps {\n  ratingPercentage: number;\n}\n\nexport const StyledPartialRating = styled.div<StyledPartialRatingProps>(props => {\n  const { ratingPercentage } = props;\n  return css`\n    display: inline-block;\n    position: absolute;\n    inset-inline-start: 0;\n    width: ${ratingPercentage}%;\n    overflow: hidden;\n    white-space: nowrap;\n  `;\n});\n\nconst StyledRatingMetaInfo = styled.span(props => {\n  const { theme } = props;\n  return css`\n    margin-inline-start: ${theme.base.spacing};\n  `;\n});\n\nStyledRatingMetaInfo.defaultProps = defaultThemeProp;\n\ninterface RatingItemProps {\n  fill: number;\n}\n\nconst RatingItem: FunctionComponent<RatingItemProps> = (props: RatingItemProps) => {\n  const { fill, ...restProps } = props;\n  const fillPercentage = Math.round((100 / 1) * fill);\n  return (\n    <>\n      {fillPercentage === 0 && <Icon {...restProps} name='star' />}\n      {fillPercentage === 100 && <Icon {...restProps} name='star-solid' />}\n      {fillPercentage > 0 && fillPercentage < 100 && (\n        <StyledPartialRatingContainer>\n          <Icon {...restProps} name='star' />\n          <StyledPartialRating ratingPercentage={fillPercentage}>\n            <Icon {...restProps} name='star-solid' />\n          </StyledPartialRating>\n        </StyledPartialRatingContainer>\n      )}\n    </>\n  );\n};\n\nconst Rating: FunctionComponent<RatingProps & ForwardProps> = (props: RatingProps) => {\n  const starsOutline = [];\n  const { 'aria-label': ariaLabel, metaInfo, tabIndex, readOnly, ...restProps } = props;\n\n  let { maxRating, value } = props;\n  maxRating = typeof maxRating !== 'number' ? DEFAULT_MAX_RATING : maxRating;\n  maxRating = Math.max(1, maxRating);\n  value = Math.min(maxRating, value);\n\n  const isDecimalValue = Math.round(value) !== value;\n  for (let i = 1; i <= maxRating; i += 1) {\n    let fillValue = i <= value ? 1 : 0;\n    if (isDecimalValue && Math.ceil(value) === i) {\n      fillValue = value - Math.floor(value);\n    }\n    starsOutline.push(<RatingItem key={`star-${i}`} fill={fillValue} />);\n  }\n\n  return (\n    <StyledRating aria-label={ariaLabel} tabIndex={tabIndex} {...restProps}>\n      <StyledRatingItemsContainer>{starsOutline}</StyledRatingItemsContainer>\n      {metaInfo && <StyledRatingMetaInfo>({metaInfo})</StyledRatingMetaInfo>}{' '}\n    </StyledRating>\n  );\n};\n\nRating.defaultProps = defaultProps;\n\nexport default Rating;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useImperativeHandle, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport Icon, { registerIcon } from '../Icon';\nimport HTML from '../HTML';\nimport Button from '../Button';\nimport { InfoDialog } from '../Dialog';\nimport * as informationIcon from '../Icon/icons/information.icon';\nimport { useConsolidatedRef, useI18n } from '../../hooks';\nregisterIcon(informationIcon);\nexport const StyledAdditionalInfo = styled.div``;\nconst AdditionalInfo = forwardRef((_ref, ref) => {\n  let {\n    heading,\n    children,\n    dialogHandle,\n    ...restProps\n  } = _ref;\n  const t = useI18n();\n  const [target, setTarget] = useState(null);\n  const buttonRef = useRef(null);\n  const handleRef = useConsolidatedRef(dialogHandle);\n  useImperativeHandle(handleRef, () => {\n    return {\n      open: () => {\n        setTarget(buttonRef.current);\n      },\n      close: () => {\n        setTarget(null);\n      }\n    };\n  });\n  return _jsxs(StyledAdditionalInfo, {\n    ref: ref,\n    ...restProps,\n    children: [_jsx(Button, {\n      variant: 'simple',\n      label: t('additional_info'),\n      compact: true,\n      icon: true,\n      ref: buttonRef,\n      onClick: () => {\n        handleRef.current?.open();\n      },\n      \"aria-label\": `${t('additional_info')} - ${heading}`,\n      children: _jsx(Icon, {\n        name: 'information'\n      })\n    }), target && _jsx(InfoDialog, {\n      heading: heading,\n      target: target,\n      onDismiss: () => {\n        handleRef.current?.close();\n      },\n      children: typeof children === 'string' ? _jsx(HTML, {\n        content: children\n      }) : children\n    })]\n  });\n});\nexport default AdditionalInfo;","map":{"version":3,"names":["forwardRef","useImperativeHandle","useRef","useState","styled","Icon","registerIcon","HTML","Button","InfoDialog","informationIcon","useConsolidatedRef","useI18n","StyledAdditionalInfo","div","AdditionalInfo","_ref","ref","heading","children","dialogHandle","restProps","t","target","setTarget","buttonRef","handleRef","open","current","close","_jsxs","_jsx","variant","label","compact","icon","onClick","name","onDismiss","content"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/AdditionalInfo/AdditionalInfo.tsx"],"sourcesContent":["import {\n  forwardRef,\n  FunctionComponent,\n  PropsWithoutRef,\n  Ref,\n  useImperativeHandle,\n  useRef,\n  useState\n} from 'react';\nimport styled from 'styled-components';\n\nimport Icon, { registerIcon } from '../Icon';\nimport { BaseProps, ForwardProps } from '../../types';\nimport HTML from '../HTML';\nimport Button from '../Button';\nimport { DialogHandleValue, InfoDialog } from '../Dialog';\nimport * as informationIcon from '../Icon/icons/information.icon';\nimport { useConsolidatedRef, useI18n } from '../../hooks';\n\nregisterIcon(informationIcon);\n\nexport interface AdditionalInfoProps extends BaseProps {\n  heading: string;\n  children: string | JSX.Element;\n  dialogHandle?: Ref<DialogHandleValue>;\n  ref?: Ref<HTMLDivElement>;\n}\n\nexport const StyledAdditionalInfo = styled.div``;\n\nconst AdditionalInfo: FunctionComponent<AdditionalInfoProps & ForwardProps> = forwardRef(\n  (\n    { heading, children, dialogHandle, ...restProps }: PropsWithoutRef<AdditionalInfoProps>,\n    ref: AdditionalInfoProps['ref']\n  ) => {\n    const t = useI18n();\n    const [target, setTarget] = useState<HTMLButtonElement | null>(null);\n    const buttonRef = useRef<HTMLButtonElement>(null);\n    const handleRef = useConsolidatedRef(dialogHandle);\n\n    useImperativeHandle(handleRef, () => {\n      return {\n        open: () => {\n          setTarget(buttonRef.current);\n        },\n        close: () => {\n          setTarget(null);\n        }\n      };\n    });\n\n    return (\n      <StyledAdditionalInfo ref={ref} {...restProps}>\n        <Button\n          variant='simple'\n          label={t('additional_info')}\n          compact\n          icon\n          ref={buttonRef}\n          onClick={() => {\n            handleRef.current?.open();\n          }}\n          aria-label={`${t('additional_info')} - ${heading}`}\n        >\n          <Icon name='information' />\n        </Button>\n        {target && (\n          <InfoDialog\n            heading={heading}\n            target={target}\n            onDismiss={() => {\n              handleRef.current?.close();\n            }}\n          >\n            {typeof children === 'string' ? <HTML content={children} /> : children}\n          </InfoDialog>\n        )}\n      </StyledAdditionalInfo>\n    );\n  }\n);\n\nexport default AdditionalInfo;\n"],"mappings":";AAAA,SACEA,UAAU,EAIVC,mBAAmB,EACnBC,MAAM,EACNC,QAAQ,QACH,OAAO;AACd,OAAOC,MAAM,MAAM,mBAAmB;AAEtC,OAAOC,IAAI,IAAIC,YAAY,QAAQ,SAAS;AAE5C,OAAOC,IAAI,MAAM,SAAS;AAC1B,OAAOC,MAAM,MAAM,WAAW;AAC9B,SAA4BC,UAAU,QAAQ,WAAW;AACzD,OAAO,KAAKC,eAAe,MAAM,gCAAgC;AACjE,SAASC,kBAAkB,EAAEC,OAAO,QAAQ,aAAa;AAEzDN,YAAY,CAACI,eAAe,CAAC;AAS7B,OAAO,MAAMG,oBAAoB,GAAGT,MAAM,CAACU,GAAG,EAAE;AAEhD,MAAMC,cAAc,GAA0Df,UAAU,CACtF,CAAAgB,IAAA,EAEEC,GAA+B,KAC7B;EAAA,IAFF;IAAEC,OAAO;IAAEC,QAAQ;IAAEC,YAAY;IAAE,GAAGC;EAAS,CAAwC,GAAAL,IAAA;EAGvF,MAAMM,CAAC,GAAGV,OAAO,EAAE;EACnB,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGrB,QAAQ,CAA2B,IAAI,CAAC;EACpE,MAAMsB,SAAS,GAAGvB,MAAM,CAAoB,IAAI,CAAC;EACjD,MAAMwB,SAAS,GAAGf,kBAAkB,CAACS,YAAY,CAAC;EAElDnB,mBAAmB,CAACyB,SAAS,EAAE,MAAK;IAClC,OAAO;MACLC,IAAI,EAAEA,CAAA,KAAK;QACTH,SAAS,CAACC,SAAS,CAACG,OAAO,CAAC;MAC9B,CAAC;MACDC,KAAK,EAAEA,CAAA,KAAK;QACVL,SAAS,CAAC,IAAI,CAAC;MACjB;KACD;EACH,CAAC,CAAC;EAEF,OACEM,KAAA,CAACjB,oBAAoB;IAACI,GAAG,EAAEA,GAAG;IAAA,GAAMI,SAAS;IAAAF,QAAA,GAC3CY,IAAA,CAACvB,MAAM;MACLwB,OAAO,EAAC,QAAQ;MAChBC,KAAK,EAAEX,CAAC,CAAC,iBAAiB,CAAC;MAC3BY,OAAO;MACPC,IAAI;MACJlB,GAAG,EAAEQ,SAAS;MACdW,OAAO,EAAEA,CAAA,KAAK;QACZV,SAAS,CAACE,OAAO,EAAED,IAAI,EAAE;MAC3B,CAAC;MAAA,cACW,GAAGL,CAAC,CAAC,iBAAiB,CAAC,MAAMJ,OAAO,EAAE;MAAAC,QAAA,EAElDY,IAAA,CAAC1B,IAAI;QAACgC,IAAI,EAAC;MAAa;IAAG,EACpB,EACRd,MAAM,IACLQ,IAAA,CAACtB,UAAU;MACTS,OAAO,EAAEA,OAAO;MAChBK,MAAM,EAAEA,MAAM;MACde,SAAS,EAAEA,CAAA,KAAK;QACdZ,SAAS,CAACE,OAAO,EAAEC,KAAK,EAAE;MAC5B,CAAC;MAAAV,QAAA,EAEA,OAAOA,QAAQ,KAAK,QAAQ,GAAGY,IAAA,CAACxB,IAAI;QAACgC,OAAO,EAAEpB;MAAQ,EAAI,GAAGA;IAAQ,EAEzE;EAAA,EACoB;AAE3B,CAAC,CACF;AAED,eAAeJ,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}
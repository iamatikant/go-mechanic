{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect, useContext, createContext, forwardRef } from 'react';\nimport { NimblePicker } from 'emoji-mart';\nimport { useTheme } from '../../hooks';\nimport StyledEmojiPicker from './EmojiPicker.styles';\nconst emojiDataCache = new Map();\nexport const EmojiContext = createContext({});\nconst EmojiPicker = forwardRef((_ref, ref) => {\n  let {\n    emojiSize = 24,\n    perLine = 9,\n    showFooter = true,\n    exclude,\n    onSelect,\n    ...restProps\n  } = _ref;\n  const theme = useTheme();\n  const {\n    set,\n    spriteSrcResolver,\n    overrideData\n  } = useContext(EmojiContext);\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    const dataSet = set ?? 'all';\n    // Unmount NimblePicker for changes to take effect\n    setData(null);\n    if (overrideData) {\n      setTimeout(() => {\n        setData(overrideData);\n      }, 0);\n    } else if (emojiDataCache.has(dataSet)) {\n      setTimeout(() => {\n        setData(emojiDataCache.get(dataSet) ?? null);\n      }, 0);\n    } else {\n      import(`emoji-mart/data/${dataSet}.json`).then(_ref2 => {\n        let {\n          default: json\n        } = _ref2;\n        emojiDataCache.set(dataSet, json);\n        setData(emojiDataCache.get(dataSet));\n      }).catch(() => {\n        setData(null);\n      });\n    }\n  }, [set, overrideData]);\n  return data && _jsx(StyledEmojiPicker, {\n    ref: ref,\n    showFooter: showFooter,\n    style: {\n      '--emoji-size': `${emojiSize}px`\n    },\n    children: _jsx(NimblePicker, {\n      ...restProps,\n      set: set,\n      native: !spriteSrcResolver,\n      backgroundImageFn: spriteSrcResolver,\n      data: data,\n      emojiSize: emojiSize,\n      perLine: perLine,\n      exclude: exclude,\n      onSelect: onSelect,\n      color: theme.base.palette.interactive,\n      emoji: '',\n      title: '',\n      emojiTooltip: true,\n      showSkinTones: showFooter,\n      showPreview: false\n    })\n  });\n});\nexport default EmojiPicker;","map":{"version":3,"names":["useState","useEffect","useContext","createContext","forwardRef","NimblePicker","useTheme","StyledEmojiPicker","emojiDataCache","Map","EmojiContext","EmojiPicker","_ref","ref","emojiSize","perLine","showFooter","exclude","onSelect","restProps","theme","set","spriteSrcResolver","overrideData","data","setData","dataSet","setTimeout","has","get","then","_ref2","default","json","catch","_jsx","style","children","native","backgroundImageFn","color","base","palette","interactive","emoji","title","emojiTooltip","showSkinTones","showPreview"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/EmojiPicker/EmojiPicker.tsx"],"sourcesContent":["import {\n  useState,\n  useEffect,\n  useContext,\n  createContext,\n  FunctionComponent,\n  PropsWithoutRef,\n  CSSProperties,\n  Ref,\n  forwardRef\n} from 'react';\nimport {\n  NimblePicker,\n  CategoryName,\n  Data as EmojiData,\n  BackgroundImageFn,\n  PickerProps\n} from 'emoji-mart';\n\nimport { useTheme } from '../../hooks';\nimport { BaseProps, NoChildrenProp } from '../../types';\n\nimport StyledEmojiPicker from './EmojiPicker.styles';\n\ntype EmojiSet = 'apple' | 'google' | 'twitter' | 'facebook';\n\nconst emojiDataCache = new Map<EmojiSet | 'all', EmojiData>();\n\nexport interface EmojiPickerProps extends BaseProps, NoChildrenProp {\n  /** Individual emojis size in pixels. */\n  emojiSize?: number;\n  /** Number of emoji per line in a picker. */\n  perLine?: number;\n  /** Don't load excluded categories. Accepts [I18n categories keys](https://www.npmjs.com/package/emoji-mart#i18n). */\n  exclude?: CategoryName[];\n  /** Show footer for picker. */\n  showFooter?: boolean;\n  /** A Fn that gets called on selecting an emoji from picker. */\n  onSelect?: PickerProps['onSelect'];\n  /** Ref for the emoji Picker */\n  ref?: Ref<HTMLDivElement>;\n}\n\nexport interface EmojiContextValue {\n  /**\n   * A Fn that returns that image sheet to use for emojis.\n   * If no sprite is provided, native emoji are used.\n   * For the source of image please visit this [link](https://www.jsdelivr.com/package/npm/emoji-datasource?version=5.0.1&path=img)\n   */\n  spriteSrcResolver?: BackgroundImageFn;\n  /** Emoji set to be used. */\n  set?: EmojiSet;\n  /** Data to be used. [link](https://github.com/iamcal/emoji-data).\n   * Use this in case you would like to filter out some emoji,  one must change the sprite image accordingly. */\n  overrideData?: EmojiData;\n}\n\nexport const EmojiContext = createContext<EmojiContextValue>({});\nconst EmojiPicker: FunctionComponent<EmojiPickerProps> = forwardRef(\n  (\n    {\n      emojiSize = 24,\n      perLine = 9,\n      showFooter = true,\n      exclude,\n      onSelect,\n      ...restProps\n    }: PropsWithoutRef<EmojiPickerProps>,\n    ref: Ref<HTMLDivElement>\n  ) => {\n    const theme = useTheme();\n    const { set, spriteSrcResolver, overrideData } = useContext(EmojiContext);\n    const [data, setData] = useState<EmojiData | null>(null);\n\n    useEffect(() => {\n      const dataSet = set ?? 'all';\n\n      // Unmount NimblePicker for changes to take effect\n      setData(null);\n\n      if (overrideData) {\n        setTimeout(() => {\n          setData(overrideData);\n        }, 0);\n      } else if (emojiDataCache.has(dataSet)) {\n        setTimeout(() => {\n          setData(emojiDataCache.get(dataSet) ?? null);\n        }, 0);\n      } else {\n        import(`emoji-mart/data/${dataSet}.json`)\n          .then(({ default: json }) => {\n            emojiDataCache.set(dataSet, json);\n            setData(emojiDataCache.get(dataSet)!);\n          })\n          .catch(() => {\n            setData(null);\n          });\n      }\n    }, [set, overrideData]);\n\n    return (\n      data && (\n        <StyledEmojiPicker\n          ref={ref}\n          showFooter={showFooter}\n          style={{ '--emoji-size': `${emojiSize}px` } as CSSProperties}\n        >\n          <NimblePicker\n            {...restProps}\n            set={set}\n            native={!spriteSrcResolver}\n            backgroundImageFn={spriteSrcResolver}\n            data={data}\n            emojiSize={emojiSize}\n            perLine={perLine}\n            exclude={exclude}\n            onSelect={onSelect}\n            color={theme.base.palette.interactive}\n            emoji=''\n            title=''\n            emojiTooltip\n            showSkinTones={showFooter}\n            showPreview={false}\n          />\n        </StyledEmojiPicker>\n      )\n    );\n  }\n);\n\nexport default EmojiPicker;\n"],"mappings":";AAAA,SACEA,QAAQ,EACRC,SAAS,EACTC,UAAU,EACVC,aAAa,EAKbC,UAAU,QACL,OAAO;AACd,SACEC,YAAY,QAKP,YAAY;AAEnB,SAASC,QAAQ,QAAQ,aAAa;AAGtC,OAAOC,iBAAiB,MAAM,sBAAsB;AAIpD,MAAMC,cAAc,GAAG,IAAIC,GAAG,EAA+B;AA+B7D,OAAO,MAAMC,YAAY,GAAGP,aAAa,CAAoB,EAAE,CAAC;AAChE,MAAMQ,WAAW,GAAwCP,UAAU,CACjE,CAAAQ,IAAA,EASEC,GAAwB,KACtB;EAAA,IATF;IACEC,SAAS,GAAG,EAAE;IACdC,OAAO,GAAG,CAAC;IACXC,UAAU,GAAG,IAAI;IACjBC,OAAO;IACPC,QAAQ;IACR,GAAGC;EAAS,CACsB,GAAAP,IAAA;EAGpC,MAAMQ,KAAK,GAAGd,QAAQ,EAAE;EACxB,MAAM;IAAEe,GAAG;IAAEC,iBAAiB;IAAEC;EAAY,CAAE,GAAGrB,UAAU,CAACQ,YAAY,CAAC;EACzE,MAAM,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGzB,QAAQ,CAAmB,IAAI,CAAC;EAExDC,SAAS,CAAC,MAAK;IACb,MAAMyB,OAAO,GAAGL,GAAG,IAAI,KAAK;IAE5B;IACAI,OAAO,CAAC,IAAI,CAAC;IAEb,IAAIF,YAAY,EAAE;MAChBI,UAAU,CAAC,MAAK;QACdF,OAAO,CAACF,YAAY,CAAC;MACvB,CAAC,EAAE,CAAC,CAAC;KACN,MAAM,IAAIf,cAAc,CAACoB,GAAG,CAACF,OAAO,CAAC,EAAE;MACtCC,UAAU,CAAC,MAAK;QACdF,OAAO,CAACjB,cAAc,CAACqB,GAAG,CAACH,OAAO,CAAC,IAAI,IAAI,CAAC;MAC9C,CAAC,EAAE,CAAC,CAAC;KACN,MAAM;MACL,MAAM,CAAC,mBAAmBA,OAAO,OAAO,CAAC,CACtCI,IAAI,CAACC,KAAA,IAAsB;QAAA,IAArB;UAAEC,OAAO,EAAEC;QAAI,CAAE,GAAAF,KAAA;QACtBvB,cAAc,CAACa,GAAG,CAACK,OAAO,EAAEO,IAAI,CAAC;QACjCR,OAAO,CAACjB,cAAc,CAACqB,GAAG,CAACH,OAAO,CAAE,CAAC;MACvC,CAAC,CAAC,CACDQ,KAAK,CAAC,MAAK;QACVT,OAAO,CAAC,IAAI,CAAC;MACf,CAAC,CAAC;;EAER,CAAC,EAAE,CAACJ,GAAG,EAAEE,YAAY,CAAC,CAAC;EAEvB,OACEC,IAAI,IACFW,IAAA,CAAC5B,iBAAiB;IAChBM,GAAG,EAAEA,GAAG;IACRG,UAAU,EAAEA,UAAU;IACtBoB,KAAK,EAAE;MAAE,cAAc,EAAE,GAAGtB,SAAS;IAAI,CAAmB;IAAAuB,QAAA,EAE5DF,IAAA,CAAC9B,YAAY;MAAA,GACPc,SAAS;MACbE,GAAG,EAAEA,GAAG;MACRiB,MAAM,EAAE,CAAChB,iBAAiB;MAC1BiB,iBAAiB,EAAEjB,iBAAiB;MACpCE,IAAI,EAAEA,IAAI;MACVV,SAAS,EAAEA,SAAS;MACpBC,OAAO,EAAEA,OAAO;MAChBE,OAAO,EAAEA,OAAO;MAChBC,QAAQ,EAAEA,QAAQ;MAClBsB,KAAK,EAAEpB,KAAK,CAACqB,IAAI,CAACC,OAAO,CAACC,WAAW;MACrCC,KAAK,EAAC,EAAE;MACRC,KAAK,EAAC,EAAE;MACRC,YAAY;MACZC,aAAa,EAAE/B,UAAU;MACzBgC,WAAW,EAAE;IAAK;EAClB,EAEL;AAEL,CAAC,CACF;AAED,eAAerC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}
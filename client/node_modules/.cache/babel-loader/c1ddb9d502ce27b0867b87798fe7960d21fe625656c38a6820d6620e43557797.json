{"ast":null,"code":"import { useEffect } from 'react';\nimport { normalizeElements } from '../utils';\nfunction useEvent(eventName, cb) {\n  let {\n    target = document,\n    eventOptions,\n    dependencies = []\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  useEffect(() => {\n    const [element] = normalizeElements([target]);\n    if (!element) return;\n    element.addEventListener(eventName, cb, eventOptions);\n    return () => {\n      element.removeEventListener(eventName, cb, eventOptions);\n    };\n  }, [eventName, target, cb, eventOptions, ...dependencies]);\n}\nexport default useEvent;","map":{"version":3,"names":["useEffect","normalizeElements","useEvent","eventName","cb","target","document","eventOptions","dependencies","arguments","length","undefined","element","addEventListener","removeEventListener"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/hooks/useEvent.ts"],"sourcesContent":["import { DependencyList, RefObject, useEffect } from 'react';\n\nimport { normalizeElements } from '../utils';\n\n//  Based on https://github.com/microsoft/TypeScript/issues/33047#issuecomment-704005614\ntype EventMapForTarget<Target extends EventTarget> = Target extends HTMLElement\n  ? HTMLElementEventMap\n  : Target extends SVGElement\n  ? SVGElementEventMap\n  : Target extends Document\n  ? DocumentEventMap\n  : Target extends Window\n  ? WindowEventMap\n  : {\n      [eventType: string]: Event;\n    };\ntype EventNamesForTarget<T extends EventTarget> = keyof EventMapForTarget<T> & string;\n\n/**\n * @example useEvent('keydown', (event) => { do something });\n * @param cb The function that should be executed on keydown keyevent.\n * @param options\n */\nfunction useEvent<Target extends Document, EventName extends EventNamesForTarget<Target>>(\n  eventName: EventName,\n  cb: (e: EventMapForTarget<Target>[EventName]) => void,\n  opts?: {\n    target?: undefined;\n    eventOptions?: AddEventListenerOptions | boolean;\n    dependencies: DependencyList;\n  }\n): void;\n\nfunction useEvent<Target extends EventTarget, EventName extends EventNamesForTarget<Target>>(\n  eventName: EventName,\n  cb: (e: EventMapForTarget<Target>[EventName]) => void,\n  opts: {\n    target: Target | RefObject<Target> | null;\n    eventOptions?: AddEventListenerOptions | boolean;\n    dependencies?: DependencyList;\n  }\n): void;\n\nfunction useEvent<\n  Target extends EventTarget,\n  EventName extends EventNamesForTarget<Target | Document>\n>(\n  eventName: EventName,\n  cb: (e: EventMapForTarget<Target | Document>[EventName]) => void,\n  opts: {\n    target?: Target | RefObject<Target> | null | undefined;\n    eventOptions?: AddEventListenerOptions | boolean;\n    dependencies?: DependencyList;\n  }\n): void;\n\nfunction useEvent<Target extends EventTarget, EventName extends EventNamesForTarget<Target>>(\n  eventName: EventName,\n  cb: (e: EventMapForTarget<Target>[EventName]) => void,\n  {\n    target = document as unknown as Target,\n    eventOptions,\n    dependencies = []\n  }: {\n    target?: Target | RefObject<Target> | null;\n    eventOptions?: AddEventListenerOptions | boolean;\n    dependencies?: DependencyList;\n  } = {}\n) {\n  useEffect(() => {\n    const [element] = normalizeElements([target]);\n    if (!element) return;\n\n    element.addEventListener(eventName, cb as EventListener, eventOptions);\n\n    return () => {\n      element.removeEventListener(eventName, cb as EventListener, eventOptions);\n    };\n  }, [eventName, target, cb, eventOptions, ...dependencies]);\n}\n\nexport default useEvent;\n"],"mappings":"AAAA,SAAoCA,SAAS,QAAQ,OAAO;AAE5D,SAASC,iBAAiB,QAAQ,UAAU;AAsD5C,SAASC,QAAQA,CACfC,SAAoB,EACpBC,EAAqD,EAS/C;EAAA,IARN;IACEC,MAAM,GAAGC,QAA6B;IACtCC,YAAY;IACZC,YAAY,GAAG;EAAE,IAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAKf,EAAE;EAENT,SAAS,CAAC,MAAK;IACb,MAAM,CAACY,OAAO,CAAC,GAAGX,iBAAiB,CAAC,CAACI,MAAM,CAAC,CAAC;IAC7C,IAAI,CAACO,OAAO,EAAE;IAEdA,OAAO,CAACC,gBAAgB,CAACV,SAAS,EAAEC,EAAmB,EAAEG,YAAY,CAAC;IAEtE,OAAO,MAAK;MACVK,OAAO,CAACE,mBAAmB,CAACX,SAAS,EAAEC,EAAmB,EAAEG,YAAY,CAAC;IAC3E,CAAC;EACH,CAAC,EAAE,CAACJ,SAAS,EAAEE,MAAM,EAAED,EAAE,EAAEG,YAAY,EAAE,GAAGC,YAAY,CAAC,CAAC;AAC5D;AAEA,eAAeN,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}
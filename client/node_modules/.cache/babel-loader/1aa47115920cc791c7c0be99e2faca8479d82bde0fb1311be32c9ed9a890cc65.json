{"ast":null,"code":"import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport Icon, { registerIcon } from '../Icon';\nimport * as caretDownIcon from '../Icon/icons/caret-down.icon';\nimport * as caretUpIcon from '../Icon/icons/caret-up.icon';\nimport { useConsolidatedRef, useFocusWithin, useI18n, useUID, useElement, useDirection, useTestIds } from '../../hooks';\nimport Popover from '../Popover';\nimport FormField from '../FormField';\nimport { StyledFormControl } from '../FormControl';\nimport Menu from '../Menu';\nimport Button from '../Button';\nimport { navigatorIsAvailable } from '../../utils';\nimport menuHelpers from '../Menu/helpers';\nimport { sameWidth } from '../Popover/modifiers';\nimport VisuallyHiddenText from '../VisuallyHiddenText';\nimport ComboBoxInput from './ComboBoxInput';\nimport { StyledComboBox } from './ComboBox.styles';\nimport { getComboBoxTestIds } from './ComboxBox.test-ids';\nregisterIcon(caretDownIcon, caretUpIcon);\nconst isMobile = navigatorIsAvailable && navigator.userAgent.includes('Mobile');\nconst ComboBox = forwardRef((props, ref) => {\n  const uid = useUID();\n  const {\n    testId,\n    additionalInfo,\n    value,\n    required,\n    id = uid,\n    label,\n    labelHidden,\n    info,\n    status,\n    readOnly,\n    disabled,\n    mode = 'single-select',\n    selected,\n    onChange,\n    actions,\n    onFocus,\n    onBlur,\n    onResolveSuggestion,\n    onDropdownButtonClick: onDropdownButtonClickProp,\n    onClick,\n    onKeyDown,\n    menu,\n    ...restProps\n  } = props;\n  const testIds = useTestIds(testId, getComboBoxTestIds);\n  const [pauseMenuDescendantEvaluation, setPauseMenuDescendantEvaluation] = useState(true);\n  const [pauseSelectedDescendantEvaluation, setPauseSelectedDescendantEvaluation] = useState(false);\n  const t = useI18n();\n  const listId = `${id}-list`;\n  const inputRef = useRef(null);\n  const [open, setOpen] = useState(false);\n  const menuRef = useRef(null);\n  const menuComponentId = `${id}-listbox`;\n  const {\n    start\n  } = useDirection();\n  // Force a re-render to make sure useFocusWithin has valid elements to set listeners on.\n  const [, setContainerEl] = useElement();\n  const containerRef = useConsolidatedRef(ref, setContainerEl);\n  const toggleMenuDescendantsActive = useCallback(bool => {\n    setPauseMenuDescendantEvaluation(!bool);\n    setPauseSelectedDescendantEvaluation(bool);\n  }, []);\n  const toggleSelectedDescendantsActive = useCallback(bool => {\n    setPauseSelectedDescendantEvaluation(!bool);\n    setPauseMenuDescendantEvaluation(bool);\n  }, []);\n  const focus = useFocusWithin([containerRef], focused => {\n    if (!focused) {\n      setOpen(false);\n      toggleMenuDescendantsActive(false);\n      onBlur?.(selected?.items);\n    } else {\n      onFocus?.(selected?.items);\n      if (isMobile) {\n        setTimeout(() => {\n          containerRef.current?.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start'\n          });\n        }, 150); // delay it to let keyboard expand first\n      }\n    }\n  });\n\n  const onInputKeyDown = useCallback(e => {\n    if (!menu || readOnly) return;\n    if (onKeyDown?.(e) === false) {\n      return;\n    }\n    switch (e.key) {\n      case 'ArrowUp':\n        if (e.altKey) {\n          e.preventDefault();\n          if (open) {\n            setOpen(false);\n            toggleMenuDescendantsActive(false);\n          }\n        }\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        if (!open) {\n          setOpen(true);\n          toggleMenuDescendantsActive(true);\n        }\n        break;\n      case 'Escape':\n      case 'Tab':\n        if (e.key === 'Escape') {\n          e.preventDefault();\n          if (open) e.stopPropagation();\n        }\n        setOpen(false);\n        toggleMenuDescendantsActive(false);\n        break;\n      default:\n    }\n  }, [open, readOnly, menu, value, onKeyDown]);\n  const onDropdownButtonClick = useCallback(() => {\n    onDropdownButtonClickProp?.(!open);\n    setOpen(!open);\n  }, [open, onDropdownButtonClickProp]);\n  const dropdownButton = useMemo(() => {\n    return (menu?.items?.length || onDropdownButtonClickProp || !onChange) && !readOnly ? _jsx(Button, {\n      \"aria-label\": t(open ? 'combobox_close_list_button_a11y' : 'combobox_open_list_button_a11y'),\n      icon: true,\n      variant: 'simple',\n      onClick: onDropdownButtonClick,\n      onMouseDown: e => {\n        e.preventDefault();\n        inputRef.current?.focus();\n      },\n      disabled: disabled,\n      tabIndex: '-1',\n      children: _jsx(Icon, {\n        name: open ? 'caret-up' : 'caret-down'\n      })\n    }) : null;\n  }, [onDropdownButtonClick, onChange, readOnly, open, disabled]);\n  const ariaDescribedBy = useMemo(() => {\n    let idString = `${id}-inputDescription`;\n    if (info) {\n      idString = idString.concat(` ${id}-info`);\n    }\n    if (onChange) {\n      idString = idString.concat(` ${id}-searchDescription`);\n    }\n    if (mode === 'multi-select') {\n      idString = idString.concat(` ${id}-multiselectDescription`);\n    }\n    return idString;\n  }, [info, id, mode, onChange]);\n  const onInputClick = useCallback(e => {\n    if (readOnly) return;\n    setOpen(true);\n    toggleMenuDescendantsActive(true);\n    onClick?.(e);\n  }, [readOnly, onClick]);\n  useEffect(() => {\n    if (focus && menu && value && value.length > 0) {\n      setOpen(true);\n      toggleMenuDescendantsActive(true);\n    }\n  }, [menu, value, focus]);\n  // Workaround for the following error from jsx-ast-utils, fixed in version 3.5.0.\n  // The prop value with an expression type of JSXFragment could not be resolved. Please file issue to get this fixed immediately.\n  const inputActions = _jsxs(_Fragment, {\n    children: [dropdownButton, actions]\n  });\n  const Comp = _jsxs(StyledComboBox, {\n    ref: containerRef,\n    as: StyledFormControl,\n    id: `${id}-combobox`,\n    role: 'combobox',\n    \"aria-haspopup\": 'listbox',\n    \"aria-expanded\": !readOnly && !disabled && open,\n    \"aria-owns\": open && menu !== undefined && !pauseMenuDescendantEvaluation ? listId : undefined,\n    children: [_jsx(ComboBoxInput, {\n      \"data-testid\": testIds.control,\n      ref: inputRef,\n      role: 'searchbox',\n      \"aria-autocomplete\": 'list',\n      \"aria-controls\": open && menu !== undefined && !pauseMenuDescendantEvaluation ? listId : undefined,\n      \"aria-describedby\": ariaDescribedBy,\n      selected: selected?.items,\n      spellCheck: false,\n      ...{\n        id,\n        readOnly,\n        disabled,\n        onChange,\n        value,\n        mode,\n        status\n      },\n      actions: inputActions,\n      onRemove: selected?.onRemove,\n      onClick: onInputClick,\n      onKeyDown: onInputKeyDown,\n      required: required,\n      pauseDescendantEvaluation: pauseSelectedDescendantEvaluation,\n      onSelectedFocus: () => {\n        toggleSelectedDescendantsActive(true);\n      },\n      onSelectedBlur: () => {\n        toggleSelectedDescendantsActive(false);\n      },\n      ...restProps\n    }), _jsx(Popover, {\n      show: open && menu !== undefined,\n      target: containerRef.current,\n      placement: 'bottom-start',\n      modifiers: [sameWidth],\n      // FIXME: Removed absolute strategy for mobile to avoid overflow issues.\n      strategy: 'fixed',\n      onMouseDown: e => e.preventDefault(),\n      children: menu && _jsx(Menu, {\n        ref: menuRef,\n        listId: listId,\n        id: menuComponentId,\n        role: 'listbox',\n        mode: mode,\n        ...menu,\n        items: menu.items,\n        focusControlEl: inputRef.current || undefined,\n        onItemClick: (itemId, e) => {\n          if (mode === 'single-select') {\n            setOpen(false);\n            toggleMenuDescendantsActive(true);\n          }\n          menu.onItemClick?.(itemId, e);\n          const clickedItem = menuHelpers.getItem(menu.items, itemId);\n          if (clickedItem?.primary && !clickedItem?.selected) {\n            selected?.onNew?.(clickedItem?.primary);\n          }\n        },\n        \"aria-label\": t('menu_option_list'),\n        pauseDescendantEvaluation: pauseMenuDescendantEvaluation,\n        arrowNavigationUnsupported: true\n      })\n    })]\n  });\n  return _jsxs(_Fragment, {\n    children: [label ? _jsx(FormField, {\n      ...{\n        testId: testIds,\n        label,\n        labelHidden,\n        id,\n        info,\n        status,\n        required,\n        disabled,\n        onResolveSuggestion,\n        additionalInfo\n      },\n      children: Comp\n    }) : Comp, _jsx(VisuallyHiddenText, {\n      id: `${id}-inputDescription`,\n      \"aria-hidden\": true,\n      children: `${t('combobox_open_close')} `\n    }), _jsx(VisuallyHiddenText, {\n      id: `${id}-searchDescription`,\n      \"aria-hidden\": true,\n      children: t('combobox_search_instructions')\n    }), _jsx(VisuallyHiddenText, {\n      id: `${id}-multiselectDescription`,\n      \"aria-hidden\": true,\n      children: t('multiselect_instructions', [start])\n    })]\n  });\n});\nexport default ComboBox;","map":{"version":3,"names":["forwardRef","useCallback","useEffect","useMemo","useRef","useState","Icon","registerIcon","caretDownIcon","caretUpIcon","useConsolidatedRef","useFocusWithin","useI18n","useUID","useElement","useDirection","useTestIds","Popover","FormField","StyledFormControl","Menu","Button","navigatorIsAvailable","menuHelpers","sameWidth","VisuallyHiddenText","ComboBoxInput","StyledComboBox","getComboBoxTestIds","isMobile","navigator","userAgent","includes","ComboBox","props","ref","uid","testId","additionalInfo","value","required","id","label","labelHidden","info","status","readOnly","disabled","mode","selected","onChange","actions","onFocus","onBlur","onResolveSuggestion","onDropdownButtonClick","onDropdownButtonClickProp","onClick","onKeyDown","menu","restProps","testIds","pauseMenuDescendantEvaluation","setPauseMenuDescendantEvaluation","pauseSelectedDescendantEvaluation","setPauseSelectedDescendantEvaluation","t","listId","inputRef","open","setOpen","menuRef","menuComponentId","start","setContainerEl","containerRef","toggleMenuDescendantsActive","bool","toggleSelectedDescendantsActive","focus","focused","items","setTimeout","current","scrollIntoView","behavior","block","onInputKeyDown","e","key","altKey","preventDefault","stopPropagation","dropdownButton","length","_jsx","icon","variant","onMouseDown","tabIndex","children","name","ariaDescribedBy","idString","concat","onInputClick","inputActions","_jsxs","_Fragment","Comp","as","role","undefined","control","spellCheck","onRemove","pauseDescendantEvaluation","onSelectedFocus","onSelectedBlur","show","target","placement","modifiers","strategy","focusControlEl","onItemClick","itemId","clickedItem","getItem","primary","onNew","arrowNavigationUnsupported"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/ComboBox/ComboBox.tsx"],"sourcesContent":["import {\n  forwardRef,\n  FunctionComponent,\n  KeyboardEvent as ReactKeyboardEvent,\n  PropsWithoutRef,\n  Ref,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from 'react';\n\nimport Icon, { registerIcon } from '../Icon';\nimport * as caretDownIcon from '../Icon/icons/caret-down.icon';\nimport * as caretUpIcon from '../Icon/icons/caret-up.icon';\nimport { ForwardProps } from '../../types';\nimport {\n  useConsolidatedRef,\n  useFocusWithin,\n  useI18n,\n  useUID,\n  useElement,\n  useDirection,\n  useTestIds\n} from '../../hooks';\nimport Popover from '../Popover';\nimport FormField from '../FormField';\nimport { StyledFormControl } from '../FormControl';\nimport Menu, { MenuProps } from '../Menu';\nimport Button from '../Button';\nimport { navigatorIsAvailable } from '../../utils';\nimport menuHelpers from '../Menu/helpers';\nimport { sameWidth } from '../Popover/modifiers';\nimport VisuallyHiddenText from '../VisuallyHiddenText';\n\nimport ComboBoxInput from './ComboBoxInput';\nimport ComboBoxProps from './ComboBox.types';\nimport { StyledComboBox } from './ComboBox.styles';\nimport { getComboBoxTestIds } from './ComboxBox.test-ids';\n\nregisterIcon(caretDownIcon, caretUpIcon);\n\nconst isMobile = navigatorIsAvailable && navigator.userAgent.includes('Mobile');\n\nconst ComboBox: FunctionComponent<ComboBoxProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<ComboBoxProps>, ref: Ref<HTMLDivElement>) => {\n    const uid = useUID();\n    const {\n      testId,\n      additionalInfo,\n      value,\n      required,\n      id = uid,\n      label,\n      labelHidden,\n      info,\n      status,\n      readOnly,\n      disabled,\n      mode = 'single-select',\n      selected,\n      onChange,\n      actions,\n      onFocus,\n      onBlur,\n      onResolveSuggestion,\n      onDropdownButtonClick: onDropdownButtonClickProp,\n      onClick,\n      onKeyDown,\n      menu,\n      ...restProps\n    } = props;\n\n    const testIds = useTestIds(testId, getComboBoxTestIds);\n\n    const [pauseMenuDescendantEvaluation, setPauseMenuDescendantEvaluation] = useState(true);\n    const [pauseSelectedDescendantEvaluation, setPauseSelectedDescendantEvaluation] =\n      useState(false);\n    const t = useI18n();\n    const listId = `${id}-list`;\n    const inputRef = useRef<HTMLInputElement>(null);\n    const [open, setOpen] = useState(false);\n    const menuRef: MenuProps['ref'] = useRef(null);\n    const menuComponentId = `${id}-listbox`;\n    const { start } = useDirection();\n\n    // Force a re-render to make sure useFocusWithin has valid elements to set listeners on.\n    const [, setContainerEl] = useElement();\n    const containerRef = useConsolidatedRef<HTMLDivElement>(ref, setContainerEl);\n\n    const toggleMenuDescendantsActive = useCallback((bool: boolean) => {\n      setPauseMenuDescendantEvaluation(!bool);\n      setPauseSelectedDescendantEvaluation(bool);\n    }, []);\n\n    const toggleSelectedDescendantsActive = useCallback((bool: boolean) => {\n      setPauseSelectedDescendantEvaluation(!bool);\n      setPauseMenuDescendantEvaluation(bool);\n    }, []);\n\n    const focus = useFocusWithin([containerRef], focused => {\n      if (!focused) {\n        setOpen(false);\n        toggleMenuDescendantsActive(false);\n        onBlur?.(selected?.items);\n      } else {\n        onFocus?.(selected?.items);\n        if (isMobile) {\n          setTimeout(() => {\n            containerRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n          }, 150); // delay it to let keyboard expand first\n        }\n      }\n    });\n\n    const onInputKeyDown = useCallback(\n      (e: ReactKeyboardEvent<HTMLInputElement>) => {\n        if (!menu || readOnly) return;\n        if (onKeyDown?.(e) === false) {\n          return;\n        }\n\n        switch (e.key) {\n          case 'ArrowUp':\n            if (e.altKey) {\n              e.preventDefault();\n              if (open) {\n                setOpen(false);\n                toggleMenuDescendantsActive(false);\n              }\n            }\n            break;\n          case 'ArrowDown':\n            e.preventDefault();\n            if (!open) {\n              setOpen(true);\n              toggleMenuDescendantsActive(true);\n            }\n            break;\n          case 'Escape':\n          case 'Tab':\n            if (e.key === 'Escape') {\n              e.preventDefault();\n              if (open) e.stopPropagation();\n            }\n            setOpen(false);\n            toggleMenuDescendantsActive(false);\n            break;\n          default:\n        }\n      },\n      [open, readOnly, menu, value, onKeyDown]\n    );\n\n    const onDropdownButtonClick = useCallback(() => {\n      onDropdownButtonClickProp?.(!open);\n      setOpen(!open);\n    }, [open, onDropdownButtonClickProp]);\n\n    const dropdownButton = useMemo(() => {\n      return (menu?.items?.length || onDropdownButtonClickProp || !onChange) && !readOnly ? (\n        <Button\n          aria-label={t(\n            open ? 'combobox_close_list_button_a11y' : 'combobox_open_list_button_a11y'\n          )}\n          icon\n          variant='simple'\n          onClick={onDropdownButtonClick}\n          onMouseDown={(e: MouseEvent) => {\n            e.preventDefault();\n            inputRef.current?.focus();\n          }}\n          disabled={disabled}\n          tabIndex='-1'\n        >\n          <Icon name={open ? 'caret-up' : 'caret-down'} />\n        </Button>\n      ) : null;\n    }, [onDropdownButtonClick, onChange, readOnly, open, disabled]);\n\n    const ariaDescribedBy = useMemo(() => {\n      let idString = `${id}-inputDescription`;\n\n      if (info) {\n        idString = idString.concat(` ${id}-info`);\n      }\n      if (onChange) {\n        idString = idString.concat(` ${id}-searchDescription`);\n      }\n      if (mode === 'multi-select') {\n        idString = idString.concat(` ${id}-multiselectDescription`);\n      }\n\n      return idString;\n    }, [info, id, mode, onChange]);\n\n    const onInputClick = useCallback(\n      (e: MouseEvent) => {\n        if (readOnly) return;\n        setOpen(true);\n        toggleMenuDescendantsActive(true);\n        onClick?.(e);\n      },\n      [readOnly, onClick]\n    );\n\n    useEffect(() => {\n      if (focus && menu && value && value.length > 0) {\n        setOpen(true);\n        toggleMenuDescendantsActive(true);\n      }\n    }, [menu, value, focus]);\n\n    // Workaround for the following error from jsx-ast-utils, fixed in version 3.5.0.\n    // The prop value with an expression type of JSXFragment could not be resolved. Please file issue to get this fixed immediately.\n    const inputActions = (\n      <>\n        {dropdownButton}\n        {actions}\n      </>\n    );\n\n    const Comp = (\n      <StyledComboBox\n        ref={containerRef}\n        as={StyledFormControl}\n        id={`${id}-combobox`}\n        role='combobox'\n        aria-haspopup='listbox'\n        aria-expanded={!readOnly && !disabled && open}\n        aria-owns={\n          open && menu !== undefined && !pauseMenuDescendantEvaluation ? listId : undefined\n        }\n      >\n        <ComboBoxInput\n          data-testid={testIds.control}\n          ref={inputRef}\n          role='searchbox'\n          aria-autocomplete='list'\n          aria-controls={\n            open && menu !== undefined && !pauseMenuDescendantEvaluation ? listId : undefined\n          }\n          aria-describedby={ariaDescribedBy}\n          selected={selected?.items}\n          spellCheck={false}\n          {...{\n            id,\n            readOnly,\n            disabled,\n            onChange,\n            value,\n            mode,\n            status\n          }}\n          actions={inputActions}\n          onRemove={selected?.onRemove}\n          onClick={onInputClick}\n          onKeyDown={onInputKeyDown}\n          required={required}\n          pauseDescendantEvaluation={pauseSelectedDescendantEvaluation}\n          onSelectedFocus={() => {\n            toggleSelectedDescendantsActive(true);\n          }}\n          onSelectedBlur={() => {\n            toggleSelectedDescendantsActive(false);\n          }}\n          {...restProps}\n        />\n\n        <Popover\n          show={open && menu !== undefined}\n          target={containerRef.current}\n          placement='bottom-start'\n          modifiers={[sameWidth]}\n          // FIXME: Removed absolute strategy for mobile to avoid overflow issues.\n          strategy='fixed'\n          onMouseDown={(e: MouseEvent) => e.preventDefault()}\n        >\n          {menu && (\n            <Menu\n              ref={menuRef}\n              listId={listId}\n              id={menuComponentId}\n              role='listbox'\n              mode={mode}\n              {...menu}\n              items={menu.items}\n              focusControlEl={inputRef.current || undefined}\n              onItemClick={(itemId, e) => {\n                if (mode === 'single-select') {\n                  setOpen(false);\n                  toggleMenuDescendantsActive(true);\n                }\n                menu.onItemClick?.(itemId, e);\n\n                const clickedItem = menuHelpers.getItem(menu.items, itemId);\n\n                if (clickedItem?.primary && !clickedItem?.selected) {\n                  selected?.onNew?.(clickedItem?.primary);\n                }\n              }}\n              aria-label={t('menu_option_list')}\n              pauseDescendantEvaluation={pauseMenuDescendantEvaluation}\n              arrowNavigationUnsupported\n            />\n          )}\n        </Popover>\n      </StyledComboBox>\n    );\n\n    return (\n      <>\n        {label ? (\n          <FormField\n            {...{\n              testId: testIds,\n              label,\n              labelHidden,\n              id,\n              info,\n              status,\n              required,\n              disabled,\n              onResolveSuggestion,\n              additionalInfo\n            }}\n          >\n            {Comp}\n          </FormField>\n        ) : (\n          Comp\n        )}\n        <VisuallyHiddenText id={`${id}-inputDescription`} aria-hidden>\n          {`${t('combobox_open_close')} `}\n        </VisuallyHiddenText>\n        <VisuallyHiddenText id={`${id}-searchDescription`} aria-hidden>\n          {t('combobox_search_instructions')}\n        </VisuallyHiddenText>\n        <VisuallyHiddenText id={`${id}-multiselectDescription`} aria-hidden>\n          {t('multiselect_instructions', [start])}\n        </VisuallyHiddenText>\n      </>\n    );\n  }\n);\n\nexport default ComboBox;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef, useRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport { defaultThemeProp } from '../../theme';\nimport Flex from '../Flex';\nimport Link from '../Link';\nimport Count from '../Badges/Count';\nimport Tab from './Tab';\nexport const StyledTabs = styled.div(_ref => {\n  let {\n    type,\n    theme\n  } = _ref;\n  return css`\n    position: relative;\n    overflow: ${type === 'horizontal' ? 'auto' : 'visible'};\n    ${type === 'horizontal' && css`\n      border-bottom: 0.0625rem solid ${theme.base.palette['border-line']};\n      height: max-content;\n    `}\n\n    &:has(:focus-visible) {\n      box-shadow: ${type === 'vertical' ? theme.base.shadow['focus-group-inset'] : theme.base.shadow['focus-group']};\n    }\n  `;\n});\nStyledTabs.defaultProps = defaultThemeProp;\n/**\n * The tabs component will take a list of tab data objects and render out a list of tabs in either vertical or horizontal direction.\n * The tabs component handles which tab is active but will give you a callback function that allows you to make changes when a new tab is activated\n */\nconst Tabs = forwardRef((_ref2, ref) => {\n  let {\n    tabs = [],\n    type = 'horizontal',\n    currentTabId,\n    onTabClick,\n    ...restProps\n  } = _ref2;\n  // Used to keep a reference for every tab in order to focus them with key presses\n  const tabRefs = useRef([]);\n  // Handles arrow keypresses for changing the focus\n  const changeTabFocus = (event, index) => {\n    if (tabRefs.current?.length) {\n      const {\n        key\n      } = event;\n      if (key === 'ArrowRight' || key === 'ArrowDown') {\n        const nextIndex = index + 1 < tabs.length ? index + 1 : 0;\n        const nextTab = tabRefs.current[nextIndex];\n        if (!nextTab?.disabled) {\n          nextTab?.focus();\n        } else {\n          changeTabFocus(event, nextIndex);\n        }\n      } else if (key === 'ArrowLeft' || key === 'ArrowUp') {\n        const prevIndex = index === 0 ? tabs.length - 1 : index - 1;\n        const prevTab = tabRefs.current[prevIndex];\n        if (!prevTab?.disabled) {\n          prevTab?.focus();\n        } else {\n          changeTabFocus(event, prevIndex);\n        }\n      }\n    }\n  };\n  return _jsx(Flex, {\n    ...restProps,\n    container: {\n      direction: type !== 'horizontal' ? 'column' : undefined\n    },\n    item: {\n      shrink: 0\n    },\n    as: StyledTabs,\n    ref: ref,\n    type: type,\n    role: 'tablist',\n    \"aria-orientation\": type,\n    children: tabs.map((tab, i) => {\n      const {\n        href,\n        name,\n        count,\n        id,\n        disabled\n      } = tab;\n      const selected = id === currentTabId;\n      return _jsx(Tab, {\n        id: id,\n        \"aria-selected\": selected,\n        \"aria-controls\": `${id}-panel`,\n        content: name,\n        count: typeof count === 'number' && _jsx(Count, {\n          children: count\n        }),\n        href: href,\n        selected: selected,\n        onClick: event => {\n          onTabClick?.(id, event);\n        },\n        role: 'tab',\n        ref: el => {\n          tabRefs.current[i] = el;\n        },\n        onKeyDown: e => {\n          if (['ArrowRight', 'ArrowDown', 'ArrowLeft', 'ArrowUp'].includes(e.key)) {\n            e.preventDefault();\n            changeTabFocus(e, i);\n          }\n        },\n        as: href ? Link : undefined,\n        tabIndex: selected ? undefined : -1,\n        \"aria-label\": name,\n        type: type,\n        disabled: disabled\n      }, id);\n    })\n  });\n});\nexport default Tabs;","map":{"version":3,"names":["forwardRef","useRef","styled","css","defaultThemeProp","Flex","Link","Count","Tab","StyledTabs","div","_ref","type","theme","base","palette","shadow","defaultProps","Tabs","_ref2","ref","tabs","currentTabId","onTabClick","restProps","tabRefs","changeTabFocus","event","index","current","length","key","nextIndex","nextTab","disabled","focus","prevIndex","prevTab","_jsx","container","direction","undefined","item","shrink","as","role","children","map","tab","i","href","name","count","id","selected","content","onClick","el","onKeyDown","e","includes","preventDefault","tabIndex"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Tabs/Tabs.tsx"],"sourcesContent":["import {\n  FunctionComponent,\n  MouseEvent,\n  KeyboardEvent,\n  forwardRef,\n  PropsWithoutRef,\n  Ref,\n  useRef\n} from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { defaultThemeProp } from '../../theme';\nimport Flex from '../Flex';\nimport Link from '../Link';\nimport Count from '../Badges/Count';\nimport { ForwardProps } from '../../types';\n\nimport Tab from './Tab';\nimport { TabsProps } from './Tabs.types';\n\ntype TabItem = TabsProps['tabs'][number];\n\nexport const StyledTabs = styled.div<Partial<TabsProps>>(\n  ({ type, theme }) => css`\n    position: relative;\n    overflow: ${type === 'horizontal' ? 'auto' : 'visible'};\n    ${type === 'horizontal' &&\n    css`\n      border-bottom: 0.0625rem solid ${theme.base.palette['border-line']};\n      height: max-content;\n    `}\n\n    &:has(:focus-visible) {\n      box-shadow: ${type === 'vertical'\n        ? theme.base.shadow['focus-group-inset']\n        : theme.base.shadow['focus-group']};\n    }\n  `\n);\n\nStyledTabs.defaultProps = defaultThemeProp;\n\n/**\n * The tabs component will take a list of tab data objects and render out a list of tabs in either vertical or horizontal direction.\n * The tabs component handles which tab is active but will give you a callback function that allows you to make changes when a new tab is activated\n */\nconst Tabs: FunctionComponent<TabsProps & ForwardProps> = forwardRef(\n  (\n    {\n      tabs = [],\n      type = 'horizontal',\n      currentTabId,\n      onTabClick,\n      ...restProps\n    }: PropsWithoutRef<TabsProps>,\n    ref: Ref<HTMLElement>\n  ) => {\n    // Used to keep a reference for every tab in order to focus them with key presses\n    const tabRefs = useRef<(HTMLButtonElement | HTMLAnchorElement)[]>([]);\n\n    // Handles arrow keypresses for changing the focus\n    const changeTabFocus = (event: KeyboardEvent, index: number): void => {\n      if (tabRefs.current?.length) {\n        const { key } = event;\n        if (key === 'ArrowRight' || key === 'ArrowDown') {\n          const nextIndex = index + 1 < tabs.length ? index + 1 : 0;\n          const nextTab = tabRefs.current[nextIndex] as HTMLButtonElement;\n\n          if (!nextTab?.disabled) {\n            nextTab?.focus();\n          } else {\n            changeTabFocus(event, nextIndex);\n          }\n        } else if (key === 'ArrowLeft' || key === 'ArrowUp') {\n          const prevIndex = index === 0 ? tabs.length - 1 : index - 1;\n          const prevTab = tabRefs.current[prevIndex] as HTMLButtonElement;\n          if (!prevTab?.disabled) {\n            prevTab?.focus();\n          } else {\n            changeTabFocus(event, prevIndex);\n          }\n        }\n      }\n    };\n\n    return (\n      <Flex\n        {...restProps}\n        container={{\n          direction: type !== 'horizontal' ? 'column' : undefined\n        }}\n        item={{ shrink: 0 }}\n        as={StyledTabs}\n        ref={ref}\n        type={type}\n        role='tablist'\n        aria-orientation={type}\n      >\n        {tabs.map((tab: TabItem, i) => {\n          const { href, name, count, id, disabled } = tab;\n          const selected = id === currentTabId;\n\n          return (\n            <Tab\n              id={id}\n              aria-selected={selected}\n              aria-controls={`${id}-panel`}\n              content={name}\n              count={typeof count === 'number' && <Count>{count}</Count>}\n              href={href}\n              selected={selected}\n              onClick={(event: MouseEvent<HTMLButtonElement | HTMLAnchorElement>) => {\n                onTabClick?.(id, event);\n              }}\n              role='tab'\n              ref={(el: HTMLButtonElement | HTMLAnchorElement) => {\n                tabRefs.current[i] = el;\n              }}\n              onKeyDown={(e: KeyboardEvent) => {\n                if (['ArrowRight', 'ArrowDown', 'ArrowLeft', 'ArrowUp'].includes(e.key)) {\n                  e.preventDefault();\n                  changeTabFocus(e, i);\n                }\n              }}\n              key={id}\n              as={href ? Link : undefined}\n              tabIndex={selected ? undefined : -1}\n              aria-label={name}\n              type={type}\n              disabled={disabled}\n            />\n          );\n        })}\n      </Flex>\n    );\n  }\n);\n\nexport default Tabs;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
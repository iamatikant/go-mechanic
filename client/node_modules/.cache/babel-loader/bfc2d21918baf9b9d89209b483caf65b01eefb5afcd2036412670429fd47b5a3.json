{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nconst iconRegistry = new Map();\nexport const registerIcon = function () {\n  for (var _len = arguments.length, icons = new Array(_len), _key = 0; _key < _len; _key++) {\n    icons[_key] = arguments[_key];\n  }\n  icons.forEach(_ref => {\n    let {\n      name,\n      ...iconDef\n    } = _ref;\n    if (!iconRegistry.has(name)) iconRegistry.set(name, iconDef);\n  });\n};\nexport const forceRegisterIcon = function () {\n  for (var _len2 = arguments.length, icons = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    icons[_key2] = arguments[_key2];\n  }\n  icons.forEach(_ref2 => {\n    let {\n      name,\n      ...iconDef\n    } = _ref2;\n    iconRegistry.set(name, iconDef);\n  });\n};\nexport const StyledIcon = styled.svg`\n  display: inline-block;\n  fill: currentColor;\n  height: 1.125rem;\n  width: 1.125rem;\n  vertical-align: middle;\n`;\nconst emptyIconDefinition = Object.freeze({\n  Component: () => null\n});\nconst Icon = forwardRef((_ref3, ref) => {\n  let {\n    name,\n    ...restProps\n  } = _ref3;\n  const [iconDef, setIconDef] = useState(iconRegistry.get(name) ?? emptyIconDefinition);\n  useEffect(() => {\n    if (iconRegistry.has(name)) {\n      setIconDef(iconRegistry.get(name));\n      return;\n    }\n    const controller = new AbortController();\n    (async () => {\n      try {\n        const module = await import(`./icons/${encodeURIComponent(name)}.icon`);\n        if (module.name !== name || !module.Component) throw new Error('Malformed icon definition');\n        registerIcon(module);\n      } catch {\n        registerIcon({\n          name,\n          ...emptyIconDefinition\n        });\n      }\n      if (!controller.signal.aborted) setIconDef(iconRegistry.get(name) ?? emptyIconDefinition);\n    })();\n    return () => controller.abort();\n  }, [name]);\n  return _jsx(StyledIcon, {\n    role: 'presentation',\n    ...restProps,\n    viewBox: iconDef.viewBox,\n    ref: ref,\n    children: _jsx(iconDef.Component, {})\n  });\n});\nexport default Icon;","map":{"version":3,"names":["forwardRef","useState","useEffect","styled","iconRegistry","Map","registerIcon","_len","arguments","length","icons","Array","_key","forEach","_ref","name","iconDef","has","set","forceRegisterIcon","_len2","_key2","_ref2","StyledIcon","svg","emptyIconDefinition","Object","freeze","Component","Icon","_ref3","ref","restProps","setIconDef","get","controller","AbortController","module","encodeURIComponent","Error","signal","aborted","abort","_jsx","role","viewBox","children"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Icon/Icon.tsx"],"sourcesContent":["import {\n  forwardRef,\n  useState,\n  useEffect,\n  FunctionComponent,\n  Ref,\n  PropsWithoutRef,\n  ComponentType\n} from 'react';\nimport styled from 'styled-components';\n\nimport { BaseProps, ForwardProps, NoChildrenProp } from '../../types';\n\nexport interface IconProps extends BaseProps, NoChildrenProp {\n  /** The name indicating the Cosmos Icon. Reference the catalog above for the available names. */\n  name: string;\n  /** Ref for the wrapping element. */\n  ref?: Ref<SVGSVGElement>;\n}\n\nexport interface IconDefinition {\n  Component: ComponentType;\n  viewBox?: string;\n}\n\nexport interface IconModule extends IconDefinition {\n  name: IconProps['name'];\n}\n\nconst iconRegistry = new Map<string, IconDefinition>();\n\nexport const registerIcon = (...icons: IconModule[]) => {\n  icons.forEach(({ name, ...iconDef }) => {\n    if (!iconRegistry.has(name)) iconRegistry.set(name, iconDef);\n  });\n};\n\nexport const forceRegisterIcon = (...icons: IconModule[]) => {\n  icons.forEach(({ name, ...iconDef }) => {\n    iconRegistry.set(name, iconDef);\n  });\n};\n\nexport const StyledIcon = styled.svg`\n  display: inline-block;\n  fill: currentColor;\n  height: 1.125rem;\n  width: 1.125rem;\n  vertical-align: middle;\n`;\n\nconst emptyIconDefinition: Readonly<IconDefinition> = Object.freeze({ Component: () => null });\n\nconst Icon: FunctionComponent<IconProps & ForwardProps> = forwardRef(\n  ({ name, ...restProps }: PropsWithoutRef<IconProps>, ref: IconProps['ref']) => {\n    const [iconDef, setIconDef] = useState(iconRegistry.get(name) ?? emptyIconDefinition);\n\n    useEffect(() => {\n      if (iconRegistry.has(name)) {\n        setIconDef(iconRegistry.get(name)!);\n        return;\n      }\n\n      const controller = new AbortController();\n\n      (async () => {\n        try {\n          const module: IconModule = await import(`./icons/${encodeURIComponent(name)}.icon`);\n          if (module.name !== name || !module.Component)\n            throw new Error('Malformed icon definition');\n\n          registerIcon(module);\n        } catch {\n          registerIcon({ name, ...emptyIconDefinition });\n        }\n\n        if (!controller.signal.aborted) setIconDef(iconRegistry.get(name) ?? emptyIconDefinition);\n      })();\n\n      return () => controller.abort();\n    }, [name]);\n\n    return (\n      <StyledIcon role='presentation' {...restProps} viewBox={iconDef.viewBox} ref={ref}>\n        <iconDef.Component />\n      </StyledIcon>\n    );\n  }\n);\n\nexport default Icon;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"/**\n * Focuses the highest level heading element in a container, or the container itself if there are no headings.\n * @param container Node to query for a heading.\n * @param label Fallback label to apply to the container if focused.\n */\nconst focusHeadingOrContainer = (container, label) => {\n  const heading = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].reduce((el, tag) => el ?? container.querySelector(tag), null);\n  const target = heading ?? container;\n  if (!(target instanceof HTMLElement || target instanceof SVGElement)) return false;\n  if (target === container && !target.hasAttribute('aria-label')) {\n    target.setAttribute('aria-label', label);\n    target.addEventListener('focusout', () => {\n      target.removeAttribute('aria-label');\n    }, {\n      once: true\n    });\n  }\n  if (target.hasAttribute('tabindex')) {\n    target.focus();\n  } else {\n    target.setAttribute('tabindex', '-1');\n    target.focus();\n    target.addEventListener('focusout', () => {\n      target.removeAttribute('tabindex');\n    }, {\n      once: true\n    });\n  }\n  return document.activeElement === target;\n};\nexport default focusHeadingOrContainer;","map":{"version":3,"names":["focusHeadingOrContainer","container","label","heading","reduce","el","tag","querySelector","target","HTMLElement","SVGElement","hasAttribute","setAttribute","addEventListener","removeAttribute","once","focus","document","activeElement"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/utils/focusHeadingOrContainer.ts"],"sourcesContent":["/**\n * Focuses the highest level heading element in a container, or the container itself if there are no headings.\n * @param container Node to query for a heading.\n * @param label Fallback label to apply to the container if focused.\n */\nconst focusHeadingOrContainer = (container: ParentNode, label: string): boolean => {\n  const heading = (['h1', 'h2', 'h3', 'h4', 'h5', 'h6'] as const).reduce<HTMLHeadingElement | null>(\n    (el, tag) => el ?? container.querySelector(tag),\n    null\n  );\n\n  const target = heading ?? container;\n\n  if (!(target instanceof HTMLElement || target instanceof SVGElement)) return false;\n\n  if (target === container && !target.hasAttribute('aria-label')) {\n    target.setAttribute('aria-label', label);\n    target.addEventListener(\n      'focusout',\n      () => {\n        target.removeAttribute('aria-label');\n      },\n      { once: true }\n    );\n  }\n\n  if (target.hasAttribute('tabindex')) {\n    target.focus();\n  } else {\n    target.setAttribute('tabindex', '-1');\n    target.focus();\n    target.addEventListener(\n      'focusout',\n      () => {\n        target.removeAttribute('tabindex');\n      },\n      { once: true }\n    );\n  }\n  return document.activeElement === target;\n};\n\nexport default focusHeadingOrContainer;\n"],"mappings":"AAAA;;;;;AAKA,MAAMA,uBAAuB,GAAGA,CAACC,SAAqB,EAAEC,KAAa,KAAa;EAChF,MAAMC,OAAO,GAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAW,CAACC,MAAM,CACpE,CAACC,EAAE,EAAEC,GAAG,KAAKD,EAAE,IAAIJ,SAAS,CAACM,aAAa,CAACD,GAAG,CAAC,EAC/C,IAAI,CACL;EAED,MAAME,MAAM,GAAGL,OAAO,IAAIF,SAAS;EAEnC,IAAI,EAAEO,MAAM,YAAYC,WAAW,IAAID,MAAM,YAAYE,UAAU,CAAC,EAAE,OAAO,KAAK;EAElF,IAAIF,MAAM,KAAKP,SAAS,IAAI,CAACO,MAAM,CAACG,YAAY,CAAC,YAAY,CAAC,EAAE;IAC9DH,MAAM,CAACI,YAAY,CAAC,YAAY,EAAEV,KAAK,CAAC;IACxCM,MAAM,CAACK,gBAAgB,CACrB,UAAU,EACV,MAAK;MACHL,MAAM,CAACM,eAAe,CAAC,YAAY,CAAC;IACtC,CAAC,EACD;MAAEC,IAAI,EAAE;IAAI,CAAE,CACf;;EAGH,IAAIP,MAAM,CAACG,YAAY,CAAC,UAAU,CAAC,EAAE;IACnCH,MAAM,CAACQ,KAAK,EAAE;GACf,MAAM;IACLR,MAAM,CAACI,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;IACrCJ,MAAM,CAACQ,KAAK,EAAE;IACdR,MAAM,CAACK,gBAAgB,CACrB,UAAU,EACV,MAAK;MACHL,MAAM,CAACM,eAAe,CAAC,UAAU,CAAC;IACpC,CAAC,EACD;MAAEC,IAAI,EAAE;IAAI,CAAE,CACf;;EAEH,OAAOE,QAAQ,CAACC,aAAa,KAAKV,MAAM;AAC1C,CAAC;AAED,eAAeR,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { useCallback, useEffect } from 'react';\n/**\n * Automatically moves focus to next referenced input when current one's number of chars is equal to max-length.\n * @example useAutoFocusNextInput([ref1, ref2, ref3]);\n * @param refs - array of references to relevant input elements\n */\nconst useAutoFocusNextInput = refs => {\n  const wrapListener = useCallback(nextElement => {\n    return ev => {\n      const targetElement = ev.target;\n      if (ev.inputType === 'insertText' && targetElement.value.length === targetElement.maxLength) {\n        nextElement?.current?.focus();\n        nextElement?.current?.select();\n      }\n    };\n  }, []);\n  useEffect(() => {\n    // Save current state of ref array to ensure it is the same during cleanup.\n    const els = refs.flatMap(ref => ref.current ?? []);\n    const callbacks = [];\n    els.forEach((el, index) => {\n      callbacks.push(wrapListener(refs[index + 1]));\n      el.addEventListener('input', callbacks[index]);\n    });\n    return () => {\n      els.forEach((el, index) => {\n        el.removeEventListener('input', callbacks[index]);\n      });\n    };\n  }, [refs]);\n};\nexport default useAutoFocusNextInput;","map":{"version":3,"names":["useCallback","useEffect","useAutoFocusNextInput","refs","wrapListener","nextElement","ev","targetElement","target","inputType","value","length","maxLength","current","focus","select","els","flatMap","ref","callbacks","forEach","el","index","push","addEventListener","removeEventListener"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/DateTime/Input/useAutoFocusNextInput.ts"],"sourcesContent":["import { RefObject, useCallback, useEffect } from 'react';\n\n/**\n * Automatically moves focus to next referenced input when current one's number of chars is equal to max-length.\n * @example useAutoFocusNextInput([ref1, ref2, ref3]);\n * @param refs - array of references to relevant input elements\n */\nconst useAutoFocusNextInput = (refs: RefObject<HTMLInputElement>[]) => {\n  const wrapListener = useCallback((nextElement: RefObject<HTMLInputElement>) => {\n    return (ev: Event) => {\n      const targetElement = ev.target as HTMLInputElement;\n      if (\n        (ev as InputEvent).inputType === 'insertText' &&\n        targetElement.value.length === targetElement.maxLength\n      ) {\n        nextElement?.current?.focus();\n        nextElement?.current?.select();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    // Save current state of ref array to ensure it is the same during cleanup.\n    const els = refs.flatMap(ref => ref.current ?? []);\n    const callbacks: ((ev: Event) => void)[] = [];\n\n    els.forEach((el: HTMLInputElement, index: number) => {\n      callbacks.push(wrapListener(refs[index + 1]));\n      el.addEventListener('input', callbacks[index]);\n    });\n\n    return () => {\n      els.forEach((el: HTMLInputElement, index: number) => {\n        el.removeEventListener('input', callbacks[index]);\n      });\n    };\n  }, [refs]);\n};\n\nexport default useAutoFocusNextInput;\n"],"mappings":"AAAA,SAAoBA,WAAW,EAAEC,SAAS,QAAQ,OAAO;AAEzD;;;;;AAKA,MAAMC,qBAAqB,GAAIC,IAAmC,IAAI;EACpE,MAAMC,YAAY,GAAGJ,WAAW,CAAEK,WAAwC,IAAI;IAC5E,OAAQC,EAAS,IAAI;MACnB,MAAMC,aAAa,GAAGD,EAAE,CAACE,MAA0B;MACnD,IACGF,EAAiB,CAACG,SAAS,KAAK,YAAY,IAC7CF,aAAa,CAACG,KAAK,CAACC,MAAM,KAAKJ,aAAa,CAACK,SAAS,EACtD;QACAP,WAAW,EAAEQ,OAAO,EAAEC,KAAK,EAAE;QAC7BT,WAAW,EAAEQ,OAAO,EAAEE,MAAM,EAAE;;IAElC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENd,SAAS,CAAC,MAAK;IACb;IACA,MAAMe,GAAG,GAAGb,IAAI,CAACc,OAAO,CAACC,GAAG,IAAIA,GAAG,CAACL,OAAO,IAAI,EAAE,CAAC;IAClD,MAAMM,SAAS,GAA4B,EAAE;IAE7CH,GAAG,CAACI,OAAO,CAAC,CAACC,EAAoB,EAAEC,KAAa,KAAI;MAClDH,SAAS,CAACI,IAAI,CAACnB,YAAY,CAACD,IAAI,CAACmB,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;MAC7CD,EAAE,CAACG,gBAAgB,CAAC,OAAO,EAAEL,SAAS,CAACG,KAAK,CAAC,CAAC;IAChD,CAAC,CAAC;IAEF,OAAO,MAAK;MACVN,GAAG,CAACI,OAAO,CAAC,CAACC,EAAoB,EAAEC,KAAa,KAAI;QAClDD,EAAE,CAACI,mBAAmB,CAAC,OAAO,EAAEN,SAAS,CAACG,KAAK,CAAC,CAAC;MACnD,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,CAACnB,IAAI,CAAC,CAAC;AACZ,CAAC;AAED,eAAeD,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
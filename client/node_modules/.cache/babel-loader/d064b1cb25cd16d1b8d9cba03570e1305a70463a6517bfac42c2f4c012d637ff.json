{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useCallback, useEffect, useState, useRef, useMemo } from 'react';\nimport { useConsolidatedRef, useUID, useActiveDescendant, useLazyDescendant, useI18n, usePrevious, useDirection, useTestIds } from '../../hooks';\nimport { cap } from '../../utils';\nimport VisuallyHiddenText from '../VisuallyHiddenText';\nimport FlyoutMenuList from './FlyoutMenuList';\nimport MenuContext from './Menu.context';\nimport { StyledMenu, StyledMenuListWrapper } from './Menu.styles';\nimport { getMenuTestIds } from './Menu.test-ids';\nimport MenuList from './MenuList';\nconst Menu = forwardRef((props, ref) => {\n  const uid = useUID();\n  const {\n    testId,\n    id = uid,\n    items = [],\n    mode = 'action',\n    accent,\n    scrollAt = 7,\n    emptyText,\n    onItemClick,\n    onItemActive,\n    onItemExpand,\n    loadMore,\n    onItemCollapse,\n    loading = false,\n    currentItemId,\n    header,\n    footer,\n    variant = 'drill-down',\n    focusControlEl,\n    arrowNavigationUnsupported,\n    'aria-describedby': ariaDescribedBy,\n    'aria-label': label,\n    role = 'menu',\n    listId,\n    pauseDescendantEvaluation,\n    ...restProps\n  } = props;\n  const testIds = useTestIds(testId, getMenuTestIds);\n  const t = useI18n();\n  const {\n    end: endDirection,\n    start: startDirection\n  } = useDirection();\n  const radioName = useUID();\n  const menuRef = useConsolidatedRef(ref);\n  const previousItemCount = useRef(0);\n  const [activeDescendantUpdateId, setActiveDescendantUpdateId] = useState(0);\n  const [focusDescendant, setFocusDescendant] = useState(null);\n  const [flyOutActiveIdStack, setFlyoutActiveIdStack] = useState([id]);\n  const [focusReturnEl, setFocusReturnEl] = useState();\n  const [preventInitialScroll, setPreventInitialScroll] = useState(false);\n  const [flyoutFocusReturnStack, setFlyoutFocusReturnStack] = useState([]);\n  const activeFlyoutSelector = useMemo(() => `fieldset[data-flyout-menu-id=\"${flyOutActiveIdStack[flyOutActiveIdStack.length - 1]}\"]`, [flyOutActiveIdStack]);\n  const focusControl = useMemo(() => {\n    return focusControlEl || menuRef.current;\n  }, [focusControlEl, menuRef.current]);\n  const pushFlyoutId = useCallback(flyoutId => {\n    setFlyoutActiveIdStack([...flyOutActiveIdStack, flyoutId]);\n  }, [flyOutActiveIdStack]);\n  useEffect(() => {\n    setFlyoutActiveIdStack([...flyOutActiveIdStack, id]);\n  }, [id]);\n  const updateParentDescendantStack = useCallback(item => {\n    setFlyoutFocusReturnStack([...flyoutFocusReturnStack, item]);\n  }, [flyoutFocusReturnStack]);\n  const getScopedItemId = useCallback(itemId => {\n    return `${id}-item-${itemId}`;\n  }, [id]);\n  const getUnscopedItemId = useCallback(itemId => {\n    return itemId.split(`${id}-item-`)[1];\n  }, [id]);\n  const updateActiveDescendants = useCallback(function () {\n    let {\n      preventScroll = false\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    setPreventInitialScroll(preventScroll);\n    setActiveDescendantUpdateId(Math.random());\n  }, []);\n  const uadConfig = useMemo(() => ({\n    focusEl: focusControl,\n    scope: menuRef.current,\n    scopeSelector: variant === 'drill-down' ? 'fieldset[aria-hidden=\"false\"]' : activeFlyoutSelector,\n    selector: `[role=\"${role === 'menu' ? 'menuitem' : 'option'}\"], legend`,\n    focusDescendantEl: focusDescendant,\n    clearFocusDescendant: () => {\n      setFocusDescendant(null);\n    },\n    focusReturnEl,\n    clearFocusReturn: () => {\n      setFocusReturnEl(null);\n    },\n    currentDescendantId: currentItemId ? getScopedItemId(currentItemId) : undefined,\n    preventInitialScroll,\n    clearPreventScroll: () => {\n      setPreventInitialScroll(false);\n    },\n    pauseDescendantEvaluation\n  }), [focusControl, menuRef.current, activeFlyoutSelector, focusReturnEl, focusDescendant, currentItemId, preventInitialScroll, pauseDescendantEvaluation]);\n  const {\n    activeDescendant,\n    descendants\n  } = useActiveDescendant(uadConfig, [activeDescendantUpdateId]);\n  const previousActiveDescendant = usePrevious(activeDescendant);\n  useLazyDescendant({\n    loading,\n    descendants,\n    previousActiveDescendant,\n    activeDescendant,\n    focusReturnEl,\n    setFocusReturnEl,\n    scrollEl: uadConfig.scope?.querySelector(uadConfig.scopeSelector)?.querySelector('ul')\n  });\n  // ## Bind Menu-specific navigation keyDown.\n  useEffect(() => {\n    const expandOrCollapse = function () {\n      let action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (activeDescendant) {\n        // expand\n        if (activeDescendant.dataset.expand === 'true' && action !== 'collapse') {\n          activeDescendant.querySelector('span[aria-hidden=\"true\"]')?.click();\n          return;\n        }\n        // collapse\n        if (action !== 'expand') {\n          if (variant === 'flyout' && flyOutActiveIdStack.length > 1 && flyoutFocusReturnStack.length > 0) {\n            setFlyoutActiveIdStack([...flyOutActiveIdStack].slice(0, -1));\n            const parentDescendant = flyoutFocusReturnStack.pop();\n            if (parentDescendant !== undefined) setFocusReturnEl(parentDescendant);\n            updateActiveDescendants();\n          } else if (activeDescendant.dataset.collapse === 'true') activeDescendant.click();\n        }\n      }\n    };\n    const additionalKeydown = e => {\n      switch (e.key) {\n        case `Arrow${cap(endDirection)}`:\n          {\n            if (arrowNavigationUnsupported) break;\n            expandOrCollapse('expand');\n            break;\n          }\n        case `Arrow${cap(startDirection)}`:\n          {\n            if (arrowNavigationUnsupported) break;\n            expandOrCollapse('collapse');\n            break;\n          }\n        case 'Escape':\n          {\n            if (variant === 'flyout' && flyOutActiveIdStack.length > 1 && flyoutFocusReturnStack.length > 0) {\n              e.preventDefault();\n              e.stopPropagation();\n              setFlyoutActiveIdStack([...flyOutActiveIdStack].slice(0, -1));\n              const parentDescendant = flyoutFocusReturnStack.pop();\n              if (parentDescendant !== undefined) setFocusReturnEl(parentDescendant);\n              updateActiveDescendants();\n            }\n            break;\n          }\n        default:\n          break;\n      }\n      if (arrowNavigationUnsupported && (e.key === ' ' || e.key === 'Spacebar') && e.shiftKey) {\n        e.preventDefault();\n        expandOrCollapse();\n      }\n    };\n    if (activeDescendant) onItemActive?.(getUnscopedItemId(activeDescendant.id));\n    focusControl?.addEventListener('keydown', additionalKeydown);\n    return () => focusControl?.removeEventListener('keydown', additionalKeydown);\n  }, [focusControl, activeDescendant, flyOutActiveIdStack]);\n  // ## Update useActiveDescendant on change of items, not selection of items.\n  useEffect(() => {\n    // Next tick for DOM updates.\n    const timeoutId = setTimeout(() => {\n      if (items.length === previousItemCount.current) {\n        const previousDescendantIds = descendants?.map(node => node.id);\n        const newDescendants = uadConfig.scope?.querySelector(uadConfig.scopeSelector)?.querySelectorAll(uadConfig.selector);\n        if (!newDescendants) {\n          updateActiveDescendants();\n          return;\n        }\n        const scopedDescendants = Array.from(newDescendants);\n        if (scopedDescendants?.length !== previousDescendantIds?.length) {\n          updateActiveDescendants();\n          return;\n        }\n        const itemsUnchanged = scopedDescendants.every((node, index) => node.id === previousDescendantIds[index]);\n        if (!itemsUnchanged) {\n          updateActiveDescendants();\n        }\n        return;\n      }\n      previousItemCount.current = items.length;\n      updateActiveDescendants();\n    }, 0);\n    return () => clearTimeout(timeoutId);\n  }, [items]);\n  const contextValue = useMemo(() => {\n    return {\n      componentId: id,\n      'aria-label': label,\n      mode,\n      arrowNavigationUnsupported,\n      onItemClick,\n      onItemActive,\n      onItemExpand,\n      onItemCollapse,\n      accent,\n      scrollAt,\n      emptyText,\n      radioName,\n      loadMore,\n      loading,\n      variant,\n      focusControl,\n      updateActiveDescendants,\n      setFocusReturnEl,\n      setFocusDescendant,\n      getScopedItemId,\n      pushFlyoutId,\n      flyOutActiveIdStack,\n      updateParentDescendantStack\n    };\n  }, [id, label, mode, arrowNavigationUnsupported, onItemClick, onItemActive, onItemExpand, onItemCollapse, accent, scrollAt, emptyText, radioName, loadMore, loading, variant, focusControl, updateActiveDescendants, setFocusReturnEl, setFocusDescendant, getScopedItemId, pushFlyoutId, flyOutActiveIdStack, updateParentDescendantStack]);\n  return _jsxs(StyledMenu, {\n    \"data-testid\": testIds.root,\n    id: id,\n    \"aria-describedby\": !focusControlEl ? `${id}-menuDescription` : undefined,\n    ...restProps,\n    ref: menuRef,\n    children: [!focusControlEl && _jsx(\"span\", {\n      id: `${id}-menuDescription`,\n      hidden: true,\n      children: `${t('menu_selection_instructions')} ` && ariaDescribedBy || ''\n    }), label && _jsx(VisuallyHiddenText, {\n      id: `${id}-menuLabel`,\n      children: label\n    }), header && _jsx(\"header\", {\n      children: header\n    }), _jsx(StyledMenuListWrapper, {\n      children: _jsx(MenuContext.Provider, {\n        value: contextValue,\n        children: variant === 'drill-down' ? _jsx(MenuList, {\n          items: items,\n          id: listId,\n          menuRole: role,\n          \"aria-labelledby\": label ? `${id}-menuLabel` : undefined\n        }) : _jsx(FlyoutMenuList, {\n          items: items,\n          menuRole: role\n        })\n      })\n    }), footer && _jsx(\"footer\", {\n      children: footer\n    })]\n  });\n});\nexport default Menu;","map":{"version":3,"names":["forwardRef","useCallback","useEffect","useState","useRef","useMemo","useConsolidatedRef","useUID","useActiveDescendant","useLazyDescendant","useI18n","usePrevious","useDirection","useTestIds","cap","VisuallyHiddenText","FlyoutMenuList","MenuContext","StyledMenu","StyledMenuListWrapper","getMenuTestIds","MenuList","Menu","props","ref","uid","testId","id","items","mode","accent","scrollAt","emptyText","onItemClick","onItemActive","onItemExpand","loadMore","onItemCollapse","loading","currentItemId","header","footer","variant","focusControlEl","arrowNavigationUnsupported","ariaDescribedBy","label","role","listId","pauseDescendantEvaluation","restProps","testIds","t","end","endDirection","start","startDirection","radioName","menuRef","previousItemCount","activeDescendantUpdateId","setActiveDescendantUpdateId","focusDescendant","setFocusDescendant","flyOutActiveIdStack","setFlyoutActiveIdStack","focusReturnEl","setFocusReturnEl","preventInitialScroll","setPreventInitialScroll","flyoutFocusReturnStack","setFlyoutFocusReturnStack","activeFlyoutSelector","length","focusControl","current","pushFlyoutId","flyoutId","updateParentDescendantStack","item","getScopedItemId","itemId","getUnscopedItemId","split","updateActiveDescendants","preventScroll","arguments","undefined","Math","random","uadConfig","focusEl","scope","scopeSelector","selector","focusDescendantEl","clearFocusDescendant","clearFocusReturn","currentDescendantId","clearPreventScroll","activeDescendant","descendants","previousActiveDescendant","scrollEl","querySelector","expandOrCollapse","action","dataset","expand","click","slice","parentDescendant","pop","collapse","additionalKeydown","e","key","preventDefault","stopPropagation","shiftKey","addEventListener","removeEventListener","timeoutId","setTimeout","previousDescendantIds","map","node","newDescendants","querySelectorAll","scopedDescendants","Array","from","itemsUnchanged","every","index","clearTimeout","contextValue","componentId","_jsxs","root","children","_jsx","hidden","Provider","value","menuRole"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/Menu/Menu.tsx"],"sourcesContent":["import {\n  forwardRef,\n  FunctionComponent,\n  PropsWithoutRef,\n  useCallback,\n  useEffect,\n  useState,\n  useRef,\n  useMemo\n} from 'react';\n\nimport {\n  useConsolidatedRef,\n  useUID,\n  useActiveDescendant,\n  useLazyDescendant,\n  useI18n,\n  usePrevious,\n  useDirection,\n  useTestIds\n} from '../../hooks';\nimport { ForwardProps } from '../../types';\nimport { cap } from '../../utils';\nimport VisuallyHiddenText from '../VisuallyHiddenText';\n\nimport FlyoutMenuList from './FlyoutMenuList';\nimport MenuContext from './Menu.context';\nimport { StyledMenu, StyledMenuListWrapper } from './Menu.styles';\nimport { getMenuTestIds } from './Menu.test-ids';\nimport { MenuContextProps, MenuProps } from './Menu.types';\nimport MenuList from './MenuList';\n\nconst Menu: FunctionComponent<MenuProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<MenuProps>, ref: MenuProps['ref']) => {\n    const uid = useUID();\n    const {\n      testId,\n      id = uid,\n      items = [],\n      mode = 'action',\n      accent,\n      scrollAt = 7,\n      emptyText,\n      onItemClick,\n      onItemActive,\n      onItemExpand,\n      loadMore,\n      onItemCollapse,\n      loading = false,\n      currentItemId,\n      header,\n      footer,\n      variant = 'drill-down',\n      focusControlEl,\n      arrowNavigationUnsupported,\n      'aria-describedby': ariaDescribedBy,\n      'aria-label': label,\n      role = 'menu',\n      listId,\n      pauseDescendantEvaluation,\n      ...restProps\n    } = props;\n\n    const testIds = useTestIds(testId, getMenuTestIds);\n\n    const t = useI18n();\n\n    const { end: endDirection, start: startDirection } = useDirection();\n    const radioName = useUID();\n    const menuRef = useConsolidatedRef(ref);\n    const previousItemCount = useRef(0);\n    const [activeDescendantUpdateId, setActiveDescendantUpdateId] = useState(0);\n    const [focusDescendant, setFocusDescendant] = useState<HTMLElement | null>(null);\n    const [flyOutActiveIdStack, setFlyoutActiveIdStack] = useState<string[]>([id]);\n    const [focusReturnEl, setFocusReturnEl] = useState<HTMLElement | null>();\n    const [preventInitialScroll, setPreventInitialScroll] = useState(false);\n    const [flyoutFocusReturnStack, setFlyoutFocusReturnStack] = useState<(HTMLElement | null)[]>(\n      []\n    );\n\n    const activeFlyoutSelector = useMemo(\n      () =>\n        `fieldset[data-flyout-menu-id=\"${flyOutActiveIdStack[flyOutActiveIdStack.length - 1]}\"]`,\n      [flyOutActiveIdStack]\n    );\n\n    const focusControl = useMemo(() => {\n      return focusControlEl || menuRef.current;\n    }, [focusControlEl, menuRef.current]);\n\n    const pushFlyoutId = useCallback(\n      (flyoutId: string) => {\n        setFlyoutActiveIdStack([...flyOutActiveIdStack, flyoutId]);\n      },\n      [flyOutActiveIdStack]\n    );\n\n    useEffect(() => {\n      setFlyoutActiveIdStack([...flyOutActiveIdStack, id]);\n    }, [id]);\n\n    const updateParentDescendantStack = useCallback(\n      (item: HTMLElement | null) => {\n        setFlyoutFocusReturnStack([...flyoutFocusReturnStack, item]);\n      },\n      [flyoutFocusReturnStack]\n    );\n\n    const getScopedItemId = useCallback(\n      (itemId: string) => {\n        return `${id}-item-${itemId}`;\n      },\n      [id]\n    );\n\n    const getUnscopedItemId = useCallback(\n      (itemId: string) => {\n        return itemId.split(`${id}-item-`)[1];\n      },\n      [id]\n    );\n\n    const updateActiveDescendants: MenuContextProps['updateActiveDescendants'] = useCallback(\n      ({ preventScroll = false } = {}) => {\n        setPreventInitialScroll(preventScroll);\n        setActiveDescendantUpdateId(Math.random());\n      },\n      []\n    );\n\n    const uadConfig = useMemo(\n      () => ({\n        focusEl: focusControl,\n        scope: menuRef.current,\n        scopeSelector:\n          variant === 'drill-down'\n            ? ('fieldset[aria-hidden=\"false\"]' as keyof HTMLElementTagNameMap)\n            : activeFlyoutSelector,\n        selector: `[role=\"${\n          role === 'menu' ? 'menuitem' : 'option'\n        }\"], legend` as keyof HTMLElementTagNameMap,\n        focusDescendantEl: focusDescendant,\n        clearFocusDescendant: () => {\n          setFocusDescendant(null);\n        },\n        focusReturnEl,\n        clearFocusReturn: () => {\n          setFocusReturnEl(null);\n        },\n        currentDescendantId: currentItemId ? getScopedItemId(currentItemId) : undefined,\n        preventInitialScroll,\n        clearPreventScroll: () => {\n          setPreventInitialScroll(false);\n        },\n        pauseDescendantEvaluation\n      }),\n      [\n        focusControl,\n        menuRef.current,\n        activeFlyoutSelector,\n        focusReturnEl,\n        focusDescendant,\n        currentItemId,\n        preventInitialScroll,\n        pauseDescendantEvaluation\n      ]\n    );\n\n    const { activeDescendant, descendants } = useActiveDescendant(uadConfig, [\n      activeDescendantUpdateId\n    ]);\n\n    const previousActiveDescendant = usePrevious(activeDescendant);\n\n    useLazyDescendant({\n      loading,\n      descendants,\n      previousActiveDescendant,\n      activeDescendant,\n      focusReturnEl,\n      setFocusReturnEl,\n      scrollEl: uadConfig.scope?.querySelector(uadConfig.scopeSelector)?.querySelector('ul')\n    });\n\n    // ## Bind Menu-specific navigation keyDown.\n    useEffect(() => {\n      const expandOrCollapse: (action?: 'collapse' | 'expand' | null) => void = (action = null) => {\n        if (activeDescendant) {\n          // expand\n          if (activeDescendant.dataset.expand === 'true' && action !== 'collapse') {\n            activeDescendant.querySelector<HTMLSpanElement>('span[aria-hidden=\"true\"]')?.click();\n            return;\n          }\n\n          // collapse\n          if (action !== 'expand') {\n            if (\n              variant === 'flyout' &&\n              flyOutActiveIdStack.length > 1 &&\n              flyoutFocusReturnStack.length > 0\n            ) {\n              setFlyoutActiveIdStack([...flyOutActiveIdStack].slice(0, -1));\n\n              const parentDescendant = flyoutFocusReturnStack.pop();\n              if (parentDescendant !== undefined) setFocusReturnEl(parentDescendant);\n              updateActiveDescendants();\n            } else if (activeDescendant.dataset.collapse === 'true') activeDescendant.click();\n          }\n        }\n      };\n\n      const additionalKeydown = (e: KeyboardEvent) => {\n        switch (e.key) {\n          case `Arrow${cap(endDirection)}`: {\n            if (arrowNavigationUnsupported) break;\n            expandOrCollapse('expand');\n            break;\n          }\n          case `Arrow${cap(startDirection)}`: {\n            if (arrowNavigationUnsupported) break;\n            expandOrCollapse('collapse');\n            break;\n          }\n          case 'Escape': {\n            if (\n              variant === 'flyout' &&\n              flyOutActiveIdStack.length > 1 &&\n              flyoutFocusReturnStack.length > 0\n            ) {\n              e.preventDefault();\n              e.stopPropagation();\n\n              setFlyoutActiveIdStack([...flyOutActiveIdStack].slice(0, -1));\n              const parentDescendant = flyoutFocusReturnStack.pop();\n              if (parentDescendant !== undefined) setFocusReturnEl(parentDescendant);\n              updateActiveDescendants();\n            }\n            break;\n          }\n          default:\n            break;\n        }\n\n        if (arrowNavigationUnsupported && (e.key === ' ' || e.key === 'Spacebar') && e.shiftKey) {\n          e.preventDefault();\n          expandOrCollapse();\n        }\n      };\n\n      if (activeDescendant) onItemActive?.(getUnscopedItemId(activeDescendant.id));\n\n      focusControl?.addEventListener('keydown', additionalKeydown);\n\n      return () => focusControl?.removeEventListener('keydown', additionalKeydown);\n    }, [focusControl, activeDescendant, flyOutActiveIdStack]);\n\n    // ## Update useActiveDescendant on change of items, not selection of items.\n    useEffect(() => {\n      // Next tick for DOM updates.\n      const timeoutId = setTimeout(() => {\n        if (items.length === previousItemCount.current) {\n          const previousDescendantIds = descendants?.map(node => node.id);\n          const newDescendants = uadConfig.scope\n            ?.querySelector(uadConfig.scopeSelector)\n            ?.querySelectorAll(uadConfig.selector);\n\n          if (!newDescendants) {\n            updateActiveDescendants();\n            return;\n          }\n\n          const scopedDescendants = Array.from(newDescendants);\n\n          if (scopedDescendants?.length !== previousDescendantIds?.length) {\n            updateActiveDescendants();\n            return;\n          }\n\n          const itemsUnchanged = scopedDescendants.every(\n            (node, index) => node.id === previousDescendantIds[index]\n          );\n\n          if (!itemsUnchanged) {\n            updateActiveDescendants();\n          }\n\n          return;\n        }\n\n        previousItemCount.current = items.length;\n        updateActiveDescendants();\n      }, 0);\n\n      return () => clearTimeout(timeoutId);\n    }, [items]);\n\n    const contextValue = useMemo(() => {\n      return {\n        componentId: id,\n        'aria-label': label,\n        mode,\n        arrowNavigationUnsupported,\n        onItemClick,\n        onItemActive,\n        onItemExpand,\n        onItemCollapse,\n        accent,\n        scrollAt,\n        emptyText,\n        radioName,\n        loadMore,\n        loading,\n        variant,\n        focusControl,\n        updateActiveDescendants,\n        setFocusReturnEl,\n        setFocusDescendant,\n        getScopedItemId,\n        pushFlyoutId,\n        flyOutActiveIdStack,\n        updateParentDescendantStack\n      };\n    }, [\n      id,\n      label,\n      mode,\n      arrowNavigationUnsupported,\n      onItemClick,\n      onItemActive,\n      onItemExpand,\n      onItemCollapse,\n      accent,\n      scrollAt,\n      emptyText,\n      radioName,\n      loadMore,\n      loading,\n      variant,\n      focusControl,\n      updateActiveDescendants,\n      setFocusReturnEl,\n      setFocusDescendant,\n      getScopedItemId,\n      pushFlyoutId,\n      flyOutActiveIdStack,\n      updateParentDescendantStack\n    ]);\n\n    return (\n      <StyledMenu\n        data-testid={testIds.root}\n        id={id}\n        aria-describedby={!focusControlEl ? `${id}-menuDescription` : undefined}\n        {...restProps}\n        ref={menuRef}\n      >\n        {!focusControlEl && (\n          <span id={`${id}-menuDescription`} hidden>\n            {(`${t('menu_selection_instructions')} ` && ariaDescribedBy) || ''}\n          </span>\n        )}\n        {label && <VisuallyHiddenText id={`${id}-menuLabel`}>{label}</VisuallyHiddenText>}\n\n        {header && <header>{header}</header>}\n\n        <StyledMenuListWrapper>\n          <MenuContext.Provider value={contextValue}>\n            {variant === 'drill-down' ? (\n              <MenuList\n                items={items}\n                id={listId}\n                menuRole={role}\n                aria-labelledby={label ? `${id}-menuLabel` : undefined}\n              />\n            ) : (\n              <FlyoutMenuList items={items} menuRole={role} />\n            )}\n          </MenuContext.Provider>\n        </StyledMenuListWrapper>\n        {footer && <footer>{footer}</footer>}\n      </StyledMenu>\n    );\n  }\n);\n\nexport default Menu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
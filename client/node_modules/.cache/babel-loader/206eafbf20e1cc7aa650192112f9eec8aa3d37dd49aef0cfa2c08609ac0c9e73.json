{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { forwardRef, useState, useCallback, useEffect, useRef } from 'react';\nimport Icon, { registerIcon } from '../Icon';\nimport * as searchIcon from '../Icon/icons/search.icon';\nimport { useConsolidatedRef, useEscape, useI18n, useOuterEvent, useLiveLog, useUID } from '../../hooks';\nimport Flex from '../Flex';\nimport Popover from '../Popover';\nimport { sameWidth } from '../Popover/modifiers';\nimport Menu from '../Menu';\nimport Link from '../Link';\nimport Text from '../Text';\nimport { createStringMatcher } from '../../utils';\nimport VisuallyHiddenText from '../VisuallyHiddenText';\nimport { StyledCancelButton, StyledResultsPopover, StyledSearchButton, StyledSearchFilterText, StyledSearchInput, StyledSearchMenu, StyledSearchResultsContainer, StyledSearchTextInput, StyledMenuButton } from './SearchInput.styles';\nregisterIcon(searchIcon);\nconst SearchInput = forwardRef((props, ref) => {\n  const t = useI18n();\n  const {\n    value = '',\n    defaultFilter,\n    filters,\n    onFilterChange,\n    searchResults,\n    recentSearches,\n    loading: loadingProp,\n    advancedSearchLink,\n    placeholder = t('search_placeholder_default'),\n    onSearchChange,\n    onSearchSubmit,\n    searchInputAriaLabel,\n    resultsPopover = true,\n    ...restProps\n  } = props;\n  const instructionTextId = useUID();\n  const {\n    announcePolite\n  } = useLiveLog();\n  const inputRef = useConsolidatedRef(ref);\n  const filterButtonRef = useRef(null);\n  const filtersRef = useRef(null);\n  const searchResultsRef = useRef(null);\n  const [searchMenuOpen, setSearchMenuOpen] = useState(false);\n  const [filterMenuOpen, setFilterMenuOpen] = useState(false);\n  const [searchResultItems, setSearchResultItems] = useState(undefined);\n  const [selectedFilter, setSelectedFilter] = useState(defaultFilter ?? '');\n  const [downPressed, setDownPressed] = useState(false);\n  const completeFilters = [t('all'), ...(filters ?? [])];\n  const hasFilters = completeFilters.length > 1;\n  const hasSearchResults = !!(searchResults && searchResults.length);\n  const hasRecentSearches = !!(recentSearches && recentSearches.length);\n  const showSearchMenu = (value || recentSearches?.length) && (searchResultItems || loadingProp);\n  const useRecents = hasRecentSearches && !value;\n  const loading = useRecents ? false : !!loadingProp;\n  const [selectedFilterValue, setSelectedFilterValue] = useState('All');\n  const searchMenuVisible = resultsPopover && showSearchMenu && searchMenuOpen || !resultsPopover && showSearchMenu;\n  useEscape(e => {\n    e.preventDefault();\n    if (searchMenuOpen) {\n      setSearchMenuOpen(false);\n    }\n    if (filterMenuOpen) {\n      setFilterMenuOpen(false);\n    }\n  });\n  const onKeyDown = useCallback(e => {\n    if (e.key === 'Enter' && !downPressed) {\n      onSearchSubmit?.(value);\n    }\n    if (e.key === 'ArrowDown') {\n      setDownPressed(true);\n    }\n  }, [onSearchSubmit, downPressed, value]);\n  useOuterEvent('click', [filterButtonRef], () => {\n    setFilterMenuOpen(false);\n  });\n  useOuterEvent('click', [searchResultsRef, inputRef, filtersRef], () => {\n    setSearchMenuOpen(false);\n  });\n  useEffect(() => {\n    setDownPressed(false);\n  }, [value]);\n  useEffect(() => {\n    let items = [];\n    if (hasSearchResults && value) {\n      items = searchResults;\n    } else if (useRecents) {\n      items = recentSearches;\n    } else if (!searchResults && (!recentSearches || recentSearches.length === 0)) {\n      items = undefined;\n    }\n    setSearchResultItems(items);\n  }, [searchResults, recentSearches, searchMenuOpen, hasSearchResults, hasRecentSearches, value]);\n  // Announce results\n  useEffect(() => {\n    if (!searchMenuVisible || loading) return;\n    const timeout = setTimeout(() => {\n      announcePolite({\n        message: t(useRecents ? 'recent_results_count' : 'results_count', [searchResultItems?.length ?? 0], {\n          count: searchResultItems?.length ?? 0\n        }),\n        type: 'status'\n      });\n    }, 1000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [loading, searchMenuVisible, searchResultItems]);\n  const searchMenu = _jsx(Menu, {\n    as: StyledSearchMenu,\n    header: recentSearches && !value ? _jsx(Text, {\n      variant: 'secondary',\n      children: t('recent_searches')\n    }) : undefined,\n    mode: 'action',\n    items: searchResultItems ?? [],\n    loading: loading,\n    footer: advancedSearchLink ? _jsx(Link, {\n      ...advancedSearchLink,\n      children: t('advanced_search')\n    }) : undefined,\n    accent: hasSearchResults ? createStringMatcher(value, undefined, 'gi') : undefined,\n    focusControlEl: downPressed && inputRef.current || undefined,\n    \"aria-label\": searchInputAriaLabel || t('search')\n  });\n  return _jsxs(_Fragment, {\n    children: [_jsxs(Flex, {\n      container: true,\n      as: StyledSearchInput,\n      hasFilters: hasFilters,\n      children: [hasFilters ? _jsx(StyledMenuButton, {\n        text: selectedFilterValue,\n        variant: 'text',\n        icon: 'search',\n        \"aria-label\": selectedFilterValue === 'All' ? t('select_search_filter') : t('selected_search_filter', [selectedFilterValue]),\n        menu: {\n          mode: 'single-select',\n          items: completeFilters.map(filter => ({\n            primary: filter,\n            id: filter,\n            selected: filter === t('all') ? selectedFilter === '' : selectedFilter === filter,\n            onClick: () => {\n              setSelectedFilterValue(filter);\n              setSelectedFilter(filter === t('all') ? '' : filter);\n              onFilterChange?.(filter);\n              inputRef.current?.focus();\n            }\n          }))\n        }\n      }) : _jsxs(Flex, {\n        as: StyledSearchButton,\n        ref: filterButtonRef,\n        forwardedAs: hasFilters ? undefined : 'div',\n        container: {\n          justify: 'center',\n          alignItems: 'center',\n          gap: selectedFilter ? 0.5 : undefined\n        },\n        decoupled: hasFilters,\n        \"aria-label\": hasFilters ? t('select_search_filter') : undefined,\n        children: [_jsx(Icon, {\n          name: 'search'\n        }), selectedFilter && _jsx(StyledSearchFilterText, {\n          children: selectedFilter\n        }), hasFilters && _jsx(Icon, {\n          name: 'arrow-micro-down'\n        })]\n      }), _jsx(StyledSearchTextInput, {\n        ref: inputRef,\n        type: 'search',\n        \"aria-label\": searchInputAriaLabel,\n        placeholder: placeholder,\n        ...restProps,\n        \"aria-describedby\": searchMenuVisible ? instructionTextId : undefined,\n        value: value,\n        onChange: e => {\n          onSearchChange?.(e.target.value);\n          if (e.target.value) setSearchMenuOpen(true);\n        },\n        onKeyDown: onKeyDown,\n        onFocus: () => {\n          setSearchMenuOpen(true);\n        },\n        decoupled: hasFilters,\n        onBlur: () => {\n          setDownPressed(false);\n          if (!advancedSearchLink) {\n            setSearchMenuOpen(false);\n          }\n        },\n        autoComplete: 'off'\n      }), value && _jsx(StyledCancelButton, {\n        icon: true,\n        onClick: () => {\n          onSearchChange?.('');\n          inputRef.current?.focus();\n        },\n        variant: 'simple',\n        compact: true,\n        label: t('clear'),\n        children: _jsx(Icon, {\n          name: 'times'\n        })\n      })]\n    }), showSearchMenu && resultsPopover && _jsx(Popover, {\n      as: StyledResultsPopover,\n      target: inputRef.current,\n      show: searchMenuOpen,\n      placement: 'bottom-start',\n      modifiers: [sameWidth],\n      onBlur: () => {\n        setSearchMenuOpen(false);\n      },\n      ref: searchResultsRef,\n      children: searchMenu\n    }), !resultsPopover && showSearchMenu && _jsx(StyledSearchResultsContainer, {\n      children: searchMenu\n    }), searchMenuVisible && _jsx(VisuallyHiddenText, {\n      id: instructionTextId,\n      children: `${t('search_instructions')} `\n    })]\n  });\n});\nexport default SearchInput;","map":{"version":3,"names":["forwardRef","useState","useCallback","useEffect","useRef","Icon","registerIcon","searchIcon","useConsolidatedRef","useEscape","useI18n","useOuterEvent","useLiveLog","useUID","Flex","Popover","sameWidth","Menu","Link","Text","createStringMatcher","VisuallyHiddenText","StyledCancelButton","StyledResultsPopover","StyledSearchButton","StyledSearchFilterText","StyledSearchInput","StyledSearchMenu","StyledSearchResultsContainer","StyledSearchTextInput","StyledMenuButton","SearchInput","props","ref","t","value","defaultFilter","filters","onFilterChange","searchResults","recentSearches","loading","loadingProp","advancedSearchLink","placeholder","onSearchChange","onSearchSubmit","searchInputAriaLabel","resultsPopover","restProps","instructionTextId","announcePolite","inputRef","filterButtonRef","filtersRef","searchResultsRef","searchMenuOpen","setSearchMenuOpen","filterMenuOpen","setFilterMenuOpen","searchResultItems","setSearchResultItems","undefined","selectedFilter","setSelectedFilter","downPressed","setDownPressed","completeFilters","hasFilters","length","hasSearchResults","hasRecentSearches","showSearchMenu","useRecents","selectedFilterValue","setSelectedFilterValue","searchMenuVisible","e","preventDefault","onKeyDown","key","items","timeout","setTimeout","message","count","type","clearTimeout","searchMenu","_jsx","as","header","variant","children","mode","footer","accent","focusControlEl","current","_jsxs","_Fragment","container","text","icon","menu","map","filter","primary","id","selected","onClick","focus","forwardedAs","justify","alignItems","gap","decoupled","name","onChange","target","onFocus","onBlur","autoComplete","compact","label","show","placement","modifiers"],"sources":["/Users/dasp10/Documents/KT_project/go-mechanic/client/node_modules/@pega/cosmos-react-core/src/components/SearchInput/SearchInput.tsx"],"sourcesContent":["import {\n  FunctionComponent,\n  PropsWithoutRef,\n  Ref,\n  forwardRef,\n  useState,\n  ChangeEvent,\n  useCallback,\n  KeyboardEvent,\n  useEffect,\n  useRef\n} from 'react';\n\nimport { ForwardProps, NoChildrenProp, OmitStrict } from '../../types';\nimport Icon, { registerIcon } from '../Icon';\nimport * as searchIcon from '../Icon/icons/search.icon';\nimport { FormControlProps } from '../FormControl';\nimport {\n  useConsolidatedRef,\n  useEscape,\n  useI18n,\n  useOuterEvent,\n  useLiveLog,\n  useUID\n} from '../../hooks';\nimport Flex from '../Flex';\nimport Popover from '../Popover';\nimport { sameWidth } from '../Popover/modifiers';\nimport Menu, { MenuItemProps } from '../Menu';\nimport Link, { LinkProps } from '../Link';\nimport Text from '../Text';\nimport { createStringMatcher } from '../../utils';\nimport VisuallyHiddenText from '../VisuallyHiddenText';\n\nimport {\n  StyledCancelButton,\n  StyledResultsPopover,\n  StyledSearchButton,\n  StyledSearchFilterText,\n  StyledSearchInput,\n  StyledSearchMenu,\n  StyledSearchResultsContainer,\n  StyledSearchTextInput,\n  StyledMenuButton\n} from './SearchInput.styles';\n\nregisterIcon(searchIcon);\n\nexport type SearchResult = Pick<MenuItemProps, 'id' | 'primary' | 'secondary' | 'href' | 'onClick'>;\n\nexport type RecentSearch = Pick<MenuItemProps, 'id' | 'primary' | 'href' | 'onClick'>;\n\nexport interface SearchInputProps extends NoChildrenProp {\n  /**\n   * Placeholder text. The default value is a locale translation of 'Search…'\n   * @default 'Search…'\n   */\n  placeholder?: FormControlProps['placeholder'];\n  /**\n   * Creates a controlled input and sets the value. Requires an onChange handler to update value.\n   * value + onChange is the recommended method per React team.\n   */\n  value?: FormControlProps['value'];\n  /** Called when the SearchInput value changes. */\n  onSearchChange?: (value: string) => void;\n  /**\n   * Called when the SearchButton is clicked or when the Enter key is pressed while SearchInput is in focus.\n   * NOTE: this does not trigger an actual form submit event. It simply represents an explicit action by the user to search as opposed to onSearchChange.\n   */\n  onSearchSubmit?: (value: string) => void;\n  /** A list of user selectable scopes to filter search with. */\n  filters?: string[];\n  /** The selected scope filter on initial render. */\n  defaultFilter?: string;\n  /** Called when user changes scope filter. */\n  onFilterChange?: (value: string) => void;\n  /** A list of matching results presented in the input's dropdown menu. */\n  searchResults?: SearchResult[];\n  /** A list of recent searches presented in the input's dropdown menu. */\n  recentSearches?: RecentSearch[];\n  /** Places the menu into an indeterminate loading state. */\n  loading?: boolean;\n  /** Prop passed to the advanced search page link. */\n  advancedSearchLink?: OmitStrict<LinkProps, 'children'>;\n  /** Aria label for search input, used by screen readers. */\n  searchInputAriaLabel?: string;\n  /**\n   * Boolean for determining for whether the search results will render in a popover.\n   * @default true\n   */\n  resultsPopover?: boolean;\n}\n\nconst SearchInput: FunctionComponent<SearchInputProps & ForwardProps> = forwardRef(\n  (props: PropsWithoutRef<SearchInputProps>, ref: Ref<HTMLInputElement>) => {\n    const t = useI18n();\n\n    const {\n      value = '',\n      defaultFilter,\n      filters,\n      onFilterChange,\n      searchResults,\n      recentSearches,\n      loading: loadingProp,\n      advancedSearchLink,\n      placeholder = t('search_placeholder_default'),\n      onSearchChange,\n      onSearchSubmit,\n      searchInputAriaLabel,\n      resultsPopover = true,\n      ...restProps\n    } = props;\n    const instructionTextId = useUID();\n    const { announcePolite } = useLiveLog();\n    const inputRef = useConsolidatedRef(ref);\n    const filterButtonRef = useRef<HTMLButtonElement>(null);\n    const filtersRef = useRef<HTMLDivElement>(null);\n    const searchResultsRef = useRef<HTMLDivElement>(null);\n\n    const [searchMenuOpen, setSearchMenuOpen] = useState(false);\n    const [filterMenuOpen, setFilterMenuOpen] = useState(false);\n    const [searchResultItems, setSearchResultItems] = useState<MenuItemProps[] | undefined>(\n      undefined\n    );\n    const [selectedFilter, setSelectedFilter] = useState(defaultFilter ?? '');\n    const [downPressed, setDownPressed] = useState(false);\n\n    const completeFilters = [t('all'), ...(filters ?? [])];\n    const hasFilters = completeFilters.length > 1;\n    const hasSearchResults = !!(searchResults && searchResults.length);\n    const hasRecentSearches = !!(recentSearches && recentSearches.length);\n    const showSearchMenu = (value || recentSearches?.length) && (searchResultItems || loadingProp);\n    const useRecents = hasRecentSearches && !value;\n    const loading = useRecents ? false : !!loadingProp;\n    const [selectedFilterValue, setSelectedFilterValue] = useState('All');\n    const searchMenuVisible =\n      (resultsPopover && showSearchMenu && searchMenuOpen) || (!resultsPopover && showSearchMenu);\n\n    useEscape(e => {\n      e.preventDefault();\n      if (searchMenuOpen) {\n        setSearchMenuOpen(false);\n      }\n      if (filterMenuOpen) {\n        setFilterMenuOpen(false);\n      }\n    });\n\n    const onKeyDown = useCallback(\n      (e: KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === 'Enter' && !downPressed) {\n          onSearchSubmit?.(value);\n        }\n        if (e.key === 'ArrowDown') {\n          setDownPressed(true);\n        }\n      },\n      [onSearchSubmit, downPressed, value]\n    );\n\n    useOuterEvent('click', [filterButtonRef], () => {\n      setFilterMenuOpen(false);\n    });\n\n    useOuterEvent('click', [searchResultsRef, inputRef, filtersRef], () => {\n      setSearchMenuOpen(false);\n    });\n\n    useEffect(() => {\n      setDownPressed(false);\n    }, [value]);\n\n    useEffect(() => {\n      let items: MenuItemProps[] | undefined = [];\n      if (hasSearchResults && value) {\n        items = searchResults;\n      } else if (useRecents) {\n        items = recentSearches;\n      } else if (!searchResults && (!recentSearches || recentSearches.length === 0)) {\n        items = undefined;\n      }\n      setSearchResultItems(items);\n    }, [searchResults, recentSearches, searchMenuOpen, hasSearchResults, hasRecentSearches, value]);\n\n    // Announce results\n    useEffect(() => {\n      if (!searchMenuVisible || loading) return;\n\n      const timeout = setTimeout(() => {\n        announcePolite({\n          message: t(\n            useRecents ? 'recent_results_count' : 'results_count',\n            [searchResultItems?.length ?? 0],\n            {\n              count: searchResultItems?.length ?? 0\n            }\n          ),\n          type: 'status'\n        });\n      }, 1000);\n\n      return () => {\n        clearTimeout(timeout);\n      };\n    }, [loading, searchMenuVisible, searchResultItems]);\n\n    const searchMenu = (\n      <Menu\n        as={StyledSearchMenu}\n        header={\n          recentSearches && !value ? (\n            <Text variant='secondary'>{t('recent_searches')}</Text>\n          ) : undefined\n        }\n        mode='action'\n        items={searchResultItems ?? []}\n        loading={loading}\n        footer={\n          advancedSearchLink ? (\n            <Link {...advancedSearchLink}>{t('advanced_search')}</Link>\n          ) : undefined\n        }\n        accent={hasSearchResults ? createStringMatcher(value, undefined, 'gi') : undefined}\n        focusControlEl={(downPressed && inputRef.current) || undefined}\n        aria-label={searchInputAriaLabel || t('search')}\n      />\n    );\n    return (\n      <>\n        <Flex container as={StyledSearchInput} hasFilters={hasFilters}>\n          {hasFilters ? (\n            <StyledMenuButton\n              text={selectedFilterValue}\n              variant='text'\n              icon='search'\n              aria-label={\n                selectedFilterValue === 'All'\n                  ? t('select_search_filter')\n                  : t('selected_search_filter', [selectedFilterValue])\n              }\n              menu={{\n                mode: 'single-select',\n                items: completeFilters.map(filter => ({\n                  primary: filter,\n                  id: filter,\n                  selected: filter === t('all') ? selectedFilter === '' : selectedFilter === filter,\n                  onClick: () => {\n                    setSelectedFilterValue(filter);\n                    setSelectedFilter(filter === t('all') ? '' : filter);\n                    onFilterChange?.(filter);\n                    inputRef.current?.focus();\n                  }\n                }))\n              }}\n            />\n          ) : (\n            <Flex\n              as={StyledSearchButton}\n              ref={filterButtonRef}\n              forwardedAs={hasFilters ? undefined : 'div'}\n              container={{\n                justify: 'center',\n                alignItems: 'center',\n                gap: selectedFilter ? 0.5 : undefined\n              }}\n              decoupled={hasFilters}\n              aria-label={hasFilters ? t('select_search_filter') : undefined}\n            >\n              <Icon name='search' />\n              {selectedFilter && <StyledSearchFilterText>{selectedFilter}</StyledSearchFilterText>}\n              {hasFilters && <Icon name='arrow-micro-down' />}\n            </Flex>\n          )}\n\n          <StyledSearchTextInput\n            ref={inputRef}\n            type='search'\n            aria-label={searchInputAriaLabel}\n            placeholder={placeholder}\n            {...restProps}\n            aria-describedby={searchMenuVisible ? instructionTextId : undefined}\n            value={value}\n            onChange={(e: ChangeEvent<HTMLInputElement>) => {\n              onSearchChange?.(e.target.value);\n              if (e.target.value) setSearchMenuOpen(true);\n            }}\n            onKeyDown={onKeyDown}\n            onFocus={() => {\n              setSearchMenuOpen(true);\n            }}\n            decoupled={hasFilters}\n            onBlur={() => {\n              setDownPressed(false);\n              if (!advancedSearchLink) {\n                setSearchMenuOpen(false);\n              }\n            }}\n            autoComplete='off'\n          />\n          {value && (\n            <StyledCancelButton\n              icon\n              onClick={() => {\n                onSearchChange?.('');\n                inputRef.current?.focus();\n              }}\n              variant='simple'\n              compact\n              label={t('clear')}\n            >\n              <Icon name='times' />\n            </StyledCancelButton>\n          )}\n        </Flex>\n        {showSearchMenu && resultsPopover && (\n          <Popover\n            as={StyledResultsPopover}\n            target={inputRef.current}\n            show={searchMenuOpen}\n            placement='bottom-start'\n            modifiers={[sameWidth]}\n            onBlur={() => {\n              setSearchMenuOpen(false);\n            }}\n            ref={searchResultsRef}\n          >\n            {searchMenu}\n          </Popover>\n        )}\n        {!resultsPopover && showSearchMenu && (\n          <StyledSearchResultsContainer>{searchMenu}</StyledSearchResultsContainer>\n        )}\n        {searchMenuVisible && (\n          <VisuallyHiddenText id={instructionTextId}>\n            {`${t('search_instructions')} `}\n          </VisuallyHiddenText>\n        )}\n      </>\n    );\n  }\n);\n\nexport default SearchInput;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
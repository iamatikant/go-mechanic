{"version":3,"file":"useShortcut.js","sourceRoot":"","sources":["../../src/hooks/useShortcut.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAC;AAIrC,OAAO,QAAQ,MAAM,YAAY,CAAC;AAClC,OAAO,kBAAkB,MAAM,sBAAsB,CAAC;AAEtD;;;;;GAKG;AACH,MAAM,WAAW,GAAG,CAClB,QAA8B,EAC9B,QAAoC,EACd,EAAE;IACxB,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,GAAG,kBAAkB,EAAE,CAAC,QAAQ,CAAC;IAE9D,QAAQ,CACN,UAAU,EACV,CAAC,CAAC,EAAE;QACF,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,KAAK,QAAQ;YAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;IAClD,CAAC,EACD;QACE,YAAY,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC;KACnC,CACF,CAAC;IAEF,OAAO;QACL,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS;KACtE,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,WAAW,CAAC","sourcesContent":["import { Shortcut } from 'shortcuts';\n\nimport type { ShortcutAction } from '../components/ShortcutManager/ShortcutManager.types';\n\nimport useEvent from './useEvent';\nimport useShortcutManager from './useShortcutManager';\n\n/**\n * Hook to attach a callback to the keyboard shortcut action.\n * @param actionId the identifier of the action to attach the callback to\n * @param callback function that should be invoked when given action gets triggered\n * @returns current shortcut bound to the given action in form of accelerator\n */\nconst useShortcut = (\n  actionId: ShortcutAction['id'],\n  callback: (e: ShortcutEvent) => void\n): { binding?: string } => {\n  const { [actionId]: binding } = useShortcutManager().bindings;\n\n  useEvent(\n    'shortcut',\n    e => {\n      if (e.detail.actionId === actionId) callback(e);\n    },\n    {\n      dependencies: [actionId, callback]\n    }\n  );\n\n  return {\n    binding: binding ? Shortcut.shortcut2accelerator(binding) : undefined\n  };\n};\n\nexport default useShortcut;\n"]}